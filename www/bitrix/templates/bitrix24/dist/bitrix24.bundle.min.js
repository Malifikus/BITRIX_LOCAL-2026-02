this.BX=this.BX||{};this.BX.Intranet=this.BX.Intranet||{};(function(e,s,t,a,i,l,o,r,n,d,c,v,b,p){"use strict";async function u(e){p.Loc.setMessage(e.messages);await h({...e,titleBar:p.Loc.getMessage("PARTNER_POPUP_TITLE"),sendButtonText:p.Loc.getMessage("PARTNER_POPUP_SEND_BUTTON")})}async function h(e){const s=e.titleBar;const t=e.sendButtonText;const a=e.partnerName;const i=e.partnerUrl;const[{Popup:l},{Button:o,ButtonColor:r}]=await Promise.all([p.Runtime.loadExtension("main.popup"),p.Runtime.loadExtension("ui.buttons")]);const n={className:"bitrix24-partner__popup",autoHide:false,cacheable:false,zIndex:0,offsetLeft:0,offsetTop:0,width:540,height:350,overlay:true,draggable:{restrict:true},closeByEsc:true,titleBar:s,closeIcon:true,content:`\n\t\t\t<div class="bitrix24-partner__popup-content">\n\t\t\t\t<div class="bitrix24-partner__popup-content_title">${p.Loc.getMessage("PARTNER_TITLE_FOR_NAME")}</div>\n\t\t\t\t<div class="bitrix24-partner__popup-content_main">\n\t\t\t\t\t<div class="bitrix24-partner__popup-content_name">${a}</div>\n\t\t\t\t\t<a class="bitrix24-partner__popup-content_link" href="${encodeURI(i)}" target="_blank">${p.Loc.getMessage("PARTNER_LINK_NAME_MORE")}</a>\n\t\t\t\t</div>\n\t\t\t\t<div class="bitrix24-partner__popup-content_desc">${p.Loc.getMessage("PARTNER_POPUP_DESCRIPTION_BOTTOM")}</div>\n\t\t\t</div>\n\t\t`,buttons:[new o({color:r.SUCCESS,text:t,onclick:async e=>{setTimeout((()=>{e.setClocking(true)}),200);await _();e.setClocking(false)}})]};const d=new l(n);d.show()}async function _(){const{PartnerForm:e}=await p.Runtime.loadExtension("ui.feedback.partnerform");const s={id:`intranet-license-partner-form-${parseInt(Math.random()*1e3,10)}`,source:"intranet.bitrix24.partner-connect-form"};e.show(s)}async function P(e){if(p.Type.isObject(e)===false){return}const s={...e,id:`intranet-license-partner-form-${p.Text.getRandom()}`};const{PartnerForm:t}=await p.Runtime.loadExtension("ui.feedback.partnerform");t.show(s)}const f=async()=>{await p.Runtime.loadExtension("helper");const e=p.Reflection.getClass("BX.Helper");e.show("redirect=detail&code=20267044")};class m{static async showConnectForm(e){return u(e)}static showIntegrationOrderForm(e){return P(e)}static async showHelper(){return f()}}var L=babelHelpers.classPrivateFieldLooseKey("handleChatMenuSelect");var g=babelHelpers.classPrivateFieldLooseKey("handleImLayoutChange");var B=babelHelpers.classPrivateFieldLooseKey("handleCounterUpdate");class k{constructor(){Object.defineProperty(this,B,{value:y});Object.defineProperty(this,g,{value:H});Object.defineProperty(this,L,{value:F});d.EventEmitter.subscribe("IM.Layout:onLayoutChange",babelHelpers.classPrivateFieldLooseBase(this,g)[g].bind(this));d.EventEmitter.subscribe("IM.Counters:onUpdate",babelHelpers.classPrivateFieldLooseBase(this,B)[B].bind(this));d.EventEmitter.subscribe("BX.Intranet.Bitrix24.ChatMenu:onSelect",babelHelpers.classPrivateFieldLooseBase(this,L)[L].bind(this))}getChatMenu(){const e=p.Reflection.getClass("BX.Main.interfaceButtonsManager");if(e){return e.getById("chat-menu")||null}return null}getCollaborationMenu(){const e=p.Reflection.getClass("BX.Main.interfaceButtonsManager");if(e){return e.getById("top_menu_id_collaboration")||null}return null}}function F(e){var s;const t=e.getData();const{id:a,entityId:i}=t;let l=(s=t.event)==null?void 0:s.target;if(l){l=l.closest(".main-buttons-item-link, .menu-popup-item")}const o=p.Reflection.getClass("BX.Messenger.Public");o==null?void 0:o.openNavigationItem({id:a,entityId:i,target:l})}function H(e){const s=e.getData();let t=s.from.name.toLowerCase();if(t==="market"&&s.from.entityId){t=`${t}_${s.from.entityId}`}let a=s.to.name.toLowerCase();if(a==="market"&&s.to.entityId){a=`${a}_${s.to.entityId}`}const i=this.getChatMenu();if(i!==null){i.unsetActive(t);i.setActive(a);i.reset()}const l=this.getCollaborationMenu();const o=p.Loc.getMessage("SITE_DIR")||"/";const r=window.location.pathname.toString().startsWith(`${o}online/`);if(l!==null){if(r){l.unsetActive(t);l.setActive(a)}l.reset()}}function y(e){const s=e.getData();const t=[this.getChatMenu(),this.getCollaborationMenu()];for(const e of t){if(e===null){continue}for(const[t,a]of Object.entries(s)){e.updateCounter(t,a)}}}function w(){const e=window.location.pathname;const s=C(["logout","login","back_url_pub","user_lang"]);return e+(s.length>0?`?${s}`:"")}function C(e){const s=window.location.search.slice(1);if(!p.Type.isStringFilled(s)){return""}const t=s.split("&");const a=p.Type.isArray(e)?e:[];let i="";for(const e of t){const s=e.split("=");const t=e.indexOf("=");const l=s[0];const o=p.Type.isStringFilled(s[1])?s[1]:false;if(!a.includes(l)){if(i!==""){i+="&"}i+=l+(t===-1?"":"=")+(o===false?"":o)}}return i}let O=e=>e,E,I;const T=(e={})=>{const{showIconButton:s=false}=e;return p.Tag.render(E||(E=O`
		<div class="toolbar-skeleton">
			<span class="toolbar-skeleton__page-title"></span>
			${0}
		</div>
	`),s?j():null)};function j(){return p.Tag.render(I||(I=O`
		<span class="toolbar-skeleton__icon-buttons">
			<span class="toolbar-skeleton__icon-button">
				<span class="toolbar-skeleton__icon-button-text"></span>
			</span>
		</span>
	`))}let x=e=>e,K,S,$,D,R;const A=(e={})=>{const{showNavigationPanel:s=true,showCounterPanel:t=false,rightButtonsCount:a=0}=e;return p.Tag.render(K||(K=x`
		<div class="actions-bar-skeleton">
			${0}
			${0}
			${0}
		</div>
	`),s?M():null,t?W():null,a>0?N(a):null)};function M(){return p.Tag.render(S||(S=x`
		<div class="navigation-skeleton">
				<div class="navigation-skeleton__item">
					<div class="navigation-skeleton__item-text"></div>
				</div>
			</div>
	`))}function W(){return p.Tag.render($||($=x`
		<div class="counters-skeleton">
			<div class="counters-skeleton__item">
				<div class="counters-skeleton__item-text"></div>
			</div>
		</div>
	`))}function N(e){const s=p.Tag.render(D||(D=x`<div class="actions-bar-skeleton__right-buttons"></div>`));for(let t=0;t<e;t++){const e=p.Tag.render(R||(R=x`
			<div class="actions-bar-skeleton__right-button">
				<div class="actions-bar-skeleton__right-button-text"></div>
			</div>
		`));p.Dom.append(e,s)}return s}let X=e=>e,U,q,G;const z=()=>p.Tag.render(U||(U=X`
		<div class="grid-skeleton-container --ui-context-content-light">
			<table class="grid-skeleton">
				<thead>
					<tr class="grid-skeleton__header-row">
						<th class="grid-skeleton__header-cell">
							<div class="grid-skeleton__checkbox"></div>
						</th>
						<th class="grid-skeleton__header-cell">
							<div class="grid-skeleton__avatar"></div>
						</th>
						<th class="grid-skeleton__header-cell">
							<div class="grid-skeleton__cell-title --short"></div>
						</th>
						<th class="grid-skeleton__header-cell">
							<div class="grid-skeleton__cell-title"></div>
						</th>
						<th class="grid-skeleton__header-cell">
							<div class="grid-skeleton__cell-title"></div>
						</th>
						<th class="grid-skeleton__header-cell">
							<div class="grid-skeleton__cell-title"></div>
						</th>
						<th class="grid-skeleton__header-cell">
							<div class="grid-skeleton__cell-title"></div>
						</th>
					</tr>
				</thead>
				${0}
			</table>
		</div>
	`),Y());function Y(){return p.Tag.render(q||(q=X`
		<tbody>
			${0}
			${0}
			${0}
			${0}
			${0}
			${0}
			${0}
		</tbody>
	`),V(),V(),V(),V(),V(),V(),V())}function V(){return p.Tag.render(G||(G=X`
		<tr class="grid-skeleton__row">
			<td class="grid-skeleton__cell">
				<div class="grid-skeleton__checkbox"></div>
			</td>
			<td class="grid-skeleton__cell">
				<div class="grid-skeleton__avatar"></div>
			</td>
			<td class="grid-skeleton__cell">
				<div class="grid-skeleton__cell-two-text">
					<div class="grid-skeleton__cell-title --long"></div>
					<div class="grid-skeleton__cell-title --short"></div>
				</div>
			</td>
			<td class="grid-skeleton__cell">
				<div class="grid-skeleton__cell-button"></div>
			</td>
			<td class="grid-skeleton__cell">
				<div class="grid-skeleton__avatar-title">
					<div class="grid-skeleton__avatar"></div>
					<div class="grid-skeleton__cell-title"></div>
				</div>
			</td>
			<td class="grid-skeleton__cell">
				<div class="grid-skeleton__avatar-title">
					<div class="grid-skeleton__avatar"></div>
					<div class="grid-skeleton__cell-title"></div>
				</div>
			</td>
			<td class="grid-skeleton__cell">
				<div class="grid-skeleton__avatar-title">
					<div class="grid-skeleton__avatar"></div>
					<div class="grid-skeleton__cell-title"></div>
				</div>
			</td>
		</tr>
	`))}let J=e=>e,Q;const Z=()=>p.Tag.render(Q||(Q=J`
		<div class="kanban-skeleton --stage-right">
			<div class="kanban-skeleton__col">
				<div class="kanban-skeleton__col-stage"></div>
				<div class="kanban-skeleton__col-tiles">
					<div class="kanban-skeleton__col-tile --lg"></div>
					<div class="kanban-skeleton__col-tile"></div>
				</div>
			</div>
			<div class="kanban-skeleton__col">
				<div class="kanban-skeleton__col-stage"></div>
				<div class="kanban-skeleton__col-tiles">
					<div class="kanban-skeleton__col-tile"></div>
					<div class="kanban-skeleton__col-tile --lg"></div>
				</div>
			</div>
			<div class="kanban-skeleton__col">
				<div class="kanban-skeleton__col-stage"></div>
				<div class="kanban-skeleton__col-tiles">
					<div class="kanban-skeleton__col-tile --lg"></div>
					<div class="kanban-skeleton__col-tile --lg"></div>
				</div>
			</div>
			<div class="kanban-skeleton__col">
				<div class="kanban-skeleton__col-stage"></div>
				<div class="kanban-skeleton__col-tiles">
					<div class="kanban-skeleton__col-tile --lg"></div>
					<div class="kanban-skeleton__col-tile"></div>
				</div>
			</div>
			<div class="kanban-skeleton__col">
				<div class="kanban-skeleton__col-stage"></div>
				<div class="kanban-skeleton__col-tiles">
					<div class="kanban-skeleton__col-tile --lg"></div>
					<div class="kanban-skeleton__col-tile --lg"></div>
				</div>
			</div>
			<div class="kanban-skeleton__col">
				<div class="kanban-skeleton__col-stage"></div>
				<div class="kanban-skeleton__col-tiles">
					<div class="kanban-skeleton__col-tile"></div>
					<div class="kanban-skeleton__col-tile --lg"></div>
				</div>
			</div>
		</div>
	`));let ee=e=>e,se,te,ae,ie,le,oe;var re=babelHelpers.classPrivateFieldLooseKey("refs");var ne=babelHelpers.classPrivateFieldLooseKey("showLoader");var de=babelHelpers.classPrivateFieldLooseKey("getGridSkeletonOptions");var ce=babelHelpers.classPrivateFieldLooseKey("createKanbanSkeleton");var ve=babelHelpers.classPrivateFieldLooseKey("getKanbanSkeletonOptions");var be=babelHelpers.classPrivateFieldLooseKey("createGridSkeleton");var pe=babelHelpers.classPrivateFieldLooseKey("bindEvents");class ue{constructor(){Object.defineProperty(this,pe,{value:Le});Object.defineProperty(this,be,{value:me});Object.defineProperty(this,ve,{value:fe});Object.defineProperty(this,ce,{value:Pe});Object.defineProperty(this,de,{value:_e});Object.defineProperty(this,ne,{value:he});Object.defineProperty(this,re,{writable:true,value:new n.MemoryCache});if(this.isEnabled()){babelHelpers.classPrivateFieldLooseBase(this,pe)[pe]()}}isEnabled(){return!p.Type.isUndefined(window.frameRequestStart)}isReady(){var e,s;return((e=window.BX)==null?void 0:(s=e.frameCache)==null?void 0:s.frameDataInserted)===true||!p.Type.isUndefined(window.frameRequestFail)}showLoader(){if(this.isReady()){return}const e=window.location.pathname;if(e==="/stream/"||e==="/stream/index.php"||e==="/index.php"){babelHelpers.classPrivateFieldLooseBase(this,ne)[ne](this.getLiveFeedSkeleton());return}const s=babelHelpers.classPrivateFieldLooseBase(this,ve)[ve](e);if(s!==null){babelHelpers.classPrivateFieldLooseBase(this,ne)[ne](babelHelpers.classPrivateFieldLooseBase(this,ce)[ce](s));return}const t=babelHelpers.classPrivateFieldLooseBase(this,de)[de](e);if(t!==null){babelHelpers.classPrivateFieldLooseBase(this,ne)[ne](babelHelpers.classPrivateFieldLooseBase(this,be)[be](t));return}babelHelpers.classPrivateFieldLooseBase(this,ne)[ne]()}getStubContainer(){return document.querySelector("#page-area")}getLoaderContainer(){return babelHelpers.classPrivateFieldLooseBase(this,re)[re].remember("loader",(()=>p.Tag.render(se||(se=ee`
				<div class="composite-skeleton-container">
					<div class="composite-loader-container">
						<svg class="composite-loader-circular" viewBox="25 25 50 50">
							<circle class="composite-loader-path" cx="50" cy="50" r="20" fill="none" stroke-miterlimit="10" />
						</svg>
					</div>
				</div>
			`))))}getLiveFeedSkeleton(){return babelHelpers.classPrivateFieldLooseBase(this,re)[re].remember("feed-skeleton",(()=>p.Tag.render(te||(te=ee`
				<div class="page top-menu-mode start-page no-background no-all-paddings no-page-header">
					<div class="page__workarea">
						<div class="page__sidebar">${0}</div>
						<main class="page__workarea-content">${0}</main>
					</div>
				</div>
			`),this.getLiveFeedSidebar(),this.getLiveFeedWorkArea())))}getLiveFeedSidebar(){return babelHelpers.classPrivateFieldLooseBase(this,re)[re].remember("feed-sidebar",(()=>p.Tag.render(ae||(ae=ee`
				<div class="skeleton__white-bg-element skeleton__sidebar skeleton__intranet-ustat">
					<div class="skeleton__graph-circle"></div>
					<div class="skeleton__graph-right">
						<div class="skeleton__graph-right_top">
							<div class="skeleton__graph-right_top-circle --first"></div>
							<div class="skeleton__graph-right_top-circle"></div>
							<div class="skeleton__graph-right_top-circle"></div>
							<div class="skeleton__graph-right_top-circle"></div>
							<div class="skeleton__graph-right_top-circle"></div>
							<div class="skeleton__graph-right_top-circle"></div>
							<div class="skeleton__graph-right_top-circle"></div>
						</div>
						<div class="skeleton__graph-right_bottom">
							<div class="skeleton__graph-right_bottom-line"></div>
							<div class="skeleton__graph-right_bottom-line"></div>
						</div>
					</div>
				</div>

				<div class="skeleton__white-bg-element skeleton__sidebar">
					<div class="skeleton__sidebar-header">
						<div class="skeleton__sidebar-header_line"></div>
						<div class="skeleton__sidebar-header_circle"></div>
					</div>
					<div class="skeleton__tasks-row">
						<div class="skeleton__tasks-row_line"></div>
						<div class="skeleton__tasks-row_short-line"></div>
						<div class="skeleton__tasks-row_circle"></div>
					</div>
					<div class="skeleton__tasks-row">
						<div class="skeleton__tasks-row_line"></div>
						<div class="skeleton__tasks-row_short-line"></div>
						<div class="skeleton__tasks-row_circle"></div>
					</div>
					<div class="skeleton__tasks-row">
						<div class="skeleton__tasks-row_line"></div>
						<div class="skeleton__tasks-row_short-line"></div>
						<div class="skeleton__tasks-row_circle"></div>
					</div>
					<div class="skeleton__tasks-row">
						<div class="skeleton__tasks-row_line"></div>
						<div class="skeleton__tasks-row_short-line"></div>
						<div class="skeleton__tasks-row_circle"></div>
					</div>
				</div>
				<div class="skeleton__white-bg-element skeleton__sidebar">
					<div class="skeleton__sidebar-header">
						<div class="skeleton__sidebar-header_line"></div>
					</div>
					<div class="skeleton__birthdays-row">
						<div class="skeleton__birthdays-circle"></div>
						<div class="skeleton__birthdays-info">
							<div class="skeleton__birthdays-name"></div>
							<div class="skeleton__birthdays-date"></div>
						</div>
					</div>
					<div class="skeleton__birthdays-row">
						<div class="skeleton__birthdays-circle"></div>
						<div class="skeleton__birthdays-info">
							<div class="skeleton__birthdays-name"></div>
							<div class="skeleton__birthdays-date"></div>
						</div>
					</div>
					<div class="skeleton__birthdays-row">
						<div class="skeleton__birthdays-circle"></div>
						<div class="skeleton__birthdays-info">
							<div class="skeleton__birthdays-name"></div>
							<div class="skeleton__birthdays-date"></div>
						</div>
					</div>
					<div class="skeleton__birthdays-row">
						<div class="skeleton__birthdays-circle"></div>
						<div class="skeleton__birthdays-info">
							<div class="skeleton__birthdays-name"></div>
							<div class="skeleton__birthdays-date"></div>
						</div>
					</div>
				</div>
				<div class="skeleton__white-bg-element skeleton__sidebar">
					<div class="skeleton__sidebar-header">
						<div class="skeleton__sidebar-header_line"></div>
					</div>
					<div class="skeleton__birthdays-row">
						<div class="skeleton__birthdays-circle"></div>
						<div class="skeleton__birthdays-info">
							<div class="skeleton__birthdays-name"></div>
							<div class="skeleton__birthdays-date"></div>
						</div>
					</div>
					<div class="skeleton__birthdays-row">
						<div class="skeleton__birthdays-circle"></div>
						<div class="skeleton__birthdays-info">
							<div class="skeleton__birthdays-name"></div>
							<div class="skeleton__birthdays-date"></div>
						</div>
					</div>
					<div class="skeleton__birthdays-row">
						<div class="skeleton__birthdays-circle"></div>
						<div class="skeleton__birthdays-info">
							<div class="skeleton__birthdays-name"></div>
							<div class="skeleton__birthdays-date"></div>
						</div>
					</div>
					<div class="skeleton__birthdays-row">
						<div class="skeleton__birthdays-circle"></div>
						<div class="skeleton__birthdays-info">
							<div class="skeleton__birthdays-name"></div>
							<div class="skeleton__birthdays-date"></div>
						</div>
					</div>
				</div>
			`))))}getLiveFeedWorkArea(){return babelHelpers.classPrivateFieldLooseBase(this,re)[re].remember("feed-work-area",(()=>p.Tag.render(ie||(ie=ee`
				<div class="skeleton__white-bg-element skeleton__feed-wrap">
					<div class="skeleton__feed-wrap_header">
						<div class="skeleton__feed-wrap_header-link --long"></div>
						<div class="skeleton__feed-wrap_header-link --one"></div>
						<div class="skeleton__feed-wrap_header-link --two"></div>
						<div class="skeleton__feed-wrap_header-link --one"></div>
						<div class="skeleton__feed-wrap_header-link --two"></div>
					</div>
					<div class="skeleton__feed-wrap_header-content">
						<div class="skeleton__feed-wrap_header-text"></div>
					</div>
				</div>
				<div class="skeleton__title-block">
					<div class="skeleton__title-block_text"></div>
				</div>
				<div class="skeleton__white-bg-element skeleton__feed-item">
					<div class="skeleton__feed-item_user-icon"></div>
					<div class="skeleton__feed-item_content">
						<div class="skeleton__feed-item_main">
							<div class="skeleton__feed-item_text --name"></div>
							<div class="skeleton__feed-item_date"></div>
							<div class="skeleton__feed-item_text"></div>
							<div class="skeleton__feed-item_text"></div>
							<div class="skeleton__feed-item_text"></div>
							<div class="skeleton__feed-item_text"></div>
							<div class="skeleton__feed-item_text --short"></div>
						</div>
						<div class="skeleton__feed-item_nav">
							<div class="skeleton__feed-item_nav-line --one"></div>
							<div class="skeleton__feed-item_nav-line --two"></div>
							<div class="skeleton__feed-item_nav-line --three"></div>
							<div class="skeleton__feed-item_nav-line --four"></div>
						</div>
						<div class="skeleton__feed-item_like">
							<div class="skeleton__feed-item_like-icon"></div>
							<div class="skeleton__feed-item_like-name"></div>
						</div>
						<div class="skeleton__feed-item_comment">
							<div class="skeleton__feed-item_comment-icon"></div>
							<div class="skeleton__feed-item_comment-block">
								<div class="skeleton__feed-item_comment-text"></div>
							</div>
						</div>
					</div>
				</div>
				<div class="skeleton__white-bg-element skeleton__feed-item">
					<div class="skeleton__feed-item_user-icon"></div>
					<div class="skeleton__feed-item_content">
						<div class="skeleton__feed-item_main">
							<div class="skeleton__feed-item_text --name"></div>
							<div class="skeleton__feed-item_date"></div>
							<div class="skeleton__feed-item_text"></div>
							<div class="skeleton__feed-item_text"></div>
							<div class="skeleton__feed-item_text"></div>
							<div class="skeleton__feed-item_text"></div>
							<div class="skeleton__feed-item_text --short"></div>
						</div>
						<div class="skeleton__feed-item_nav">
							<div class="skeleton__feed-item_nav-line --one"></div>
							<div class="skeleton__feed-item_nav-line --two"></div>
							<div class="skeleton__feed-item_nav-line --three"></div>
							<div class="skeleton__feed-item_nav-line --four"></div>
						</div>
						<div class="skeleton__feed-item_like">
							<div class="skeleton__feed-item_like-icon"></div>
							<div class="skeleton__feed-item_like-name"></div>
						</div>
						<div class="skeleton__feed-item_comment">
							<div class="skeleton__feed-item_comment-icon"></div>
							<div class="skeleton__feed-item_comment-block">
								<div class="skeleton__feed-item_comment-text"></div>
							</div>
						</div>
					</div>
				</div>
				<div class="skeleton__white-bg-element skeleton__feed-item">
					<div class="skeleton__feed-item_user-icon"></div>
					<div class="skeleton__feed-item_content">
						<div class="skeleton__feed-item_main">
							<div class="skeleton__feed-item_text --name"></div>
							<div class="skeleton__feed-item_date"></div>
							<div class="skeleton__feed-item_text"></div>
							<div class="skeleton__feed-item_text"></div>
							<div class="skeleton__feed-item_text"></div>
							<div class="skeleton__feed-item_text"></div>
							<div class="skeleton__feed-item_text --short"></div>
						</div>
						<div class="skeleton__feed-item_nav">
							<div class="skeleton__feed-item_nav-line --one"></div>
							<div class="skeleton__feed-item_nav-line --two"></div>
							<div class="skeleton__feed-item_nav-line --three"></div>
							<div class="skeleton__feed-item_nav-line --four"></div>
						</div>
						<div class="skeleton__feed-item_like">
							<div class="skeleton__feed-item_like-icon"></div>
							<div class="skeleton__feed-item_like-name"></div>
						</div>
						<div class="skeleton__feed-item_comment">
							<div class="skeleton__feed-item_comment-icon"></div>
							<div class="skeleton__feed-item_comment-block">
								<div class="skeleton__feed-item_comment-text"></div>
							</div>
						</div>
					</div>
				</div>
			`))))}}function he(e=null){const s=this.getStubContainer();const t=e!=null?e:this.getLoaderContainer();if(!s||t.parentNode){return}p.Dom.append(t,s)}function _e(e){const s=[[/^\/workgroups\/$/,{actionsBarOptions:true}],[/^\/crm\/(lead|deal|quote)\/(list|category)\/.*?$/,{toolbarOptions:{showIconButton:true},actionsBarOptions:{showCounterPanel:true,rightButtonsCount:2}}],[/^\/crm\/(contact|company)\/list\/.*?$/,{toolbarOptions:{showIconButton:true},actionsBarOptions:{rightButtonsCount:1}}],[/^\/crm\/type\/\d+\/list\/.*?$/,{toolbarOptions:{showIconButton:true},actionsBarOptions:{rightButtonsCount:1}}],[/^\/crm\/configs\/mycompany\/.*?$/,{toolbarOptions:{showIconButton:true}}],[/^\/crm\/(events|activity|webform|copilot-call-assessment|catalog)\/.*?$/,{}],[/^\/crm\/type\/$/,{}],[/^\/company\/$/,{toolbarOptions:{showIconButton:true},actionsBarOptions:{rightButtonsCount:1}}],[/^\/company\/personal\/user\/\d+\/tasks\/(projects|flow|scrum)\/.*?$/,{actionsBarOptions:{rightButtonsCount:2}}],[/^\/company\/personal\/user\/\d+\/tasks\/(departments|templates)\/.*?$/,{}],[/^\/sign\/(list|contact)\/.*?$/,{toolbarOptions:{showIconButton:true},actionsBarOptions:{rightButtonsCount:1}}],[/^\/sign\/mysafe\/.*?$/,{}],[/^\/sign\/b2e\/list\/.*?$/,{toolbarOptions:{showIconButton:true},actionsBarOptions:{rightButtonsCount:1}}],[/^\/sign\/b2e\/my-documents\/.*?$/,{actionsBarOptions:true}],[/^\/sign\/b2e\/(settings|member_dynamic_settings|signers)\/.*?$/,{}],[/^\/shop\/documents\/(contractors|contractors_contacts)\/.*?$/,{toolbarOptions:{showIconButton:true},actionsBarOptions:{rightButtonsCount:1}}],[/^\/shop\/documents\/.*?$/,{toolbarOptions:{showIconButton:true}}],[/^\/shop\/catalog\/\d+\/.*?$/,{}],[/^\/shop\/documents-catalog\/.*?$/,{}],[/^\/shop\/orders\/.*?$/,{toolbarOptions:{showIconButton:true},actionsBarOptions:{rightButtonsCount:1}}],[/^\/shop\/settings\/(sale_location_type_list|sale_location_node_list|sale_person_type|sale_transact_admin|sale_basket)\/.*?$/,{}],[/^\/company\/lists\/\d+\/view\/\d+\/.*?$/,{toolbarOptions:{showIconButton:true}}],[/^\/company\/lists\/\d+\/fields\/.*?$/,{toolbarOptions:{showIconButton:true}}],[/^\/automation\/type\/.*?$/,{}],[/^\/bizproc\/userprocesses\/.*?$/,{actionsBarOptions:true}],[/^\/bizproc\/(start|bizproc)\/.*?$/,{}],[/^\/marketing\/(letter|ads|segment|template|blacklist|contact|rc|toloka)\/.*?$/,{}],[/^\/conference\/.*?$/,{}],[/^\/bi\/dashboard\/.*?$/,{}],[/^\/rpa\/tasks\/.*?$/,{}]];for(const t of s){if(t[0].test(e)){return t[1]}}return null}function Pe(e){var s;const t=(s=e==null?void 0:e.actionsBarOptions)!=null?s:{};const a=p.Type.isObject(e==null?void 0:e.actionsBarOptions)||(e==null?void 0:e.actionsBarOptions)===true;return p.Tag.render(le||(le=ee`
			<div class="grid-skeleton-wrapper">
				${0}
				${0}
				${0}
			</div>
		`),T(e.toolbarOptions),a?A(t):null,Z())}function fe(e){const s=[[/^\/crm\/(lead|deal)\/(kanban|activity)\/.*?$/,{toolbarOptions:{showIconButton:true},actionsBarOptions:{rightButtonsCount:2}}],[/^\/crm\/type\/\d+\/kanban\/.*?$/,{}],[/^\/sign\/$/,{toolbarOptions:{showIconButton:true},actionsBarOptions:{rightButtonsCount:1}}],[/^\/sign\/b2e\/$/,{toolbarOptions:{showIconButton:true},actionsBarOptions:{rightButtonsCount:1}}]];for(const t of s){if(t[0].test(e)){return t[1]}}return null}function me(e){var s;const t=(s=e==null?void 0:e.actionsBarOptions)!=null?s:{};const a=p.Type.isObject(e==null?void 0:e.actionsBarOptions)||(e==null?void 0:e.actionsBarOptions)===true;return p.Tag.render(oe||(oe=ee`
			<div class="grid-skeleton-wrapper">
				${0}
				${0}
				${0}
			</div>
		`),T(e.toolbarOptions),a?A(t):null,z())}function Le(){d.EventEmitter.subscribe("onFrameDataRequestFail",(()=>{console.error("Composite ajax request failed");top.location=`/auth/?backurl=${encodeURIComponent(w())}`}));d.EventEmitter.subscribe("onAjaxFailure",(e=>{const[s,t]=e.getCompatData();const a=`/auth/?backurl=${w()}`;if(this.isEnabled()&&(s==="auth"||s==="status"&&t===401)){console.error("Auth ajax request failed",s,t);top.location=a}}));if(r.PULL){r.PULL.subscribe({moduleId:"main",command:"composite-cache-up",callback:()=>{setTimeout((()=>{const e=BX.localStorage.get("ajax-composite-cache-up-lock");if(!e){BX.localStorage.set("ajax-composite-cache-up-lock","EXECUTE",2);p.ajax({url:"/blank.php",method:"GET",processData:false,skipBxHeader:true,emulateOnload:false})}}),Math.floor(Math.random()*500))}})}}var ge=babelHelpers.classPrivateFieldLooseKey("isTransparentMode");var Be=babelHelpers.classPrivateFieldLooseKey("isScrollMode");var ke=babelHelpers.classPrivateFieldLooseKey("scrollModeThreshold");var Fe=babelHelpers.classPrivateFieldLooseKey("goTopButton");class He{constructor(e){Object.defineProperty(this,ge,{writable:true,value:false});Object.defineProperty(this,Be,{writable:true,value:false});Object.defineProperty(this,ke,{writable:true,value:window.innerHeight});Object.defineProperty(this,Fe,{writable:true,value:void 0});const s=this.redraw.bind(this);p.Event.bind(window,"scroll",s,{passive:true});p.Event.bind(window,"resize",s);babelHelpers.classPrivateFieldLooseBase(this,ke)[ke]=window.innerHeight;babelHelpers.classPrivateFieldLooseBase(this,Fe)[Fe]=e.goTopButton;babelHelpers.classPrivateFieldLooseBase(this,Fe)[Fe].subscribe("show",(()=>{p.Dom.addClass(this.getContainer(),"--show-scroll-btn")}));babelHelpers.classPrivateFieldLooseBase(this,Fe)[Fe].subscribe("hide",(()=>{p.Dom.removeClass(this.getContainer(),"--show-scroll-btn")}));p.Event.ready((()=>{this.redraw()}))}redraw(){const e=this.getContainer();babelHelpers.classPrivateFieldLooseBase(this,ke)[ke]=window.innerHeight;if(window.pageYOffset>babelHelpers.classPrivateFieldLooseBase(this,ke)[ke]){if(!babelHelpers.classPrivateFieldLooseBase(this,Be)[Be]){p.Dom.addClass(e,"--scroll-mode");babelHelpers.classPrivateFieldLooseBase(this,Be)[Be]=true}}else if(babelHelpers.classPrivateFieldLooseBase(this,Be)[Be]){p.Dom.removeClass(e,"--scroll-mode");babelHelpers.classPrivateFieldLooseBase(this,Be)[Be]=false}if(!e||e.dataset.lockRedraw==="true"){return}const s=document.documentElement.scrollWidth>window.innerWidth;if(s>0){if(!babelHelpers.classPrivateFieldLooseBase(this,ge)[ge]){p.Dom.addClass(e,"--transparent");babelHelpers.classPrivateFieldLooseBase(this,ge)[ge]=true}}else if(babelHelpers.classPrivateFieldLooseBase(this,ge)[ge]){p.Dom.removeClass(e,"--transparent");babelHelpers.classPrivateFieldLooseBase(this,ge)[ge]=false}}getContainer(){return document.getElementById("right-bar")}}class ye{getContainer(){return document.getElementById("header")}}class we{constructor(){d.EventEmitter.subscribe("Kanban.Grid:onFixedModeStart",(()=>{this.hide()}))}show(){p.Dom.removeClass(this.getContainer(),"hidden")}hide(){p.Dom.addClass(this.getContainer(),"hidden")}getContainer(){return document.getElementById("air-footer")}}var Ce=babelHelpers.classPrivateFieldLooseKey("lastScrollOffset");var Oe=babelHelpers.classPrivateFieldLooseKey("isReversed");var Ee=babelHelpers.classPrivateFieldLooseKey("button");var Ie=babelHelpers.classPrivateFieldLooseKey("show");var Te=babelHelpers.classPrivateFieldLooseKey("hide");var je=babelHelpers.classPrivateFieldLooseKey("getButtonWrapper");var xe=babelHelpers.classPrivateFieldLooseKey("bindEvents");var Ke=babelHelpers.classPrivateFieldLooseKey("handleScroll");var Se=babelHelpers.classPrivateFieldLooseKey("handleButtonClick");var $e=babelHelpers.classPrivateFieldLooseKey("setReversed");var De=babelHelpers.classPrivateFieldLooseKey("getButton");class Re extends d.EventEmitter{constructor(){super();Object.defineProperty(this,De,{value:Ge});Object.defineProperty(this,$e,{value:qe});Object.defineProperty(this,Se,{value:Ue});Object.defineProperty(this,Ke,{value:Xe});Object.defineProperty(this,xe,{value:Ne});Object.defineProperty(this,je,{value:We});Object.defineProperty(this,Te,{value:Me});Object.defineProperty(this,Ie,{value:Ae});Object.defineProperty(this,Ce,{writable:true,value:0});Object.defineProperty(this,Oe,{writable:true,value:false});Object.defineProperty(this,Ee,{writable:true,value:void 0});this.setEventNamespace("GoTopButton");babelHelpers.classPrivateFieldLooseBase(this,xe)[xe]()}isShown(){return p.Dom.hasClass(babelHelpers.classPrivateFieldLooseBase(this,je)[je](),"--show")}}function Ae(){this.emit("show");p.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,je)[je](),"--show")}function Me(){this.emit("hide");p.Dom.removeClass(babelHelpers.classPrivateFieldLooseBase(this,je)[je](),"--show")}function We(){return document.getElementById("goTopButtonWrapper")}function Ne(){p.Event.ready((()=>{babelHelpers.classPrivateFieldLooseBase(this,Ke)[Ke]();p.Event.bind(window,"scroll",(()=>{babelHelpers.classPrivateFieldLooseBase(this,Ke)[Ke]()}));p.Event.bind(babelHelpers.classPrivateFieldLooseBase(this,je)[je](),"click",(()=>{babelHelpers.classPrivateFieldLooseBase(this,Se)[Se]()}))}))}function Xe(){if(window.pageYOffset>document.documentElement.clientHeight){babelHelpers.classPrivateFieldLooseBase(this,Ie)[Ie]();if(babelHelpers.classPrivateFieldLooseBase(this,Oe)[Oe]){babelHelpers.classPrivateFieldLooseBase(this,$e)[$e](false);babelHelpers.classPrivateFieldLooseBase(this,Ce)[Ce]=0}}else if(babelHelpers.classPrivateFieldLooseBase(this,Oe)[Oe]===false){babelHelpers.classPrivateFieldLooseBase(this,Te)[Te]()}}function Ue(){if(babelHelpers.classPrivateFieldLooseBase(this,Oe)[Oe]){babelHelpers.classPrivateFieldLooseBase(this,$e)[$e](false);window.scrollTo({top:babelHelpers.classPrivateFieldLooseBase(this,Ce)[Ce],behavior:"instant"});babelHelpers.classPrivateFieldLooseBase(this,Ce)[Ce]=0}else{babelHelpers.classPrivateFieldLooseBase(this,$e)[$e](true);babelHelpers.classPrivateFieldLooseBase(this,Ce)[Ce]=window.pageYOffset;window.scrollTo({top:0,behavior:"instant"})}}function qe(e=true){babelHelpers.classPrivateFieldLooseBase(this,Oe)[Oe]=e;if(babelHelpers.classPrivateFieldLooseBase(this,Oe)[Oe]){babelHelpers.classPrivateFieldLooseBase(this,De)[De]().setIcon(s.ButtonIcon.ANGLE_DOWN)}else{babelHelpers.classPrivateFieldLooseBase(this,De)[De]().setIcon(s.ButtonIcon.ANGLE_UP)}}function Ge(){return babelHelpers.classPrivateFieldLooseBase(this,Ee)[Ee]||s.ButtonManager.createFromNode(document.getElementById("goTopButton"))}var ze=babelHelpers.classPrivateFieldLooseKey("handleCounterUpdate");var Ye=babelHelpers.classPrivateFieldLooseKey("handleLiveFeedCounterDecrement");class Ve{constructor(){Object.defineProperty(this,Ye,{value:Qe});Object.defineProperty(this,ze,{value:Je});d.EventEmitter.subscribe("onImUpdateCounterMessage",babelHelpers.classPrivateFieldLooseBase(this,ze)[ze].bind(this));d.EventEmitter.subscribe("onCounterDecrement",babelHelpers.classPrivateFieldLooseBase(this,Ye)[Ye].bind(this))}getMenu(){const e=p.Reflection.getClass("BX.Main.interfaceButtonsManager");if(e){return e.getById("top_menu_id_collaboration")}return null}}function Je(e){const s=this.getMenu();const[t]=e.getCompatData();s==null?void 0:s.updateCounter("im-message",t)}function Qe(e){const[s]=e.getCompatData();const t=this.getMenu();if(t){const e=t.getItemById("menu_live_feed");if(e){const a=t.getItemData(e);const{COUNTER:i,COUNTER_ID:l}=a;t==null?void 0:t.updateCounter(l,Math.max(0,i-s))}}}var Ze=babelHelpers.classPrivateFieldLooseKey("rightBar");var es=babelHelpers.classPrivateFieldLooseKey("header");var ss=babelHelpers.classPrivateFieldLooseKey("footer");var ts=babelHelpers.classPrivateFieldLooseKey("composite");var as=babelHelpers.classPrivateFieldLooseKey("chatMenu");var is=babelHelpers.classPrivateFieldLooseKey("goTopButton");var ls=babelHelpers.classPrivateFieldLooseKey("collaborationMenu");var os=babelHelpers.classPrivateFieldLooseKey("patchPopupMenu");var rs=babelHelpers.classPrivateFieldLooseKey("patchJSClock");var ns=babelHelpers.classPrivateFieldLooseKey("preventFromIframe");var ds=babelHelpers.classPrivateFieldLooseKey("applyUserAgentRules");var cs=babelHelpers.classPrivateFieldLooseKey("patchRestAPI");class vs{constructor(){Object.defineProperty(this,cs,{value:_s});Object.defineProperty(this,ds,{value:hs});Object.defineProperty(this,ns,{value:us});Object.defineProperty(this,rs,{value:ps});Object.defineProperty(this,os,{value:bs});Object.defineProperty(this,Ze,{writable:true,value:null});Object.defineProperty(this,es,{writable:true,value:null});Object.defineProperty(this,ss,{writable:true,value:null});Object.defineProperty(this,ts,{writable:true,value:null});Object.defineProperty(this,as,{writable:true,value:null});Object.defineProperty(this,is,{writable:true,value:null});Object.defineProperty(this,ls,{writable:true,value:null});babelHelpers.classPrivateFieldLooseBase(this,ns)[ns]();babelHelpers.classPrivateFieldLooseBase(this,os)[os]();babelHelpers.classPrivateFieldLooseBase(this,cs)[cs]();babelHelpers.classPrivateFieldLooseBase(this,rs)[rs]();babelHelpers.classPrivateFieldLooseBase(this,is)[is]=new Re;babelHelpers.classPrivateFieldLooseBase(this,Ze)[Ze]=new He({goTopButton:babelHelpers.classPrivateFieldLooseBase(this,is)[is]});babelHelpers.classPrivateFieldLooseBase(this,es)[es]=new ye;babelHelpers.classPrivateFieldLooseBase(this,ss)[ss]=new we;babelHelpers.classPrivateFieldLooseBase(this,ts)[ts]=new ue;babelHelpers.classPrivateFieldLooseBase(this,as)[as]=new k;babelHelpers.classPrivateFieldLooseBase(this,ls)[ls]=new Ve;babelHelpers.classPrivateFieldLooseBase(this,ds)[ds]()}getRightBar(){return babelHelpers.classPrivateFieldLooseBase(this,Ze)[Ze]}getHeader(){return babelHelpers.classPrivateFieldLooseBase(this,es)[es]}getFooter(){return babelHelpers.classPrivateFieldLooseBase(this,ss)[ss]}getComposite(){return babelHelpers.classPrivateFieldLooseBase(this,ts)[ts]}getChatMenu(){return babelHelpers.classPrivateFieldLooseBase(this,as)[as]}getCollaborationMenu(){return babelHelpers.classPrivateFieldLooseBase(this,ls)[ls]}}function bs(){d.EventEmitter.subscribe("BX.Main.Menu:onInit",(e=>{const{params:s}=e.getData();if(s&&p.Type.isNumber(s.maxWidth)){s.maxWidth+=10}}))}function ps(){d.EventEmitter.subscribe("onJCClockInit",(e=>{window.JCClock.setOptions({centerXInline:83,centerX:83,centerYInline:67,centerY:79,minuteLength:31,hourLength:26,popupHeight:229,inaccuracy:15,cancelCheckClick:true})}))}function us(){const e=window!==window.top;if(e){window.top.location=window.location.href}}function hs(){if(!p.Browser.isMobile()&&document.referrer!==""&&document.referrer.startsWith(location.origin)===false){p.Runtime.loadExtension("intranet.recognize-links")}}function _s(){const e=p.Reflection.getClass("BX.rest.AppLayout");if(!e){return}const s=e.initializePlacement("DEFAULT");s.prototype.showHelper=async function(e,s){let t="";if(p.Type.isNumber(e)){t=`redirect=detail&code=${e}`}else if(p.Type.isStringFilled(e)){t=e}else if(p.Type.isPlainObject(e)){for(const s of Object.keys(e)){if(t.length>0){t+="&"}t+=`${s}=${e[s]}`}}if(t.length>0){await p.Runtime.loadExtension("helper");const e=p.Reflection.getClass("BX.Helper");e.show(t)}}}var Ps=babelHelpers.classPrivateFieldLooseKey("searchOptions");var fs=babelHelpers.classPrivateFieldLooseKey("extensionLoaded");var ms=babelHelpers.classPrivateFieldLooseKey("container");var Ls=babelHelpers.classPrivateFieldLooseKey("button");var gs=babelHelpers.classPrivateFieldLooseKey("input");var Bs=babelHelpers.classPrivateFieldLooseKey("searchTitleInstance");var ks=babelHelpers.classPrivateFieldLooseKey("handleButtonClick");var Fs=babelHelpers.classPrivateFieldLooseKey("handleInputFocusOut");class Hs{constructor(e){Object.defineProperty(this,Fs,{value:ws});Object.defineProperty(this,ks,{value:ys});Object.defineProperty(this,Ps,{writable:true,value:{}});Object.defineProperty(this,fs,{writable:true,value:false});Object.defineProperty(this,ms,{writable:true,value:null});Object.defineProperty(this,Ls,{writable:true,value:null});Object.defineProperty(this,gs,{writable:true,value:null});Object.defineProperty(this,Bs,{writable:true,value:null});babelHelpers.classPrivateFieldLooseBase(this,ms)[ms]=document.getElementById(e.containerId);babelHelpers.classPrivateFieldLooseBase(this,Ls)[Ls]=document.getElementById(e.buttonId);babelHelpers.classPrivateFieldLooseBase(this,gs)[gs]=document.getElementById(e.inputId);babelHelpers.classPrivateFieldLooseBase(this,Ps)[Ps]=e.searchOptions;p.Event.bind(babelHelpers.classPrivateFieldLooseBase(this,Ls)[Ls],"click",babelHelpers.classPrivateFieldLooseBase(this,ks)[ks].bind(this));p.Event.bind(babelHelpers.classPrivateFieldLooseBase(this,gs)[gs],"focusout",babelHelpers.classPrivateFieldLooseBase(this,Fs)[Fs].bind(this))}open(){p.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,ms)[ms],"--active");babelHelpers.classPrivateFieldLooseBase(this,gs)[gs].disabled=false;setTimeout((()=>{babelHelpers.classPrivateFieldLooseBase(this,gs)[gs].focus()}),200)}close(){p.Dom.removeClass(babelHelpers.classPrivateFieldLooseBase(this,ms)[ms],"--active");babelHelpers.classPrivateFieldLooseBase(this,gs)[gs].disabled=true;if(babelHelpers.classPrivateFieldLooseBase(this,Bs)[Bs]!==null){babelHelpers.classPrivateFieldLooseBase(this,Bs)[Bs].clearSearch();babelHelpers.classPrivateFieldLooseBase(this,Bs)[Bs].closeResult()}}}function ys(){if(p.Dom.hasClass(babelHelpers.classPrivateFieldLooseBase(this,ms)[ms],"--active")){this.close()}else{this.open()}if(babelHelpers.classPrivateFieldLooseBase(this,fs)[fs]){return}babelHelpers.classPrivateFieldLooseBase(this,fs)[fs]=true;p.Runtime.loadExtension("intranet.search_title").then((()=>{const e=p.Reflection.getClass("BX.Intranet.SearchTitle");babelHelpers.classPrivateFieldLooseBase(this,Bs)[Bs]=new e(babelHelpers.classPrivateFieldLooseBase(this,Ps)[Ps])})).catch((e=>{console.error(e)}))}function ws(e){if(!p.Type.isStringFilled(babelHelpers.classPrivateFieldLooseBase(this,gs)[gs].value)&&e.relatedTarget!==babelHelpers.classPrivateFieldLooseBase(this,Ls)[Ls]){this.close()}}var Cs=babelHelpers.classPrivateFieldLooseKey("avatarWrapper");var Os=babelHelpers.classPrivateFieldLooseKey("cache");var Es=babelHelpers.classPrivateFieldLooseKey("options");var Is=babelHelpers.classPrivateFieldLooseKey("showWidget");var Ts=babelHelpers.classPrivateFieldLooseKey("getWidgetLoader");var js=babelHelpers.classPrivateFieldLooseKey("getContent");var xs=babelHelpers.classPrivateFieldLooseKey("showCounter");var Ks=babelHelpers.classPrivateFieldLooseKey("setHiddenAvatar");var Ss=babelHelpers.classPrivateFieldLooseKey("setVisibleAvatar");var $s=babelHelpers.classPrivateFieldLooseKey("showWorkTimeState");var Ds=babelHelpers.classPrivateFieldLooseKey("updateStateButton");var Rs=babelHelpers.classPrivateFieldLooseKey("getCounterWrapper");var As=babelHelpers.classPrivateFieldLooseKey("getShortWorkTimeStateWrapper");var Ms=babelHelpers.classPrivateFieldLooseKey("getCounter");var Ws=babelHelpers.classPrivateFieldLooseKey("calculateCounterValue");var Ns=babelHelpers.classPrivateFieldLooseKey("getWorkTimeState");var Xs=babelHelpers.classPrivateFieldLooseKey("setEventHandlersForUpdateCounter");var Us=babelHelpers.classPrivateFieldLooseKey("setEventHandlerForChangeAvatar");class qs{static init(e){babelHelpers.classPrivateFieldLooseBase(this,Es)[Es]=e;babelHelpers.classPrivateFieldLooseBase(this,Cs)[Cs]=document.querySelector('[data-id="bx-avatar-widget"]');babelHelpers.classPrivateFieldLooseBase(this,Us)[Us]();if(babelHelpers.classPrivateFieldLooseBase(this,Es)[Es].signDocumentsCounter>0||babelHelpers.classPrivateFieldLooseBase(this,Es)[Es].verifyPhoneCounter){babelHelpers.classPrivateFieldLooseBase(this,xs)[xs]();babelHelpers.classPrivateFieldLooseBase(this,Xs)[Xs]()}if(babelHelpers.classPrivateFieldLooseBase(this,Es)[Es].workTimeAvailable){babelHelpers.classPrivateFieldLooseBase(this,$s)[$s]()}p.Event.bind(babelHelpers.classPrivateFieldLooseBase(this,Cs)[Cs],"click",(()=>{p.Event.unbindAll(babelHelpers.classPrivateFieldLooseBase(this,Cs)[Cs]);babelHelpers.classPrivateFieldLooseBase(this,Ts)[Ts]().getPopup().setFixed(true);babelHelpers.classPrivateFieldLooseBase(this,Ts)[Ts]().createSkeletonFromConfig(e.skeleton).show();babelHelpers.classPrivateFieldLooseBase(this,Ks)[Ks]();babelHelpers.classPrivateFieldLooseBase(this,Ts)[Ts]().getPopup().subscribe("onClose",(()=>{babelHelpers.classPrivateFieldLooseBase(this,Ss)[Ss]()}));babelHelpers.classPrivateFieldLooseBase(this,Ts)[Ts]().getPopup().subscribe("onShow",(()=>{babelHelpers.classPrivateFieldLooseBase(this,Ks)[Ks]()}));p.Runtime.loadExtension(["intranet.avatar-widget"]).then((()=>{babelHelpers.classPrivateFieldLooseBase(this,Is)[Is]()})).catch((()=>{}))}))}}function Gs(){babelHelpers.classPrivateFieldLooseBase(this,js)[js]().then((e=>{babelHelpers.classPrivateFieldLooseBase(this,Ts)[Ts]().clearBeforeInsertContent();t.AvatarWidget.getInstance().setOptions({buttonWrapper:babelHelpers.classPrivateFieldLooseBase(this,Cs)[Cs],loader:babelHelpers.classPrivateFieldLooseBase(this,Ts)[Ts]().getPopup(),data:e.data}).show();p.Event.bind(babelHelpers.classPrivateFieldLooseBase(this,Cs)[Cs],"click",(()=>{t.AvatarWidget.getInstance().show()}))})).catch((e=>{console.error(e)}))}function zs(){return babelHelpers.classPrivateFieldLooseBase(this,Os)[Os].remember("widgetLoader",(()=>new c.WidgetLoader({id:"bx-avatar-header-popup",bindElement:babelHelpers.classPrivateFieldLooseBase(this,Cs)[Cs],className:"intranet-avatar-widget-base-popup",width:390,useAngle:false,fixed:true,offsetTop:-50,offsetLeft:0})))}function Ys(){return babelHelpers.classPrivateFieldLooseBase(this,Os)[Os].remember("content",(()=>new Promise(((e,s)=>{p.ajax.runAction("intranet.user.widget.getContent").then((s=>e(s))).catch((e=>s(e)))}))))}function Vs(){babelHelpers.classPrivateFieldLooseBase(this,Ms)[Ms]().renderTo(babelHelpers.classPrivateFieldLooseBase(this,Rs)[Rs]())}function Js(){p.Dom.style(babelHelpers.classPrivateFieldLooseBase(this,Cs)[Cs],"opacity","0")}function Qs(){p.Dom.style(babelHelpers.classPrivateFieldLooseBase(this,Cs)[Cs],"opacity","1")}function Zs(){babelHelpers.classPrivateFieldLooseBase(this,Ns)[Ns]().renderTo(babelHelpers.classPrivateFieldLooseBase(this,As)[As]());babelHelpers.classPrivateFieldLooseBase(this,Ns)[Ns]().subscribe("onUpdateState",(e=>{babelHelpers.classPrivateFieldLooseBase(this,Ds)[Ds](e.data)}))}function et(e){let s="";const t=["--worktime-not-started","--worktime-finished","--worktime-not-finished","--worktime-paused"];t.forEach((e=>{p.Dom.removeClass(babelHelpers.classPrivateFieldLooseBase(this,Cs)[Cs],e)}));switch(e.state){case"CLOSED":s=e.action==="OPEN"?"--worktime-not-started":"--worktime-finished";break;case"EXPIRED":s="--worktime-not-finished";break;case"PAUSED":s="--worktime-paused";break;default:s="";break}if(s){p.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,Cs)[Cs],s)}}function st(){return babelHelpers.classPrivateFieldLooseBase(this,Os)[Os].remember("counterWrapper",(()=>babelHelpers.classPrivateFieldLooseBase(this,Cs)[Cs].querySelector(".air-user-profile-avatar__counter")))}function tt(){return babelHelpers.classPrivateFieldLooseBase(this,Os)[Os].remember("workTimeStateWrapper",(()=>babelHelpers.classPrivateFieldLooseBase(this,Cs)[Cs].querySelector(".air-user-profile-avatar__work-time-state-short")))}function at(){return babelHelpers.classPrivateFieldLooseBase(this,Os)[Os].remember("counter",(()=>new b.Counter({color:b.Counter.Color.DANGER,size:b.Counter.Size.MEDIUM,value:babelHelpers.classPrivateFieldLooseBase(this,Ws)[Ws](),useAirDesign:true,style:b.CounterStyle.FILLED_ALERT})))}function it(){return babelHelpers.classPrivateFieldLooseBase(this,Es)[Es].signDocumentsCounter+(babelHelpers.classPrivateFieldLooseBase(this,Es)[Es].verifyPhoneCounter?1:0)}function lt(){return babelHelpers.classPrivateFieldLooseBase(this,Os)[Os].remember("workTimeState",(()=>new a.WorkTimeStateIcon({state:babelHelpers.classPrivateFieldLooseBase(this,Es)[Es].workTimeState,action:babelHelpers.classPrivateFieldLooseBase(this,Es)[Es].workTimeAction})))}function ot(){if(babelHelpers.classPrivateFieldLooseBase(this,Es)[Es].signDocumentsCounter>0){r.PULL.subscribe({moduleId:"sign",command:babelHelpers.classPrivateFieldLooseBase(this,Es)[Es].signDocumentsPullEventName,callback:e=>{if(!p.Type.isNumber(e==null?void 0:e.needActionCount)){return}if((e==null?void 0:e.needActionCount)>0){babelHelpers.classPrivateFieldLooseBase(this,Es)[Es].signDocumentsCounter=e.needActionCount;babelHelpers.classPrivateFieldLooseBase(this,Ms)[Ms]().update(babelHelpers.classPrivateFieldLooseBase(this,Ws)[Ws]())}else if(!babelHelpers.classPrivateFieldLooseBase(this,Es)[Es].verifyPhoneCounter){babelHelpers.classPrivateFieldLooseBase(this,Es)[Es].signDocumentsCounter=0;babelHelpers.classPrivateFieldLooseBase(this,Ms)[Ms]().destroy()}}})}if(babelHelpers.classPrivateFieldLooseBase(this,Es)[Es].verifyPhoneCounter){r.PULL.subscribe({moduleId:"intranet",command:babelHelpers.classPrivateFieldLooseBase(this,Es)[Es].verifyPhonePullEventName,callback:()=>{babelHelpers.classPrivateFieldLooseBase(this,Es)[Es].verifyPhoneCounter=false;if(babelHelpers.classPrivateFieldLooseBase(this,Es)[Es].signDocumentsCounter<=0){babelHelpers.classPrivateFieldLooseBase(this,Ms)[Ms]().destroy()}else{babelHelpers.classPrivateFieldLooseBase(this,Ms)[Ms]().update(babelHelpers.classPrivateFieldLooseBase(this,Ws)[Ws]())}}})}}function rt(){const e=babelHelpers.classPrivateFieldLooseBase(this,Cs)[Cs].querySelector(".air-user-profile__avatar i");d.EventEmitter.subscribe("BX.Intranet.UserProfile:Avatar:changed",(s=>{const t=s.getData()[0];const a=t&&t.url?t.url:"";const i=t&&t.userId?t.userId:0;if(babelHelpers.classPrivateFieldLooseBase(this,Es)[Es].userId===i&&e){e.style=p.Type.isStringFilled(a)?`background-size: cover; background-image: url('${encodeURI(a)}')`:""}}))}Object.defineProperty(qs,Us,{value:rt});Object.defineProperty(qs,Xs,{value:ot});Object.defineProperty(qs,Ns,{value:lt});Object.defineProperty(qs,Ws,{value:it});Object.defineProperty(qs,Ms,{value:at});Object.defineProperty(qs,As,{value:tt});Object.defineProperty(qs,Rs,{value:st});Object.defineProperty(qs,Ds,{value:et});Object.defineProperty(qs,$s,{value:Zs});Object.defineProperty(qs,Ss,{value:Qs});Object.defineProperty(qs,Ks,{value:Js});Object.defineProperty(qs,xs,{value:Vs});Object.defineProperty(qs,js,{value:Ys});Object.defineProperty(qs,Ts,{value:zs});Object.defineProperty(qs,Is,{value:Gs});Object.defineProperty(qs,Cs,{writable:true,value:void 0});Object.defineProperty(qs,Os,{writable:true,value:new n.MemoryCache});Object.defineProperty(qs,Es,{writable:true,value:void 0});var nt=babelHelpers.classPrivateFieldLooseKey("options");var dt=babelHelpers.classPrivateFieldLooseKey("buttonWrapper");var ct=babelHelpers.classPrivateFieldLooseKey("cache");var vt=babelHelpers.classPrivateFieldLooseKey("getExtensionWidgetName");var bt=babelHelpers.classPrivateFieldLooseKey("showWidget");var pt=babelHelpers.classPrivateFieldLooseKey("getWidget");var ut=babelHelpers.classPrivateFieldLooseKey("getWidgetLoader");var ht=babelHelpers.classPrivateFieldLooseKey("getContent");var _t=babelHelpers.classPrivateFieldLooseKey("getCounter");var Pt=babelHelpers.classPrivateFieldLooseKey("getCounterWrapper");var ft=babelHelpers.classPrivateFieldLooseKey("setCounterValue");var mt=babelHelpers.classPrivateFieldLooseKey("setEventHandlers");var Lt=babelHelpers.classPrivateFieldLooseKey("updateOptionsFromPull");var gt=babelHelpers.classPrivateFieldLooseKey("emitOrdersUpdate");var Bt=babelHelpers.classPrivateFieldLooseKey("showInfrastructureSlider");class kt{static init(e){babelHelpers.classPrivateFieldLooseBase(this,nt)[nt]=e;babelHelpers.classPrivateFieldLooseBase(this,dt)[dt]=document.querySelector('[data-id="licenseWidgetWrapper"]');babelHelpers.classPrivateFieldLooseBase(this,mt)[mt]();if(babelHelpers.classPrivateFieldLooseBase(this,nt)[nt].isCloud){babelHelpers.classPrivateFieldLooseBase(this,ft)[ft](babelHelpers.classPrivateFieldLooseBase(this,nt)[nt].personalTotalCount,babelHelpers.classPrivateFieldLooseBase(this,nt)[nt].commonTotalCount)}p.Event.bind(babelHelpers.classPrivateFieldLooseBase(this,dt)[dt],"click",(()=>{p.Event.unbindAll(babelHelpers.classPrivateFieldLooseBase(this,dt)[dt]);babelHelpers.classPrivateFieldLooseBase(this,ut)[ut]().createSkeletonFromConfig(e.skeleton).show();p.Runtime.loadExtension([babelHelpers.classPrivateFieldLooseBase(this,vt)[vt]()]).then((()=>{babelHelpers.classPrivateFieldLooseBase(this,bt)[bt]()})).catch((()=>{}))}))}}function Ft(){if(babelHelpers.classPrivateFieldLooseBase(this,nt)[nt].isCloud){return"bitrix24.license-widget"}return"intranet.license-widget"}function Ht(){babelHelpers.classPrivateFieldLooseBase(this,ht)[ht]().then((e=>{babelHelpers.classPrivateFieldLooseBase(this,ut)[ut]().clearBeforeInsertContent();let s=null;if(babelHelpers.classPrivateFieldLooseBase(this,nt)[nt].isCloud){s=e.data;s.loader=babelHelpers.classPrivateFieldLooseBase(this,ut)[ut]().getPopup();s.wrapper=babelHelpers.classPrivateFieldLooseBase(this,dt)[dt]}else{s={loader:babelHelpers.classPrivateFieldLooseBase(this,ut)[ut]().getPopup(),buttonWrapper:babelHelpers.classPrivateFieldLooseBase(this,dt)[dt],data:e.data}}babelHelpers.classPrivateFieldLooseBase(this,pt)[pt]().setOptions(s).show();p.Event.bind(babelHelpers.classPrivateFieldLooseBase(this,dt)[dt],"click",(()=>{babelHelpers.classPrivateFieldLooseBase(this,pt)[pt]().show()}))})).catch((()=>{}))}function yt(){return babelHelpers.classPrivateFieldLooseBase(this,ct)[ct].remember("widget",(()=>{if(babelHelpers.classPrivateFieldLooseBase(this,nt)[nt].isCloud){return i.LicenseWidget.getInstance()}return l.LicenseWidget.getInstance()}))}function wt(){return babelHelpers.classPrivateFieldLooseBase(this,ct)[ct].remember("widgetLoader",(()=>new c.WidgetLoader({bindElement:babelHelpers.classPrivateFieldLooseBase(this,dt)[dt],width:374,id:"bx-license-header-popup"})))}function Ct(){return babelHelpers.classPrivateFieldLooseBase(this,ct)[ct].remember("content",(()=>new Promise(((e,s)=>{if(babelHelpers.classPrivateFieldLooseBase(this,nt)[nt].isCloud){p.ajax.runComponentAction("bitrix:bitrix24.license.widget","getData",{mode:"class"}).then((s=>e(s))).catch((e=>s(e)))}else{p.ajax.runAction("intranet.license.widget.getContent").then((s=>e(s))).catch((e=>s(e)))}}))))}function Ot(){return babelHelpers.classPrivateFieldLooseBase(this,ct)[ct].remember("counter",(()=>new b.Counter({color:b.CounterColor.DANGER,useAirDesign:true,style:b.CounterStyle.FILLED_ALERT})))}function Et(){return babelHelpers.classPrivateFieldLooseBase(this,ct)[ct].remember("counter-wrapper",(()=>babelHelpers.classPrivateFieldLooseBase(this,dt)[dt].querySelector(".air-header-button__counter")))}function It(e,s){const t=e+s;if(t<1){babelHelpers.classPrivateFieldLooseBase(this,_t)[_t]().destroy();babelHelpers.classPrivateFieldLooseBase(this,ct)[ct].delete("counter")}if(t>0&&babelHelpers.classPrivateFieldLooseBase(this,Pt)[Pt]()){babelHelpers.classPrivateFieldLooseBase(this,_t)[_t]().update(t);babelHelpers.classPrivateFieldLooseBase(this,_t)[_t]().renderTo(babelHelpers.classPrivateFieldLooseBase(this,Pt)[Pt]())}}function Tt(){if(babelHelpers.classPrivateFieldLooseBase(this,nt)[nt].isCloud&&babelHelpers.classPrivateFieldLooseBase(this,nt)[nt].isSidePanelDemoLicense){BX.SidePanel.Instance.bindAnchors({rules:[{condition:[/\/settings\/license_demo.php/],handler(e){o.FeaturePromotersRegistry.getPromoter({code:"limit_demo"}).show();e.stopPropagation();e.preventDefault()}}]})}if(babelHelpers.classPrivateFieldLooseBase(this,nt)[nt].isCloud){r.PULL.subscribe({moduleId:"bitrix24",command:"updateCountOrdersAwaitingPayment",callback:e=>{babelHelpers.classPrivateFieldLooseBase(this,Lt)[Lt](e)}});d.EventEmitter.subscribe(d.EventEmitter.GLOBAL_TARGET,"Bitrix24InfrastructureSlider:show",babelHelpers.classPrivateFieldLooseBase(this,Bt)[Bt].bind(this))}}function jt(e){if(!babelHelpers.classPrivateFieldLooseBase(this,nt)[nt].isCloud){return}if(e.scope==="common"){babelHelpers.classPrivateFieldLooseBase(this,nt)[nt].commonTotalCount=e.commonTotalCount;if(e.commonTotalCount!==0&&!p.Type.isNil(e.commonTotalCount)){babelHelpers.classPrivateFieldLooseBase(this,nt)[nt].ordersInfo=e.orders.ordersInfo;babelHelpers.classPrivateFieldLooseBase(this,nt)[nt].counters.awaitingInvoice=e.orders.awaitingInvoice;babelHelpers.classPrivateFieldLooseBase(this,nt)[nt].counters.awaitingPayment=e.orders.awaitingPayment;babelHelpers.classPrivateFieldLooseBase(this,nt)[nt].counters.failedPayment=e.orders.failedPayment}babelHelpers.classPrivateFieldLooseBase(this,ft)[ft](babelHelpers.classPrivateFieldLooseBase(this,nt)[nt].personalTotalCount,e.commonTotalCount)}else if(e.scope==="personal"){babelHelpers.classPrivateFieldLooseBase(this,nt)[nt].personalTotalCount=e.personalTotalCount;if(e.personalTotalCount!==0&&!p.Type.isNil(e.personalTotalCount)){babelHelpers.classPrivateFieldLooseBase(this,nt)[nt].ordersInfo.checkoutPath=e.orders.checkoutPath;babelHelpers.classPrivateFieldLooseBase(this,nt)[nt].counters.inCheckout=e.orders.inCheckout}babelHelpers.classPrivateFieldLooseBase(this,ft)[ft](e.personalTotalCount,babelHelpers.classPrivateFieldLooseBase(this,nt)[nt].commonTotalCount)}babelHelpers.classPrivateFieldLooseBase(this,gt)[gt]()}function xt(){d.EventEmitter.emit("BX.Bitrix24.Orders:updateOrdersAwaitingPayment",new d.BaseEvent({data:{orders:{counters:babelHelpers.classPrivateFieldLooseBase(this,nt)[nt].counters,ordersInfo:babelHelpers.classPrivateFieldLooseBase(this,nt)[nt].ordersInfo},commonTotalCount:babelHelpers.classPrivateFieldLooseBase(this,nt)[nt].commonTotalCount,personalTotalCount:babelHelpers.classPrivateFieldLooseBase(this,nt)[nt].personalTotalCount}}))}function Kt(){const e=babelHelpers.classPrivateFieldLooseBase(this,nt)[nt].infrastructureForm;BX.SidePanel.Instance.open("bx-infrastructure-slider",{contentCallback:()=>`<script data-b24-form="inline/${e.id}/${e.secCode}" data-skip-moving="true"><\/script>`,width:664,loader:"default-loader",cacheable:false,closeByEsc:false,data:{rightBoundary:0},events:{onOpen:()=>{(function(e,s,t){const a=s.createElement("script");a.async=true;a.src=`${t}?${Date.now()/18e4|0}`;const i=s.getElementsByTagName("script")[0];i.parentNode.insertBefore(a,i)})(window,document,`https://bitrix24.team/upload/crm/form/loader_${e.id}_${e.secCode}.js`)},onOpenComplete:()=>{top.addEventListener("b24:form:send:success",(s=>{if(s.detail.object.identification.id===e.id){p.ajax.runComponentAction("bitrix:bitrix24.license.widget","setOptionWaitingInfrastructure",{mode:"class",data:{}})}}))}}})}Object.defineProperty(kt,Bt,{value:Kt});Object.defineProperty(kt,gt,{value:xt});Object.defineProperty(kt,Lt,{value:jt});Object.defineProperty(kt,mt,{value:Tt});Object.defineProperty(kt,ft,{value:It});Object.defineProperty(kt,Pt,{value:Et});Object.defineProperty(kt,_t,{value:Ot});Object.defineProperty(kt,ht,{value:Ct});Object.defineProperty(kt,ut,{value:wt});Object.defineProperty(kt,pt,{value:yt});Object.defineProperty(kt,bt,{value:Ht});Object.defineProperty(kt,vt,{value:Ft});Object.defineProperty(kt,nt,{writable:true,value:void 0});Object.defineProperty(kt,dt,{writable:true,value:void 0});Object.defineProperty(kt,ct,{writable:true,value:new n.MemoryCache});var St=babelHelpers.classPrivateFieldLooseKey("buttonWrapper");var $t=babelHelpers.classPrivateFieldLooseKey("cache");var Dt=babelHelpers.classPrivateFieldLooseKey("options");var Rt=babelHelpers.classPrivateFieldLooseKey("showWidget");var At=babelHelpers.classPrivateFieldLooseKey("getWidgetLoader");var Mt=babelHelpers.classPrivateFieldLooseKey("getContent");var Wt=babelHelpers.classPrivateFieldLooseKey("setEventHandlers");var Nt=babelHelpers.classPrivateFieldLooseKey("onReceiveCounterValue");var Xt=babelHelpers.classPrivateFieldLooseKey("getCounterWrapper");var Ut=babelHelpers.classPrivateFieldLooseKey("getCounter");var qt=babelHelpers.classPrivateFieldLooseKey("getCounterValue");var Gt=babelHelpers.classPrivateFieldLooseKey("onFirstWatchNewStructure");class zt{static init(e){babelHelpers.classPrivateFieldLooseBase(this,Dt)[Dt]=e;babelHelpers.classPrivateFieldLooseBase(this,St)[St]=document.querySelector('[data-id="invitationButton"]');p.Event.bind(babelHelpers.classPrivateFieldLooseBase(this,St)[St],"click",(()=>{p.Event.unbindAll(babelHelpers.classPrivateFieldLooseBase(this,St)[St]);babelHelpers.classPrivateFieldLooseBase(this,At)[At]().createSkeletonFromConfig(e.skeleton).show();p.Runtime.loadExtension(["intranet.invitation-widget"]).then((()=>{babelHelpers.classPrivateFieldLooseBase(this,Rt)[Rt]()})).catch((()=>{}))}));if(babelHelpers.classPrivateFieldLooseBase(this,Dt)[Dt].invitationCounter>0){babelHelpers.classPrivateFieldLooseBase(this,Ut)[Ut]().renderTo(babelHelpers.classPrivateFieldLooseBase(this,Xt)[Xt]())}babelHelpers.classPrivateFieldLooseBase(this,Wt)[Wt]()}}function Yt(){babelHelpers.classPrivateFieldLooseBase(this,Mt)[Mt]().then((e=>{babelHelpers.classPrivateFieldLooseBase(this,At)[At]().clearBeforeInsertContent();v.InvitationWidget.getInstance().setOptions({buttonWrapper:babelHelpers.classPrivateFieldLooseBase(this,St)[St],loader:babelHelpers.classPrivateFieldLooseBase(this,At)[At]().getPopup(),...e.data}).show();p.Event.bind(babelHelpers.classPrivateFieldLooseBase(this,St)[St],"click",(()=>{v.InvitationWidget.getInstance().show()}))})).catch((()=>{}))}function Vt(){return babelHelpers.classPrivateFieldLooseBase(this,$t)[$t].remember("widgetLoader",(()=>new c.WidgetLoader({bindElement:babelHelpers.classPrivateFieldLooseBase(this,St)[St],width:350,id:"bx-invitation-header-popup"})))}function Jt(){return babelHelpers.classPrivateFieldLooseBase(this,$t)[$t].remember("content",(()=>new Promise(((e,s)=>{p.ajax.runAction("intranet.invitationwidget.getData",{data:{},analyticsLabel:{headerPopup:"Y"}}).then((s=>e(s))).catch((e=>s(e)))}))))}function Qt(){d.EventEmitter.subscribeOnce("HR.company-structure:first-popup-showed",babelHelpers.classPrivateFieldLooseBase(this,Gt)[Gt].bind(this));d.EventEmitter.subscribe("onPullEvent-main",(e=>{const[s,t]=e.getCompatData();if(s==="user_counter"&&t[p.Loc.getMessage("SITE_ID")]){const e=t[p.Loc.getMessage("SITE_ID")][babelHelpers.classPrivateFieldLooseBase(this,Dt)[Dt].counterId];if(e>0){babelHelpers.classPrivateFieldLooseBase(this,Nt)[Nt](e)}}}))}function Zt(e){if(babelHelpers.classPrivateFieldLooseBase(this,Dt)[Dt].shouldShowStructureCounter){e++}babelHelpers.classPrivateFieldLooseBase(this,Ut)[Ut]().update(e);babelHelpers.classPrivateFieldLooseBase(this,Dt)[Dt].invitationCounter=e;if(e>0){babelHelpers.classPrivateFieldLooseBase(this,Ut)[Ut]().renderTo(babelHelpers.classPrivateFieldLooseBase(this,Xt)[Xt]())}else{babelHelpers.classPrivateFieldLooseBase(this,Ut)[Ut]().destroy();babelHelpers.classPrivateFieldLooseBase(this,$t)[$t].delete("counter")}}function ea(){return babelHelpers.classPrivateFieldLooseBase(this,$t)[$t].remember("counter-wrapper",(()=>babelHelpers.classPrivateFieldLooseBase(this,St)[St].querySelector(".invitation-widget-counter")))}function sa(){return babelHelpers.classPrivateFieldLooseBase(this,$t)[$t].remember("counter",(()=>new b.Counter({value:babelHelpers.classPrivateFieldLooseBase(this,qt)[qt](),color:b.Counter.Color.DANGER,useAirDesign:true,style:b.CounterStyle.FILLED_ALERT})))}function ta(){var e;let s=Number(babelHelpers.classPrivateFieldLooseBase(this,Dt)[Dt].invitationCounter);if((e=babelHelpers.classPrivateFieldLooseBase(this,Dt)[Dt].shouldShowStructureCounter)!=null?e:false){s++}return s}function aa(){let e=babelHelpers.classPrivateFieldLooseBase(this,Ut)[Ut]().value;if(!p.Type.isNumber(e)){return}if(!babelHelpers.classPrivateFieldLooseBase(this,Dt)[Dt].shouldShowStructureCounter){return}e--;babelHelpers.classPrivateFieldLooseBase(this,Dt)[Dt].shouldShowStructureCounter=false;babelHelpers.classPrivateFieldLooseBase(this,Ut)[Ut]().update(e);babelHelpers.classPrivateFieldLooseBase(this,Dt)[Dt].invitationCounter=e;if(e>0){babelHelpers.classPrivateFieldLooseBase(this,Ut)[Ut]().renderTo(babelHelpers.classPrivateFieldLooseBase(this,Xt)[Xt]())}else{babelHelpers.classPrivateFieldLooseBase(this,Ut)[Ut]().destroy();babelHelpers.classPrivateFieldLooseBase(this,$t)[$t].delete("counter")}}Object.defineProperty(zt,Gt,{value:aa});Object.defineProperty(zt,qt,{value:ta});Object.defineProperty(zt,Ut,{value:sa});Object.defineProperty(zt,Xt,{value:ea});Object.defineProperty(zt,Nt,{value:Zt});Object.defineProperty(zt,Wt,{value:Qt});Object.defineProperty(zt,Mt,{value:Jt});Object.defineProperty(zt,At,{value:Vt});Object.defineProperty(zt,Rt,{value:Yt});Object.defineProperty(zt,St,{writable:true,value:void 0});Object.defineProperty(zt,$t,{writable:true,value:new n.MemoryCache});Object.defineProperty(zt,Dt,{writable:true,value:void 0});let ia=e=>e,la,oa;var ra=babelHelpers.classPrivateFieldLooseKey("popup");var na=babelHelpers.classPrivateFieldLooseKey("initPopup");var da=babelHelpers.classPrivateFieldLooseKey("renderPopupContent");class ca{constructor(){Object.defineProperty(this,da,{value:ba});Object.defineProperty(this,na,{value:va});Object.defineProperty(this,ra,{writable:true,value:void 0})}async showLanguageListPopup(e,s){if(!babelHelpers.classPrivateFieldLooseBase(this,ra)[ra]){await babelHelpers.classPrivateFieldLooseBase(this,na)[na](e,s)}if(babelHelpers.classPrivateFieldLooseBase(this,ra)[ra].isShown()){return}babelHelpers.classPrivateFieldLooseBase(this,ra)[ra].show()}hideLanguageListPopup(){var e;(e=babelHelpers.classPrivateFieldLooseBase(this,ra)[ra])==null?void 0:e.close()}switchPortalLanguage(e){window.location.href=`/auth/?user_lang=${e}&backurl=${w()}`}}async function va(e,s){const t=()=>{this.hideLanguageListPopup()};const{Popup:a}=await p.Runtime.loadExtension("main.popup");const i={bindElement:e,autoHide:true,closeByEcs:true,cachable:false,content:babelHelpers.classPrivateFieldLooseBase(this,da)[da](s),events:{onPopupClose:()=>{p.Event.unbind(window,"scroll",t);babelHelpers.classPrivateFieldLooseBase(this,ra)[ra].destroy();babelHelpers.classPrivateFieldLooseBase(this,ra)[ra]=null}}};babelHelpers.classPrivateFieldLooseBase(this,ra)[ra]=new a(i);p.Event.bind(window,"scroll",t)}function ba(e){const s=p.Tag.render(la||(la=ia`<div class="intranet__language-popup_list"></div>`));Object.entries(e).forEach((([e,t])=>{const a=p.Tag.render(oa||(oa=ia`
				<div class="intranet__language-popup_language-item">
					<span class="intranet__language-popup_language-item-name">${0}</span>
					<span class="intranet__language-popup_language-beta">${0}</span>
				</div>
			`),t.NAME,t.IS_BETA?", beta":"");p.Event.bind(a,"click",(()=>{this.switchPortalLanguage(e)}));p.Dom.append(a,s)}));return s}const pa=new ca;const ua=new vs;window.showPartnerForm=u;window.B24={licenseInfoPopup:{show(e,s,t,a){const i=p.Reflection.getClass("BX.Bitrix24.LicenseInfoPopup");if(i){i.show(e,s,t,a)}}},updateCounters(e,s){const t=p.Reflection.getClass("BX.Intranet.LeftMenu");if(t){t.updateCounters(e,s)}}};e.languageSwitcher=pa;e.PartnerForm=m;e.Template=ua;e.SearchTitle=Hs;e.InvitationButton=zt;e.LicenseButton=kt;e.AvatarButton=qs})(this.BX.Intranet.Bitrix24=this.BX.Intranet.Bitrix24||{},BX.UI,BX.Intranet,BX.Timeman,BX.Bitrix24,BX.Intranet,BX.UI,BX,BX.Cache,BX.Event,BX.Intranet,BX.Intranet,BX.UI,BX);
//# sourceMappingURL=bitrix24.bundle.map.js