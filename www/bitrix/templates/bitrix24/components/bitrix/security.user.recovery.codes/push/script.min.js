this.BX=this.BX||{};this.BX.Intranet=this.BX.Intranet||{};(function(e,s,t,i,a){"use strict";let r=e=>e,l,o,n,c,d,b,v,u,p,L,P,h;var _=babelHelpers.classPrivateFieldLooseKey("cache");var B=babelHelpers.classPrivateFieldLooseKey("options");var H=babelHelpers.classPrivateFieldLooseKey("getHeaderContainer");var F=babelHelpers.classPrivateFieldLooseKey("getBodyContainer");var g=babelHelpers.classPrivateFieldLooseKey("getStatusContainer");var y=babelHelpers.classPrivateFieldLooseKey("getRemainderCodes");var T=babelHelpers.classPrivateFieldLooseKey("getChevron");var E=babelHelpers.classPrivateFieldLooseKey("getBodyContent");var O=babelHelpers.classPrivateFieldLooseKey("getRecoveryCodesGrid");var f=babelHelpers.classPrivateFieldLooseKey("setRecoveryCodes");var m=babelHelpers.classPrivateFieldLooseKey("getButtonsContainer");var R=babelHelpers.classPrivateFieldLooseKey("getPrintButton");var S=babelHelpers.classPrivateFieldLooseKey("getDownloadButton");var N=babelHelpers.classPrivateFieldLooseKey("getReloadButton");var I=babelHelpers.classPrivateFieldLooseKey("getButtonStub");var w=babelHelpers.classPrivateFieldLooseKey("getStubReloadButton");var A=babelHelpers.classPrivateFieldLooseKey("reloadCodes");var C=babelHelpers.classPrivateFieldLooseKey("sendAnalyticsEvent");class D{constructor(e){Object.defineProperty(this,C,{value:Y});Object.defineProperty(this,A,{value:Q});Object.defineProperty(this,w,{value:J});Object.defineProperty(this,I,{value:q});Object.defineProperty(this,N,{value:G});Object.defineProperty(this,S,{value:V});Object.defineProperty(this,R,{value:W});Object.defineProperty(this,m,{value:z});Object.defineProperty(this,f,{value:X});Object.defineProperty(this,O,{value:x});Object.defineProperty(this,E,{value:$});Object.defineProperty(this,T,{value:U});Object.defineProperty(this,y,{value:M});Object.defineProperty(this,g,{value:k});Object.defineProperty(this,F,{value:K});Object.defineProperty(this,H,{value:j});Object.defineProperty(this,_,{writable:true,value:new s.Cache.MemoryCache});Object.defineProperty(this,B,{writable:true,value:void 0});babelHelpers.classPrivateFieldLooseBase(this,B)[B]=e}renderTo(e){s.Dom.append(babelHelpers.classPrivateFieldLooseBase(this,H)[H](),e);s.Dom.append(babelHelpers.classPrivateFieldLooseBase(this,F)[F](),e)}}function j(){return babelHelpers.classPrivateFieldLooseBase(this,_)[_].remember("header-container",(()=>{s.Event.bind(babelHelpers.classPrivateFieldLooseBase(this,g)[g](),"click",(()=>{s.Dom.toggleClass(babelHelpers.classPrivateFieldLooseBase(this,T)[T](),"--show");s.Dom.toggleClass(babelHelpers.classPrivateFieldLooseBase(this,F)[F](),"--show")}));const e=e=>{e.preventDefault();top.BX.Helper.show("redirect=detail&code=26676294")};return s.Tag.render(l||(l=r`
				<div class="intranet-user-otp-list__section-row-header-wrapper">
					<div class="intranet-user-otp-list__section-row-header">
						<div class="intranet-user-otp-list__row-label ui-text --md">
							<span class="ui-icon-set --o-note"></span>
							${0}
						</div>
						${0}
					</div>
					<p class="intranet-user-otp-list__section-row-description">
						${0}
					</p>
					<a onclick="${0}" class="intranet-user-otp-list__section-row-link ui-link ui-link-secondary ui-link-dashed">
						${0}
					</p>
				</div>
			`),s.Loc.getMessage("INTRANET_USER_OTP_LIST_RECOVERED_CODES"),babelHelpers.classPrivateFieldLooseBase(this,g)[g](),s.Loc.getMessage("INTRANET_USER_OTP_LIST_CODE_DESCRIPTION"),e,s.Loc.getMessage("INTRANET_USER_OTP_LIST_MORE_BTN"))}))}function K(){return babelHelpers.classPrivateFieldLooseBase(this,_)[_].remember("body-container",(()=>s.Tag.render(o||(o=r`
				<div id="row-content" class="intranet-user-otp-list__section-row-content">
					<div class="intranet-user-otp-list__section-row-content-wrapper">
						<div class="intranet-user-otp-list__section-row-divider"></div>
						${0}
					</div>
				</div>
			`),babelHelpers.classPrivateFieldLooseBase(this,B)[B].codes.length>0?babelHelpers.classPrivateFieldLooseBase(this,E)[E]():babelHelpers.classPrivateFieldLooseBase(this,I)[I]())))}function k(){return babelHelpers.classPrivateFieldLooseBase(this,_)[_].remember("status-container",(()=>s.Tag.render(n||(n=r`
				<div id="row-status" class="intranet-user-otp-list__row-status intranet-user-otp-list__row-status--clickable">
					${0}
					${0}
				</div>
			`),babelHelpers.classPrivateFieldLooseBase(this,y)[y](),babelHelpers.classPrivateFieldLooseBase(this,T)[T]())))}function M(){let e=null;let t=null;if(babelHelpers.classPrivateFieldLooseBase(this,B)[B].codes.length>0){e=s.Tag.render(c||(c=r`<div class="ui-icon-set --o-circle-check"></div>`));t=s.Loc.getMessage("INTRANET_USER_OTP_LIST_RECOVERED_CODES_COUNT",{"#COUNT#":babelHelpers.classPrivateFieldLooseBase(this,B)[B].codes.length})}else{e=s.Tag.render(d||(d=r`<div class="ui-icon-set --o-alert-accent"></div>`));t=s.Loc.getMessage("INTRANET_USER_OTP_LIST_RECOVERED_CODES_ENDED")}const i=s.Tag.render(b||(b=r`
			<div class="intranet-user-otp-list__row-value ui-text --md">
				${0}
			</div>
		`),t);s.Dom.prepend(e,i);return i}function U(){return babelHelpers.classPrivateFieldLooseBase(this,_)[_].remember("chevron",(()=>s.Tag.render(v||(v=r`
				<div id="row-chevron" class="ui-icon-set --chevron-down-s"></div>
			`))))}function $(){return babelHelpers.classPrivateFieldLooseBase(this,_)[_].remember("recovery-codes-list",(()=>s.Tag.render(u||(u=r`
				<div class="intranet-otp-codes">
					${0}
					${0}
				</div>
			`),babelHelpers.classPrivateFieldLooseBase(this,O)[O](),babelHelpers.classPrivateFieldLooseBase(this,m)[m]())))}function x(){return babelHelpers.classPrivateFieldLooseBase(this,_)[_].remember("recovery-codes-grid",(()=>{const e=s.Tag.render(p||(p=r`
				<ol class="intranet-otp-codes__grid ui-alert ui-alert-primary"/>
			`));babelHelpers.classPrivateFieldLooseBase(this,f)[f](e);return e}))}function X(e){babelHelpers.classPrivateFieldLooseBase(this,B)[B].codes.forEach((t=>{s.Dom.append(s.Tag.render(L||(L=r`
				<li class="ui-text --sm intranet-otp-codes__grid-item">
					${0}
				</li>
			`),s.Text.encode(t.VALUE)),e)}))}function z(){return babelHelpers.classPrivateFieldLooseBase(this,_)[_].remember("buttons-container",(()=>s.Tag.render(P||(P=r`
				<div class="intranet-otp-codes__button-section">
					<div class="intranet-otp-codes__button-container">
						${0}
						${0}
					</div>
					<div class="intranet-otp-codes__button-container">
						${0}
					</div>
				</div>
			`),babelHelpers.classPrivateFieldLooseBase(this,R)[R]().render(),babelHelpers.classPrivateFieldLooseBase(this,S)[S]().render(),babelHelpers.classPrivateFieldLooseBase(this,N)[N]().render())))}function W(){return babelHelpers.classPrivateFieldLooseBase(this,_)[_].remember("print-button",(()=>new t.Button({text:s.Loc.getMessage("INTRANET_USER_OTP_LIST_PRINT_BTN"),size:t.Button.Size.SMALL,style:t.AirButtonStyle.PLAIN_NO_ACCENT,useAirDesign:true,icon:i.Outline.PRINTER,onclick:()=>{window.print();babelHelpers.classPrivateFieldLooseBase(this,C)[C]("print_codes_click")}})))}function V(){return babelHelpers.classPrivateFieldLooseBase(this,_)[_].remember("download-button",(()=>new t.Button({text:s.Loc.getMessage("INTRANET_USER_OTP_LIST_DOWNLOAD_BTN"),size:t.Button.Size.SMALL,style:t.AirButtonStyle.PLAIN_NO_ACCENT,useAirDesign:true,icon:i.Outline.DOWNLOAD,tag:t.Button.Tag.LINK,link:babelHelpers.classPrivateFieldLooseBase(this,B)[B].downloadLink,onclick:()=>{babelHelpers.classPrivateFieldLooseBase(this,C)[C]("install_codes_click")}})))}function G(){return babelHelpers.classPrivateFieldLooseBase(this,_)[_].remember("reload-button",(()=>new t.Button({text:s.Loc.getMessage("INTRANET_USER_OTP_LIST_RELOAD_BTN"),size:t.Button.Size.SMALL,style:t.AirButtonStyle.PLAIN_ACCENT,useAirDesign:true,icon:i.Outline.REFRESH,onclick:e=>{babelHelpers.classPrivateFieldLooseBase(this,C)[C]("refresh_code_click","security");e.setWaiting(true);babelHelpers.classPrivateFieldLooseBase(this,A)[A]().then((()=>{e.setWaiting(false)}))}})))}function q(){return babelHelpers.classPrivateFieldLooseBase(this,_)[_].remember("button-stub",(()=>s.Tag.render(h||(h=r`
				<div class="intranet-otp-codes__button-section">
					${0}
				</div>
			`),babelHelpers.classPrivateFieldLooseBase(this,w)[w]().render())))}function J(){return babelHelpers.classPrivateFieldLooseBase(this,_)[_].remember("stub-reload-button",(()=>new t.Button({text:s.Loc.getMessage("INTRANET_USER_OTP_LIST_RELOAD_BTN"),size:t.Button.Size.MEDIUM,style:t.AirButtonStyle.FILLED,useAirDesign:true,icon:i.Outline.REFRESH,wide:true,onclick:e=>{babelHelpers.classPrivateFieldLooseBase(this,C)[C]("refresh_code_click","baloon");e.setWaiting(true);babelHelpers.classPrivateFieldLooseBase(this,A)[A]().then((()=>{e.setWaiting(false);s.Dom.replace(babelHelpers.classPrivateFieldLooseBase(this,I)[I](),babelHelpers.classPrivateFieldLooseBase(this,E)[E]())}))}})))}function Q(){return new Promise(((e,t)=>{s.ajax.runComponentAction("bitrix:security.user.recovery.codes","regenerateRecoveryCodes",{mode:"ajax"}).then((t=>{babelHelpers.classPrivateFieldLooseBase(this,B)[B].codes=t.data;s.Dom.clean(babelHelpers.classPrivateFieldLooseBase(this,O)[O]());babelHelpers.classPrivateFieldLooseBase(this,f)[f](babelHelpers.classPrivateFieldLooseBase(this,O)[O]());e()})).catch((e=>{t(e)}))}))}function Y(e,s=null){const t={tool:"user_settings",category:"security",event:e};if(s){t.c_section=s}a.sendData(t)}e.RecoveryCodes=D})(this.BX.Intranet.Security=this.BX.Intranet.Security||{},BX,BX.UI,BX.UI.IconSet,BX.UI.Analytics);
//# sourceMappingURL=script.map.js