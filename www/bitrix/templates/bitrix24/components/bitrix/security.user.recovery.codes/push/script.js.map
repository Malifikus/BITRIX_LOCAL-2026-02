{"version":3,"file":"script.js","sources":["src/recovery-codes.js"],"sourcesContent":["import { Tag, Cache, Dom, Loc, Text, Event, ajax as Ajax } from 'main.core';\nimport { Button, AirButtonStyle } from 'ui.buttons';\nimport { Outline } from 'ui.icon-set.api.core';\nimport { sendData } from 'ui.analytics';\n\nexport type RecoveryCodesOptions = {\n\tcodes: Array<{ VALUE: string }>;\n\tdownloadLink: string;\n};\n\nexport class RecoveryCodes\n{\n\t#cache = new Cache.MemoryCache();\n\t#options: RecoveryCodesOptions;\n\n\tconstructor(options)\n\t{\n\t\tthis.#options = options;\n\t}\n\n\trenderTo(element: HTMLElement): HTMLElement\n\t{\n\t\tDom.append(this.#getHeaderContainer(), element);\n\t\tDom.append(this.#getBodyContainer(), element);\n\t}\n\n\t#getHeaderContainer(): HTMLElement\n\t{\n\t\treturn this.#cache.remember('header-container', () => {\n\t\t\tEvent.bind(this.#getStatusContainer(), 'click', () => {\n\t\t\t\tDom.toggleClass(this.#getChevron(), '--show');\n\t\t\t\tDom.toggleClass(this.#getBodyContainer(), '--show');\n\t\t\t});\n\t\t\tconst onclick = (event) => {\n\t\t\t\tevent.preventDefault();\n\t\t\t\ttop.BX.Helper.show('redirect=detail&code=26676294');\n\t\t\t};\n\n\t\t\treturn Tag.render`\n\t\t\t\t<div class=\"intranet-user-otp-list__section-row-header-wrapper\">\n\t\t\t\t\t<div class=\"intranet-user-otp-list__section-row-header\">\n\t\t\t\t\t\t<div class=\"intranet-user-otp-list__row-label ui-text --md\">\n\t\t\t\t\t\t\t<span class=\"ui-icon-set --o-note\"></span>\n\t\t\t\t\t\t\t${Loc.getMessage('INTRANET_USER_OTP_LIST_RECOVERED_CODES')}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t${this.#getStatusContainer()}\n\t\t\t\t\t</div>\n\t\t\t\t\t<p class=\"intranet-user-otp-list__section-row-description\">\n\t\t\t\t\t\t${Loc.getMessage('INTRANET_USER_OTP_LIST_CODE_DESCRIPTION')}\n\t\t\t\t\t</p>\n\t\t\t\t\t<a onclick=\"${onclick}\" class=\"intranet-user-otp-list__section-row-link ui-link ui-link-secondary ui-link-dashed\">\n\t\t\t\t\t\t${Loc.getMessage('INTRANET_USER_OTP_LIST_MORE_BTN')}\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t`;\n\t\t});\n\t}\n\n\t#getBodyContainer(): HTMLElement\n\t{\n\t\treturn this.#cache.remember('body-container', () => {\n\t\t\treturn Tag.render`\n\t\t\t\t<div id=\"row-content\" class=\"intranet-user-otp-list__section-row-content\">\n\t\t\t\t\t<div class=\"intranet-user-otp-list__section-row-content-wrapper\">\n\t\t\t\t\t\t<div class=\"intranet-user-otp-list__section-row-divider\"></div>\n\t\t\t\t\t\t${this.#options.codes.length > 0 ? this.#getBodyContent() : this.#getButtonStub()}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`;\n\t\t});\n\t}\n\n\t#getStatusContainer(): HTMLElement\n\t{\n\t\treturn this.#cache.remember('status-container', () => {\n\t\t\treturn Tag.render`\n\t\t\t\t<div id=\"row-status\" class=\"intranet-user-otp-list__row-status intranet-user-otp-list__row-status--clickable\">\n\t\t\t\t\t${this.#getRemainderCodes()}\n\t\t\t\t\t${this.#getChevron()}\n\t\t\t\t</div>\n\t\t\t`;\n\t\t});\n\t}\n\n\t#getRemainderCodes(): HTMLElement\n\t{\n\t\tlet icon = null;\n\t\tlet text = null;\n\n\t\tif (this.#options.codes.length > 0)\n\t\t{\n\t\t\ticon = Tag.render`<div class=\"ui-icon-set --o-circle-check\"></div>`;\n\t\t\ttext = Loc.getMessage('INTRANET_USER_OTP_LIST_RECOVERED_CODES_COUNT', {\n\t\t\t\t'#COUNT#': this.#options.codes.length,\n\t\t\t});\n\t\t}\n\t\telse\n\t\t{\n\t\t\ticon = Tag.render`<div class=\"ui-icon-set --o-alert-accent\"></div>`;\n\t\t\ttext = Loc.getMessage('INTRANET_USER_OTP_LIST_RECOVERED_CODES_ENDED');\n\t\t}\n\n\t\tconst container = Tag.render`\n\t\t\t<div class=\"intranet-user-otp-list__row-value ui-text --md\">\n\t\t\t\t${text}\n\t\t\t</div>\n\t\t`;\n\t\tDom.prepend(icon, container);\n\n\t\treturn container;\n\t}\n\n\t#getChevron(): HTMLElement\n\t{\n\t\treturn this.#cache.remember('chevron', () => {\n\t\t\treturn Tag.render`\n\t\t\t\t<div id=\"row-chevron\" class=\"ui-icon-set --chevron-down-s\"></div>\n\t\t\t`;\n\t\t});\n\t}\n\n\t#getBodyContent(): HTMLElement\n\t{\n\t\treturn this.#cache.remember('recovery-codes-list', () => {\n\t\t\treturn Tag.render`\n\t\t\t\t<div class=\"intranet-otp-codes\">\n\t\t\t\t\t${this.#getRecoveryCodesGrid()}\n\t\t\t\t\t${this.#getButtonsContainer()}\n\t\t\t\t</div>\n\t\t\t`;\n\t\t});\n\t}\n\n\t#getRecoveryCodesGrid(): HTMLElement\n\t{\n\t\treturn this.#cache.remember('recovery-codes-grid', () => {\n\t\t\tconst container = Tag.render`\n\t\t\t\t<ol class=\"intranet-otp-codes__grid ui-alert ui-alert-primary\"/>\n\t\t\t`;\n\t\t\tthis.#setRecoveryCodes(container);\n\n\t\t\treturn container;\n\t\t});\n\t}\n\n\t#setRecoveryCodes(container: HTMLElement): void\n\t{\n\t\tthis.#options.codes.forEach((code) => {\n\t\t\tDom.append(Tag.render`\n\t\t\t\t<li class=\"ui-text --sm intranet-otp-codes__grid-item\">\n\t\t\t\t\t${Text.encode(code.VALUE)}\n\t\t\t\t</li>\n\t\t\t`, container);\n\t\t});\n\t}\n\n\t#getButtonsContainer(): HTMLElement\n\t{\n\t\treturn this.#cache.remember('buttons-container', () => {\n\t\t\treturn Tag.render`\n\t\t\t\t<div class=\"intranet-otp-codes__button-section\">\n\t\t\t\t\t<div class=\"intranet-otp-codes__button-container\">\n\t\t\t\t\t\t${this.#getPrintButton().render()}\n\t\t\t\t\t\t${this.#getDownloadButton().render()}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"intranet-otp-codes__button-container\">\n\t\t\t\t\t\t${this.#getReloadButton().render()}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`;\n\t\t});\n\t}\n\n\t#getPrintButton(): Button\n\t{\n\t\treturn this.#cache.remember('print-button', () => {\n\t\t\treturn new Button({\n\t\t\t\ttext: Loc.getMessage('INTRANET_USER_OTP_LIST_PRINT_BTN'),\n\t\t\t\tsize: Button.Size.SMALL,\n\t\t\t\tstyle: AirButtonStyle.PLAIN_NO_ACCENT,\n\t\t\t\tuseAirDesign: true,\n\t\t\t\ticon: Outline.PRINTER,\n\t\t\t\tonclick: () => {\n\t\t\t\t\twindow.print();\n\t\t\t\t\tthis.#sendAnalyticsEvent('print_codes_click');\n\t\t\t\t},\n\t\t\t});\n\t\t});\n\t}\n\n\t#getDownloadButton(): Button\n\t{\n\t\treturn this.#cache.remember('download-button', () => {\n\t\t\treturn new Button({\n\t\t\t\ttext: Loc.getMessage('INTRANET_USER_OTP_LIST_DOWNLOAD_BTN'),\n\t\t\t\tsize: Button.Size.SMALL,\n\t\t\t\tstyle: AirButtonStyle.PLAIN_NO_ACCENT,\n\t\t\t\tuseAirDesign: true,\n\t\t\t\ticon: Outline.DOWNLOAD,\n\t\t\t\ttag: Button.Tag.LINK,\n\t\t\t\tlink: this.#options.downloadLink,\n\t\t\t\tonclick: () => {\n\t\t\t\t\tthis.#sendAnalyticsEvent('install_codes_click');\n\t\t\t\t},\n\t\t\t});\n\t\t});\n\t}\n\n\t#getReloadButton(): Button\n\t{\n\t\treturn this.#cache.remember('reload-button', () => {\n\t\t\treturn new Button({\n\t\t\t\ttext: Loc.getMessage('INTRANET_USER_OTP_LIST_RELOAD_BTN'),\n\t\t\t\tsize: Button.Size.SMALL,\n\t\t\t\tstyle: AirButtonStyle.PLAIN_ACCENT,\n\t\t\t\tuseAirDesign: true,\n\t\t\t\ticon: Outline.REFRESH,\n\t\t\t\tonclick: (button: Button) => {\n\t\t\t\t\tthis.#sendAnalyticsEvent('refresh_code_click', 'security');\n\t\t\t\t\tbutton.setWaiting(true);\n\t\t\t\t\t// eslint-disable-next-line promise/catch-or-return\n\t\t\t\t\tthis.#reloadCodes().then(() => {\n\t\t\t\t\t\tbutton.setWaiting(false);\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t});\n\t\t});\n\t}\n\n\t#getButtonStub(): HTMLElement\n\t{\n\t\treturn this.#cache.remember('button-stub', () => {\n\t\t\treturn Tag.render`\n\t\t\t\t<div class=\"intranet-otp-codes__button-section\">\n\t\t\t\t\t${this.#getStubReloadButton().render()}\n\t\t\t\t</div>\n\t\t\t`;\n\t\t});\n\t}\n\n\t#getStubReloadButton(): Button\n\t{\n\t\treturn this.#cache.remember('stub-reload-button', () => {\n\t\t\treturn new Button({\n\t\t\t\ttext: Loc.getMessage('INTRANET_USER_OTP_LIST_RELOAD_BTN'),\n\t\t\t\tsize: Button.Size.MEDIUM,\n\t\t\t\tstyle: AirButtonStyle.FILLED,\n\t\t\t\tuseAirDesign: true,\n\t\t\t\ticon: Outline.REFRESH,\n\t\t\t\twide: true,\n\t\t\t\tonclick: (button: Button) => {\n\t\t\t\t\tthis.#sendAnalyticsEvent('refresh_code_click', 'baloon');\n\t\t\t\t\tbutton.setWaiting(true);\n\t\t\t\t\t// eslint-disable-next-line promise/catch-or-return\n\t\t\t\t\tthis.#reloadCodes().then(() => {\n\t\t\t\t\t\tbutton.setWaiting(false);\n\t\t\t\t\t\tDom.replace(this.#getButtonStub(), this.#getBodyContent());\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t});\n\t\t});\n\t}\n\n\t#reloadCodes(): Promise<void>\n\t{\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tAjax.runComponentAction('bitrix:security.user.recovery.codes', 'regenerateRecoveryCodes', {\n\t\t\t\tmode: 'ajax',\n\t\t\t}).then((response) => {\n\t\t\t\tthis.#options.codes = response.data;\n\t\t\t\tDom.clean(this.#getRecoveryCodesGrid());\n\t\t\t\tthis.#setRecoveryCodes(this.#getRecoveryCodesGrid());\n\t\t\t\tresolve();\n\t\t\t}).catch((error) => {\n\t\t\t\treject(error);\n\t\t\t});\n\t\t});\n\t}\n\n\t#sendAnalyticsEvent(eventName: string, cSection: string = null): void\n\t{\n\t\tconst data = {\n\t\t\ttool: 'user_settings',\n\t\t\tcategory: 'security',\n\t\t\tevent: eventName,\n\t\t};\n\n\t\tif (cSection)\n\t\t{\n\t\t\tdata.c_section = cSection;\n\t\t}\n\n\t\tsendData(data);\n\t}\n}\n"],"names":["RecoveryCodes","constructor","options","Cache","MemoryCache","renderTo","element","Dom","append","remember","Event","bind","toggleClass","onclick","event","preventDefault","top","BX","Helper","show","Tag","render","Loc","getMessage","codes","length","icon","text","container","prepend","forEach","code","Text","encode","VALUE","Button","size","Size","SMALL","style","AirButtonStyle","PLAIN_NO_ACCENT","useAirDesign","Outline","PRINTER","window","print","DOWNLOAD","tag","LINK","link","downloadLink","PLAIN_ACCENT","REFRESH","button","setWaiting","then","MEDIUM","FILLED","wide","replace","Promise","resolve","reject","Ajax","runComponentAction","mode","response","data","clean","catch","error","eventName","cSection","tool","category","c_section","sendData"],"mappings":"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"}