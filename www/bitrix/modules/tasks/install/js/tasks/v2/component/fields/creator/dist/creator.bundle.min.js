this.BX=this.BX||{};this.BX.Tasks=this.BX.Tasks||{};this.BX.Tasks.V2=this.BX.Tasks.V2||{};this.BX.Tasks.V2.Component=this.BX.Tasks.V2.Component||{};(function(t,s,e,a,i,n){"use strict";const r=Object.freeze({id:n.TaskField.Creator,title:i.Loc.getMessage("TASKS_V2_CREATOR_TITLE")});const d={name:"TaskCreator",components:{Participants:e.Participants},inject:{task:{},taskId:{},isEdit:{}},setup(){return{creatorMeta:r}},computed:{currentUserId(){return s.Core.getParams().currentUser.id},hintText(){if(this.task.flowId>0){return this.loc("TASKS_V2_CREATOR_CANT_CHANGE_FLOW")}if(this.task.responsibleIds.length>1){return this.loc("TASKS_V2_CREATOR_CANT_CHANGE_MANY")}return this.loc("TASKS_V2_CREATOR_CANT_CHANGE")},dataset(){return{"data-task-id":this.taskId,"data-task-field-id":r.id,"data-task-field-value":this.task.creatorId}},isAdmin(){return s.Core.getParams().rights.user.admin}},methods:{updateTask(t){const s=t[0]||this.task.creatorId;void a.taskService.update(this.taskId,{creatorId:s})},handleHintClick(){void a.taskService.update(this.taskId,{responsibleIds:[this.currentUserId]})}},template:`\n\t\t<Participants\n\t\t\t:taskId\n\t\t\t:context="creatorMeta.id"\n\t\t\t:userIds="[task.creatorId || currentUserId]"\n\t\t\t:canAdd="task.rights.edit"\n\t\t\t:canRemove="task.rights.edit"\n\t\t\t:withHint="!isAdmin && !isEdit && (task.responsibleIds.length > 1 || task.responsibleIds[0] !== currentUserId)"\n\t\t\t:hintText\n\t\t\tsingle\n\t\t\tinline\n\t\t\t:dataset\n\t\t\t:showMenu="false"\n\t\t\t@hintClick="handleHintClick"\n\t\t\t@update="updateTask"\n\t\t/>\n\t`};t.Creator=d;t.creatorMeta=r})(this.BX.Tasks.V2.Component.Fields=this.BX.Tasks.V2.Component.Fields||{},BX.Tasks.V2,BX.Tasks.V2.Component.Elements,BX.Tasks.V2.Provider.Service,BX,BX.Tasks.V2.Const);
//# sourceMappingURL=creator.bundle.map.js