this.BX=this.BX||{};this.BX.Tasks=this.BX.Tasks||{};this.BX.Tasks.V2=this.BX.Tasks.V2||{};this.BX.Tasks.V2.Component=this.BX.Tasks.V2.Component||{};(function(t,s,i,n,e,a,o){"use strict";const r={components:{BIcon:i.BIcon},directives:{hint:s.hint},inject:{task:{},taskId:{}},setup(){return{Outline:i.Outline}},computed:{readonly(){return!this.task.rights.edit},tooltip(){const t=this.task.isImportant?"TASKS_V2_IMPORTANCE_ACTIVE_HINT":"TASKS_V2_IMPORTANCE_INACTIVE_HINT";return()=>o.tooltip({html:this.loc(t,{"[br/]":"<br/>"}),popupOptions:{offsetLeft:this.$el.offsetWidth/2},timeout:500})},isResponsible(){const t=e.Core.getParams().currentUser.id;return this.task.responsibleIds.includes(t)||this.task.accomplicesIds.includes(t)}},methods:{handleClick(){if(this.readonly){return}const t=!this.task.isImportant;void a.taskService.update(this.taskId,{isImportant:t})}},template:`\n\t\t<div\n\t\t\tv-if="!readonly || (isResponsible && task.isImportant)"\n\t\t\tv-hint="tooltip"\n\t\t\tclass="tasks-field-importance"\n\t\t\t:class="{ '--active': task.isImportant, '--readonly': readonly }"\n\t\t\t:data-task-id="taskId"\n\t\t\t:data-task-field-id="'isImportant'"\n\t\t\t:data-task-field-value="task.isImportant"\n\t\t\t@click="handleClick"\n\t\t>\n\t\t\t<BIcon :name="task.isImportant ? Outline.FIRE_SOLID : Outline.FIRE"/>\n\t\t</div>\n\t`};t.Importance=r})(this.BX.Tasks.V2.Component.Fields=this.BX.Tasks.V2.Component.Fields||{},BX.Vue3.Directives,BX.UI.IconSet,BX,BX.Tasks.V2,BX.Tasks.V2.Provider.Service,BX.Tasks.V2.Component.Elements);
//# sourceMappingURL=importance.bundle.map.js