{"version":3,"file":"group.bundle.js","sources":["../src/group-meta.js","../src/group-popup/group-popup.js","../src/group-dialog.js","../src/group.js","../src/stage/stage.js","../src/scrum/epic/epic.js","../src/scrum/story-points/story-points.js","../src/group-chip.js"],"sourcesContent":["import { Loc } from 'main.core';\nimport { Core } from 'tasks.v2.core';\nimport { GroupType, Model, TaskField } from 'tasks.v2.const';\n\nexport const groupMeta = Object.freeze({\n\tid: TaskField.Group,\n\ttitle: Loc.getMessage('TASKS_V2_GROUP_TITLE'),\n\tstageTitle: Loc.getMessage('TASKS_V2_GROUP_STAGE_TITLE'),\n\tepicTitle: Loc.getMessage('TASKS_V2_GROUP_EPIC_TITLE'),\n\tstoryPointsTitle: Loc.getMessage('TASKS_V2_GROUP_STORY_POINTS_TITLE'),\n\tgetTitle: (groupId: number) => {\n\t\tconst group = Core.getStore().getters[`${Model.Groups}/getById`](groupId);\n\n\t\treturn {\n\t\t\t[GroupType.Collab]: Loc.getMessage('TASKS_V2_GROUP_TITLE_COLLAB'),\n\t\t\t[GroupType.Scrum]: Loc.getMessage('TASKS_V2_GROUP_TITLE_SCRUM'),\n\t\t}[group?.type] ?? Loc.getMessage('TASKS_V2_GROUP_TITLE');\n\t},\n});\n","import { Event, Loc } from 'main.core';\nimport type { PopupOptions } from 'main.popup';\n\nimport { Popup } from 'ui.vue3.components.popup';\nimport { Button as UiButton, AirButtonStyle, ButtonSize } from 'ui.vue3.components.button';\n\nimport { GroupType, Model } from 'tasks.v2.const';\nimport { groupService } from 'tasks.v2.provider.service.group-service';\nimport { userService } from 'tasks.v2.provider.service.user-service';\nimport type { GroupModel } from 'tasks.v2.model.groups';\nimport type { TaskModel } from 'tasks.v2.model.tasks';\nimport './group-popup.css';\n\nexport const GroupPopup = {\n\tcomponents: {\n\t\tPopup,\n\t\tUiButton,\n\t},\n\tinject: {\n\t\ttask: {},\n\t},\n\tprops: {\n\t\tgetBindElement: {\n\t\t\ttype: Function,\n\t\t\trequired: true,\n\t\t},\n\t},\n\temits: ['close'],\n\tsetup(): { task: TaskModel }\n\t{\n\t\treturn {\n\t\t\tAirButtonStyle,\n\t\t\tButtonSize,\n\t\t};\n\t},\n\tdata(): Object\n\t{\n\t\treturn {\n\t\t\tisPopupShown: false,\n\t\t\t/** @type GroupInfo */\n\t\t\tgroupInfo: {},\n\t\t};\n\t},\n\tcomputed: {\n\t\tgroup(): ?GroupModel\n\t\t{\n\t\t\treturn this.$store.getters[`${Model.Groups}/getById`](this.task.groupId);\n\t\t},\n\t\tbindElement(): HTMLElement\n\t\t{\n\t\t\treturn this.getBindElement();\n\t\t},\n\t\toptions(): PopupOptions\n\t\t{\n\t\t\treturn {\n\t\t\t\tid: 'tasks-field-group-popup',\n\t\t\t\tbindElement: this.bindElement,\n\t\t\t\tpadding: 24,\n\t\t\t\tminWidth: 260,\n\t\t\t\tmaxWidth: 400,\n\t\t\t\toffsetTop: 8,\n\t\t\t\ttargetContainer: document.body,\n\t\t\t};\n\t\t},\n\t\tgroupOwnerUrl(): string\n\t\t{\n\t\t\treturn userService.getUrl(this.groupInfo.ownerId);\n\t\t},\n\t\tgroupMembersCountFormatted(): string\n\t\t{\n\t\t\treturn Loc.getMessagePlural('TASKS_V2_GROUP_COUNT_MEMBERS', this.groupInfo.numberOfMembers, {\n\t\t\t\t'#COUNT#': this.groupInfo.numberOfMembers,\n\t\t\t});\n\t\t},\n\t\tgroupAboutFormatted(): string\n\t\t{\n\t\t\treturn {\n\t\t\t\t[GroupType.Collab]: this.loc('TASKS_V2_GROUP_ABOUT_COLLAB'),\n\t\t\t\t[GroupType.Scrum]: this.loc('TASKS_V2_GROUP_ABOUT_SCRUM'),\n\t\t\t}[this.group?.type] ?? this.loc('TASKS_V2_GROUP_ABOUT');\n\t\t},\n\t},\n\tmounted(): void\n\t{\n\t\tEvent.bind(this.bindElement, 'click', this.handleClick);\n\t\tEvent.bind(this.bindElement, 'mouseenter', this.handleMouseEnter);\n\t\tEvent.bind(this.bindElement, 'mouseleave', this.handleMouseLeave);\n\t},\n\tmethods: {\n\t\tasync openGroup(): Promise<void>\n\t\t{\n\t\t\tconst href = await groupService.getUrl(this.group.id, this.group.type);\n\n\t\t\tBX.SidePanel.Instance.emulateAnchorClick(href);\n\t\t},\n\t\thandleClick(): void\n\t\t{\n\t\t\tthis.clearTimeouts();\n\t\t},\n\t\thandleMouseEnter(): void\n\t\t{\n\t\t\tif (!this.group)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.groupInfoPromise = groupService.getGroupInfo(this.group.id);\n\n\t\t\tthis.clearTimeouts();\n\t\t\tthis.showTimeout = setTimeout(() => this.showPopup(), 400);\n\t\t},\n\t\thandleMouseLeave(): void\n\t\t{\n\t\t\tEvent.unbind(document, 'mouseover', this.updateHoverElement);\n\t\t\tEvent.bind(document, 'mouseover', this.updateHoverElement);\n\n\t\t\tthis.clearTimeouts();\n\t\t\tthis.closeTimeout = setTimeout(() => {\n\t\t\t\tif (!this.$refs.container?.contains(this.hoverElement) && !this.bindElement.contains(this.hoverElement))\n\t\t\t\t{\n\t\t\t\t\tthis.closePopup();\n\t\t\t\t}\n\t\t\t}, 100);\n\t\t},\n\t\tupdateHoverElement(event: MouseEvent): void\n\t\t{\n\t\t\tthis.hoverElement = event.target;\n\t\t},\n\t\tasync showPopup(): Promise<void>\n\t\t{\n\t\t\tif (this.groupInfoPromise)\n\t\t\t{\n\t\t\t\tthis.groupInfo = await this.groupInfoPromise;\n\t\t\t}\n\n\t\t\tif (!this.group || Object.keys(this.groupInfo).length === 0)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.clearTimeouts();\n\t\t\tthis.isPopupShown = true;\n\t\t\tawait this.$nextTick();\n\t\t\tthis.$refs.popup.adjustPosition();\n\t\t},\n\t\tclosePopup(): void\n\t\t{\n\t\t\tthis.clearTimeouts();\n\t\t\tthis.isPopupShown = false;\n\t\t\tEvent.unbind(this.$refs.container, 'mouseleave', this.handleMouseLeave);\n\t\t\tEvent.unbind(document, 'mouseover', this.updateHoverElement);\n\t\t},\n\t\tclearTimeouts(): void\n\t\t{\n\t\t\tclearTimeout(this.closeTimeout);\n\t\t\tclearTimeout(this.showTimeout);\n\t\t},\n\t},\n\ttemplate: `\n\t\t<Popup v-if=\"isPopupShown\" :options ref=\"popup\" @close=\"closePopup\">\n\t\t\t<div class=\"tasks-field-group-popup\" ref=\"container\">\n\t\t\t\t<div class=\"tasks-field-group-popup-header\">\n\t\t\t\t\t<img class=\"tasks-field-group-popup-image\" :src=\"encodeURI(group?.image)\" :alt=\"group?.name\">\n\t\t\t\t\t<div class=\"tasks-field-group-popup-title-container\">\n\t\t\t\t\t\t<div class=\"tasks-field-group-popup-title\" :title=\"group?.name\">{{ group?.name }}</div>\n\t\t\t\t\t\t<div class=\"tasks-field-group-popup-subtitle\">{{ groupMembersCountFormatted }}</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"tasks-field-group-popup-button\">\n\t\t\t\t\t<UiButton\n\t\t\t\t\t\t:text=\"groupAboutFormatted\"\n\t\t\t\t\t\t:style=\"AirButtonStyle.OUTLINE_ACCENT_2\"\n\t\t\t\t\t\t:size=\"ButtonSize.SMALL\"\n\t\t\t\t\t\twide\n\t\t\t\t\t\t@click=\"openGroup\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"tasks-field-group-popup-info\">\n\t\t\t\t\t<div class=\"tasks-field-group-popup-field\">\n\t\t\t\t\t\t<div class=\"tasks-field-group-popup-field-title\">{{ loc('TASKS_V2_GROUP_OWNER') }}</div>\n\t\t\t\t\t\t<div class=\"tasks-field-group-popup-field-value\">\n\t\t\t\t\t\t\t<a :href=\"groupOwnerUrl\">{{ groupInfo.ownerName }}</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"tasks-field-group-popup-field\">\n\t\t\t\t\t\t<div class=\"tasks-field-group-popup-field-title\">{{ loc('TASKS_V2_GROUP_DATE_CREATE') }}</div>\n\t\t\t\t\t\t<div class=\"tasks-field-group-popup-field-value\">{{ groupInfo.dateCreate }}</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"tasks-field-group-popup-field\">\n\t\t\t\t\t\t<div class=\"tasks-field-group-popup-field-title\">{{ loc('TASKS_V2_GROUP_SUBJECT') }}</div>\n\t\t\t\t\t\t<div class=\"tasks-field-group-popup-field-value\">{{ groupInfo.subjectTitle }}</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</Popup>\n\t`,\n};\n","import { Notifier } from 'ui.notification-manager';\n\nimport { Core } from 'tasks.v2.core';\nimport { EntitySelectorEntity, Model, Endpoint } from 'tasks.v2.const';\nimport { EntitySelectorDialog, type ItemId } from 'tasks.v2.lib.entity-selector-dialog';\nimport { taskService } from 'tasks.v2.provider.service.task-service';\nimport { groupService } from 'tasks.v2.provider.service.group-service';\n\ntype Params = {\n\ttargetNode: HTMLElement,\n\ttaskId: number | string,\n\tonClose: Function,\n};\n\nexport const groupDialog = new class\n{\n\t#dialog: EntitySelectorDialog;\n\t#taskId: number | string;\n\t#onClose: Function | null;\n\n\tshow(params: Params): void\n\t{\n\t\tthis.#taskId = params.taskId;\n\t\tthis.#onClose = params.onClose;\n\n\t\tthis.#dialog ??= this.#createDialog();\n\t\tthis.#dialog.selectItemsByIds(this.#items);\n\t\tthis.#dialog.showTo(params.targetNode);\n\t}\n\n\t#createDialog(): EntitySelectorDialog\n\t{\n\t\treturn new EntitySelectorDialog({\n\t\t\tcontext: 'tasks-card',\n\t\t\tmultiple: false,\n\t\t\thideOnDeselect: true,\n\t\t\tenableSearch: true,\n\t\t\tentities: [\n\t\t\t\t{\n\t\t\t\t\tid: EntitySelectorEntity.Project,\n\t\t\t\t},\n\t\t\t],\n\t\t\tpreselectedItems: this.#items,\n\t\t\tevents: {\n\t\t\t\tonLoad: this.#fillStore,\n\t\t\t},\n\t\t\tpopupOptions: {\n\t\t\t\tevents: {\n\t\t\t\t\tonClose: this.#handleGroupSelect,\n\t\t\t\t},\n\t\t\t},\n\t\t});\n\t}\n\n\t#handleGroupSelect = async (): Promise<void> => {\n\t\tconst groupId = await this.#fillStore();\n\n\t\tgroupService.setHasScrumInfo(this.#taskId);\n\n\t\tthis.#onClose?.(groupId);\n\n\t\tconst result = await taskService.update(this.#taskId, { groupId, stageId: 0 });\n\n\t\tif (result[Endpoint.TaskUpdate]?.length)\n\t\t{\n\t\t\tconst error = result[Endpoint.TaskUpdate][0];\n\n\t\t\tNotifier.notifyViaBrowserProvider({\n\t\t\t\tid: 'task-notify-update-group-error',\n\t\t\t\ttext: error?.message,\n\t\t\t});\n\t\t}\n\t};\n\n\t#fillStore = async (): Promise<number> => {\n\t\tconst item = this.#dialog.getSelectedItems()[0];\n\t\tif (!item)\n\t\t{\n\t\t\treturn 0;\n\t\t}\n\n\t\tconst group = {\n\t\t\tid: item.getId(),\n\t\t\tname: item.getTitle(),\n\t\t\timage: item.getAvatar(),\n\t\t\ttype: item.getEntityType(),\n\t\t};\n\n\t\tawait Core.getStore().dispatch(`${Model.Groups}/insert`, group);\n\n\t\treturn group.id;\n\t};\n\n\tget #items(): ItemId[]\n\t{\n\t\tconst groupId = taskService.getStoreTask(this.#taskId).groupId;\n\n\t\treturn groupId ? [[EntitySelectorEntity.Project, groupId]] : [];\n\t}\n}();\n","import { BMenu, MenuItemDesign, type MenuOptions } from 'ui.system.menu.vue';\nimport { BIcon, Outline } from 'ui.icon-set.api.vue';\nimport 'ui.icon-set.outline';\n\nimport { Core } from 'tasks.v2.core';\nimport { GroupType, Model } from 'tasks.v2.const';\nimport { Hint } from 'tasks.v2.component.elements.hint';\nimport { HoverPill } from 'tasks.v2.component.elements.hover-pill';\nimport { FieldAdd } from 'tasks.v2.component.elements.field-add';\nimport { groupService } from 'tasks.v2.provider.service.group-service';\nimport { taskService } from 'tasks.v2.provider.service.task-service';\nimport type { GroupModel } from 'tasks.v2.model.groups';\nimport type { TaskModel } from 'tasks.v2.model.tasks';\nimport { showLimit } from 'tasks.v2.lib.show-limit';\n\nimport { groupMeta } from './group-meta';\nimport { GroupPopup } from './group-popup/group-popup';\nimport { groupDialog } from './group-dialog';\nimport './group.css';\n\n// @vue/component\nexport const Group = {\n\tcomponents: {\n\t\tBIcon,\n\t\tBMenu,\n\t\tHint,\n\t\tHoverPill,\n\t\tFieldAdd,\n\t\tGroupPopup,\n\t},\n\tinject: {\n\t\ttask: {},\n\t\ttaskId: {},\n\t\tisEdit: {},\n\t},\n\tsetup(): { task: TaskModel }\n\t{\n\t\treturn {\n\t\t\tgroupMeta,\n\t\t\tOutline,\n\t\t};\n\t},\n\tdata(): Object\n\t{\n\t\treturn {\n\t\t\tisMenuShown: false,\n\t\t\tisHintShown: false,\n\t\t};\n\t},\n\tcomputed: {\n\t\tgroup(): GroupModel\n\t\t{\n\t\t\treturn this.$store.getters[`${Model.Groups}/getById`](this.task.groupId);\n\t\t},\n\t\tmenuOptions(): MenuOptions\n\t\t{\n\t\t\treturn {\n\t\t\t\tid: 'tasks-field-group-menu',\n\t\t\t\tbindElement: this.$refs.group,\n\t\t\t\toffsetTop: 8,\n\t\t\t\titems: [\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle: this.getAboutItemTitle(),\n\t\t\t\t\t\ticon: Outline.FOLDER,\n\t\t\t\t\t\tonClick: this.openGroup,\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle: this.loc('TASKS_V2_GROUP_CHANGE'),\n\t\t\t\t\t\ticon: Outline.EDIT_L,\n\t\t\t\t\t\tonClick: this.isLocked ? this.showLimitDialog : this.showDialog,\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tdesign: MenuItemDesign.Alert,\n\t\t\t\t\t\ttitle: this.loc('TASKS_V2_GROUP_CLEAR'),\n\t\t\t\t\t\ticon: Outline.CROSS_L,\n\t\t\t\t\t\tonClick: this.clearField,\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t\ttargetContainer: document.body,\n\t\t\t};\n\t\t},\n\t\tgroupName(): string\n\t\t{\n\t\t\treturn this.group?.name ?? this.loc('TASKS_V2_GROUP_HIDDEN');\n\t\t},\n\t\tgroupImage(): string\n\t\t{\n\t\t\treturn encodeURI(this.group?.image);\n\t\t},\n\t\tisSecret(): boolean\n\t\t{\n\t\t\treturn Boolean(this.task.groupId) && !this.group;\n\t\t},\n\t\thasFlow(): boolean\n\t\t{\n\t\t\treturn this.task.flowId > 0;\n\t\t},\n\t\treadonly(): boolean\n\t\t{\n\t\t\treturn !this.task.rights.edit || this.hasFlow;\n\t\t},\n\t\tisLocked(): boolean\n\t\t{\n\t\t\treturn !Core.getParams().restrictions.project.available;\n\t\t},\n\t},\n\tmethods: {\n\t\tgetAboutItemTitle(): string\n\t\t{\n\t\t\treturn {\n\t\t\t\t[GroupType.Collab]: this.loc('TASKS_V2_GROUP_ABOUT_COLLAB'),\n\t\t\t\t[GroupType.Scrum]: this.loc('TASKS_V2_GROUP_ABOUT_SCRUM'),\n\t\t\t}[this.group?.type] ?? this.loc('TASKS_V2_GROUP_ABOUT');\n\t\t},\n\t\thandleClick(): void\n\t\t{\n\t\t\tif (!this.isEdit && this.hasFlow)\n\t\t\t{\n\t\t\t\tthis.isHintShown = true;\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (this.readonly)\n\t\t\t{\n\t\t\t\tif (!this.isSecret)\n\t\t\t\t{\n\t\t\t\t\tvoid this.openGroup();\n\t\t\t\t}\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (this.isEdit && this.group)\n\t\t\t{\n\t\t\t\tthis.isMenuShown = true;\n\t\t\t}\n\t\t\telse if (this.isLocked)\n\t\t\t{\n\t\t\t\tthis.showLimitDialog();\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.showDialog();\n\t\t\t}\n\t\t},\n\t\tasync openGroup(): Promise<void>\n\t\t{\n\t\t\tconst href = await groupService.getUrl(this.group.id, this.group.type);\n\n\t\t\tBX.SidePanel.Instance.emulateAnchorClick(href);\n\t\t},\n\t\tshowDialog(): void\n\t\t{\n\t\t\tgroupDialog.show({\n\t\t\t\ttargetNode: this.$refs.group,\n\t\t\t\ttaskId: this.taskId,\n\t\t\t});\n\t\t},\n\t\tclearField(): void\n\t\t{\n\t\t\tvoid taskService.update(this.taskId, {\n\t\t\t\tgroupId: 0,\n\t\t\t\tstageId: 0,\n\t\t\t});\n\t\t},\n\t\tshowLimitDialog(): void\n\t\t{\n\t\t\tvoid showLimit({\n\t\t\t\tfeatureId: Core.getParams().restrictions.project.featureId,\n\t\t\t});\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div\n\t\t\t:data-task-id=\"taskId\"\n\t\t\t:data-task-field-id=\"groupMeta.id\"\n\t\t\t:data-task-field-value=\"task.groupId\"\n\t\t\tref=\"group\"\n\t\t>\n\t\t\t<div class=\"tasks-field-group-group\" :class=\"{ '--secret': isSecret }\" @click=\"handleClick\">\n\t\t\t\t<HoverPill\n\t\t\t\t\tv-if=\"task.groupId\"\n\t\t\t\t\t:withClear=\"!readonly && !isEdit && (task.flowId ?? 0) <= 0\"\n\t\t\t\t\t:active=\"isMenuShown\"\n\t\t\t\t\t@clear=\"clearField\"\n\t\t\t\t>\n\t\t\t\t\t<img v-if=\"groupImage\" class=\"tasks-field-group-image\" :src=\"groupImage\" :alt=\"groupName\"/>\n\t\t\t\t\t<BIcon v-else class=\"tasks-field-group-icon\" :name=\"Outline.FOLDER\"/>\n\t\t\t\t\t<div class=\"tasks-field-group-title\">{{ groupName }}</div>\n\t\t\t\t</HoverPill>\n\t\t\t\t<FieldAdd v-else :icon=\"Outline.FOLDER_PLUS\"/>\n\t\t\t</div>\n\t\t</div>\n\t\t<Hint v-if=\"isHintShown\" :bindElement=\"$refs.group\" @close=\"isHintShown = false\">\n\t\t\t{{ loc('TASKS_V2_GROUP_CANT_CHANGE_FLOW') }}\n\t\t</Hint>\n\t\t<BMenu v-if=\"isMenuShown\" :options=\"menuOptions\" @close=\"isMenuShown = false\"/>\n\t\t<GroupPopup :getBindElement=\"() => $refs.group\"/>\n\t`,\n};\n","import { BMenu, type MenuOptions, type MenuItemOptions } from 'ui.system.menu.vue';\nimport { BLine } from 'ui.system.skeleton.vue';\nimport { Icon } from 'ui.icon-set.api.core';\nimport { BIcon, CRM, Outline } from 'ui.icon-set.api.vue';\nimport 'ui.icon-set.crm';\nimport 'ui.icon-set.outline';\n\nimport { Model } from 'tasks.v2.const';\nimport { Color } from 'tasks.v2.lib.color';\nimport { groupService } from 'tasks.v2.provider.service.group-service';\nimport { taskService } from 'tasks.v2.provider.service.task-service';\nimport { ScrumManager } from 'tasks.v2.lib.scrum-manager';\nimport type { GroupModel } from 'tasks.v2.model.groups';\nimport type { StageModel } from 'tasks.v2.model.stages';\nimport type { TaskModel } from 'tasks.v2.model.tasks';\n\nimport './stage.css';\n\n// @vue/component\nexport const Stage = {\n\tcomponents: {\n\t\tBIcon,\n\t\tBMenu,\n\t\tBLine,\n\t},\n\tinject: {\n\t\ttask: {},\n\t\ttaskId: {},\n\t\tisEdit: {},\n\t},\n\tsetup(): { task: TaskModel }\n\t{\n\t\treturn {\n\t\t\tOutline,\n\t\t};\n\t},\n\tdata(): Object\n\t{\n\t\treturn {\n\t\t\tisMenuShown: false,\n\t\t};\n\t},\n\tcomputed: {\n\t\tgroup(): GroupModel\n\t\t{\n\t\t\treturn this.$store.getters[`${Model.Groups}/getById`](this.task.groupId);\n\t\t},\n\t\tgroupId(): number\n\t\t{\n\t\t\treturn this.task.groupId;\n\t\t},\n\t\tstageId(): number\n\t\t{\n\t\t\treturn this.task.stageId;\n\t\t},\n\t\tstage(): StageModel\n\t\t{\n\t\t\treturn this.$store.getters[`${Model.Stages}/getById`](this.stageId) ?? null;\n\t\t},\n\t\tmenuOptions(): Function\n\t\t{\n\t\t\treturn (): MenuOptions => ({\n\t\t\t\tid: 'tasks-field-group-stage-menu',\n\t\t\t\tbindElement: this.$refs.stage,\n\t\t\t\toffsetTop: 8,\n\t\t\t\tmaxWidth: 500,\n\t\t\t\titems: this.menuItems,\n\t\t\t\tmaxHeight: window.innerHeight / 2,\n\t\t\t\ttargetContainer: document.body,\n\t\t\t});\n\t\t},\n\t\tmenuItems(): MenuItemOptions[]\n\t\t{\n\t\t\tconst stages = this.$store.getters[`${Model.Stages}/getByIds`](this.group.stagesIds ?? [])\n\t\t\t\t.sort(({ sort: a }, { sort: b }) => a - b)\n\t\t\t;\n\n\t\t\treturn stages?.map((stage: StageModel): MenuItemOptions => ({\n\t\t\t\ttitle: stage.title,\n\t\t\t\tsvg: this.getStageSvg(new Color(stage.color).limit(250).toRgb()),\n\t\t\t\tisSelected: stage.id === this.stage.id,\n\t\t\t\tonClick: () => this.setStage(stage.id),\n\t\t\t}));\n\t\t},\n\t\tbackgroundColor(): string\n\t\t{\n\t\t\treturn new Color(this.stage.color).setOpacity(0.1).limit(250).toRgb();\n\t\t},\n\t\tisDarkColor(): boolean\n\t\t{\n\t\t\treturn new Color(this.stage.color).isDark();\n\t\t},\n\t\treadonly(): boolean\n\t\t{\n\t\t\treturn !this.task.rights.sort;\n\t\t},\n\t},\n\twatch: {\n\t\tgroupId(): void\n\t\t{\n\t\t\tvoid this.loadStagesForCreation();\n\t\t},\n\t},\n\tcreated(): void\n\t{\n\t\tvoid this.loadStagesForCreation();\n\t},\n\tmethods: {\n\t\tgetStageSvg(color: string): SVGElement\n\t\t{\n\t\t\treturn new Icon({ icon: CRM.STAGE, color }).render();\n\t\t},\n\t\tasync handleClick(): Promise<void>\n\t\t{\n\t\t\tif (this.readonly)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (!this.group.stagesIds || this.group.stagesIds.length === 0)\n\t\t\t{\n\t\t\t\tawait groupService.getStages(this.groupId);\n\t\t\t}\n\n\t\t\tthis.isMenuShown = true;\n\t\t},\n\t\tasync setStage(stageId: number): Promise<void>\n\t\t{\n\t\t\tconst scrumManager = new ScrumManager({\n\t\t\t\ttaskId: this.task.id,\n\t\t\t\tparentId: this.task.parentId,\n\t\t\t\tgroupId: this.task.groupId,\n\t\t\t});\n\n\t\t\tlet canMove = true;\n\t\t\tif (scrumManager.isScrum(this.group?.type))\n\t\t\t{\n\t\t\t\tconst stage: StageModel = await this.$store.getters[`${Model.Stages}/getById`](stageId) ?? null;\n\t\t\t\tif (stage.systemType === 'FINISH')\n\t\t\t\t{\n\t\t\t\t\tcanMove = await scrumManager.handleDodDisplay();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (!canMove)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tawait taskService.setStage(this.taskId, stageId);\n\n\t\t\tif (scrumManager.isScrum(this.group?.type))\n\t\t\t{\n\t\t\t\tvoid scrumManager?.handleParentState();\n\t\t\t}\n\t\t},\n\t\tasync loadStagesForCreation(): Promise<void>\n\t\t{\n\t\t\tif (this.isEdit || this.group.stagesIds)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tawait groupService.getStages(this.groupId);\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div\n\t\t\tv-if=\"stage?.id\"\n\t\t\tclass=\"tasks-field-group-stage\"\n\t\t\t:class=\"{ '--dark': isDarkColor, '--readonly': readonly }\"\n\t\t\t:style=\"{\n\t\t\t\t'--stage-color': '#' + stage.color,\n\t\t\t\t'--stage-background': backgroundColor,\n\t\t\t}\"\n\t\t\t:title=\"stage?.title\"\n\t\t\t:data-task-id=\"taskId\"\n\t\t\t:data-task-field-id=\"'stageId'\"\n\t\t\t:data-task-field-value=\"stageId\"\n\t\t\t:data-task-stage-title=\"stage?.title\"\n\t\t\tref=\"stage\"\n\t\t\t@click=\"handleClick\"\n\t\t>\n\t\t\t<div class=\"tasks-field-group-stage-text-container\">\n\t\t\t\t<div class=\"tasks-field-group-stage-text\">{{ stage.title }}</div>\n\t\t\t</div>\n\t\t\t<div class=\"tasks-field-group-stage-arrow\"/>\n\t\t\t<BIcon v-if=\"!readonly\" :name=\"Outline.CHEVRON_DOWN_S\"/>\n\t\t</div>\n\t\t<div v-else class=\"tasks-field-group-stage-loader\">\n\t\t\t<BLine :width=\"80\" :height=\"10\"/>\n\t\t</div>\n\t\t<BMenu v-if=\"isMenuShown\" :options=\"menuOptions()\" @close=\"isMenuShown = false\"/>\n\t`,\n};\n","import { Runtime } from 'main.core';\nimport { TextXs } from 'ui.system.typography.vue';\nimport { BLine } from 'ui.system.skeleton.vue';\nimport { BIcon, Outline } from 'ui.icon-set.api.vue';\nimport 'ui.icon-set.outline';\n\nimport { EntitySelectorEntity, Model } from 'tasks.v2.const';\nimport { EntitySelectorDialog } from 'tasks.v2.lib.entity-selector-dialog';\nimport { Color } from 'tasks.v2.lib.color';\nimport { taskService } from 'tasks.v2.provider.service.task-service';\nimport { groupService } from 'tasks.v2.provider.service.group-service';\nimport type { EpicModel } from 'tasks.v2.model.epics';\nimport type { TaskModel } from 'tasks.v2.model.tasks';\n\nimport './epic.css';\n\n// @vue/component\nexport const Epic = {\n\tcomponents: {\n\t\tTextXs,\n\t\tBIcon,\n\t\tBLine,\n\t},\n\tinject: {\n\t\ttask: {},\n\t\ttaskId: {},\n\t},\n\tsetup(): { task: TaskModel }\n\t{\n\t\treturn {\n\t\t\tOutline,\n\t\t};\n\t},\n\tdata(): Object\n\t{\n\t\treturn {\n\t\t\thasScrumInfo: groupService.hasScrumInfo(this.taskId),\n\t\t};\n\t},\n\tcomputed: {\n\t\tepic(): ?EpicModel\n\t\t{\n\t\t\treturn this.$store.getters[`${Model.Epics}/getById`](this.task.epicId);\n\t\t},\n\t\tpreselectedEpic(): [string, number][]\n\t\t{\n\t\t\treturn this.epic ? [['epic-selector', this.epic.id]] : [];\n\t\t},\n\t\tepicColor(): string\n\t\t{\n\t\t\tif (!this.epic)\n\t\t\t{\n\t\t\t\treturn '';\n\t\t\t}\n\n\t\t\treturn new Color(this.epic.color).toRgb();\n\t\t},\n\t\tbackgroundColor(): string\n\t\t{\n\t\t\tif (!this.epic)\n\t\t\t{\n\t\t\t\treturn '';\n\t\t\t}\n\n\t\t\treturn new Color(this.epic.color).setOpacity(0.3).limit(250).toRgb();\n\t\t},\n\t\tisDarkColor(): boolean\n\t\t{\n\t\t\tif (!this.epic)\n\t\t\t{\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\treturn new Color(this.epic.color).isDark();\n\t\t},\n\t},\n\tasync mounted(): Promise<void>\n\t{\n\t\tawait groupService.getScrumInfo(this.taskId);\n\n\t\tthis.hasScrumInfo = groupService.hasScrumInfo(this.taskId);\n\t},\n\tmethods: {\n\t\tshowDialog(): void\n\t\t{\n\t\t\tthis.handleEpicSelectedDebounced ??= Runtime.debounce(this.handleEpicSelected, 10, this);\n\n\t\t\tthis.dialog ??= new EntitySelectorDialog({\n\t\t\t\tmultiple: false,\n\t\t\t\tdropdownMode: true,\n\t\t\t\tenableSearch: true,\n\t\t\t\tcompactView: true,\n\t\t\t\thideOnDeselect: true,\n\t\t\t\tentities: [\n\t\t\t\t\t{\n\t\t\t\t\t\tid: EntitySelectorEntity.Epic,\n\t\t\t\t\t\toptions: {\n\t\t\t\t\t\t\tgroupId: this.task.groupId,\n\t\t\t\t\t\t},\n\t\t\t\t\t\tdynamicLoad: true,\n\t\t\t\t\t\tdynamicSearch: true,\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t\tpreselectedItems: this.preselectedEpic,\n\t\t\t\tevents: {\n\t\t\t\t\t'Item:onSelect': this.handleEpicSelectedDebounced,\n\t\t\t\t\t'Item:onDeselect': this.handleEpicSelectedDebounced,\n\t\t\t\t},\n\t\t\t});\n\n\t\t\tthis.dialog.selectItemsByIds(this.preselectedEpic);\n\t\t\tthis.dialog.showTo(this.$el);\n\t\t},\n\t\thandleEpicSelected(): void\n\t\t{\n\t\t\tconst item = this.dialog.getSelectedItems()[0];\n\t\t\tif (item)\n\t\t\t{\n\t\t\t\tvoid this.$store.dispatch(`${Model.Epics}/insert`, {\n\t\t\t\t\tid: item.getId(),\n\t\t\t\t\ttitle: item.getTitle(),\n\t\t\t\t\tcolor: item.getAvatarOption('bgColor'),\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tvoid taskService.update(this.taskId, {\n\t\t\t\tepicId: item?.getId() ?? 0,\n\t\t\t});\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div\n\t\t\tv-if=\"hasScrumInfo\"\n\t\t\tclass=\"tasks-field-epic\"\n\t\t\t:class=\"{ '--dark': isDarkColor, '--filled': epic }\"\n\t\t\t:style=\"{\n\t\t\t\t'--epic-color': epicColor,\n\t\t\t\t'--epic-background': backgroundColor,\n\t\t\t}\"\n\t\t\t:title=\"epic?.title\"\n\t\t\t@click=\"showDialog\"\n\t\t>\n\t\t\t<TextXs className=\"tasks-field-epic-title\">\n\t\t\t\t{{ epic?.title || loc('TASKS_V2_GROUP_CHOOSE_EPIC') }}\n\t\t\t</TextXs>\n\t\t\t<BIcon :name=\"Outline.CHEVRON_DOWN_S\"/>\n\t\t</div>\n\t\t<div v-else class=\"tasks-field-epic-loader\">\n\t\t\t<BLine :width=\"80\" :height=\"10\"/>\n\t\t</div>\n\t`,\n};\n","import { TextXs } from 'ui.system.typography.vue';\nimport { BLine } from 'ui.system.skeleton.vue';\n\nimport { taskService } from 'tasks.v2.provider.service.task-service';\nimport { groupService } from 'tasks.v2.provider.service.group-service';\nimport type { TaskModel } from 'tasks.v2.model.tasks';\n\nimport './story-points.css';\n\n// @vue/component\nexport const StoryPoints = {\n\tcomponents: {\n\t\tTextXs,\n\t\tBLine,\n\t},\n\tinject: {\n\t\ttask: {},\n\t\ttaskId: {},\n\t},\n\tsetup(): { task: TaskModel } {},\n\tdata(): Object\n\t{\n\t\treturn {\n\t\t\tisFocused: false,\n\t\t\thasScrumInfo: groupService.hasScrumInfo(this.taskId),\n\t\t};\n\t},\n\tcomputed: {\n\t\tstoryPoints(): string\n\t\t{\n\t\t\treturn this.task.storyPoints?.trim();\n\t\t},\n\t},\n\tasync mounted(): Promise<void>\n\t{\n\t\tawait groupService.getScrumInfo(this.taskId);\n\n\t\tthis.hasScrumInfo = groupService.hasScrumInfo(this.taskId);\n\t},\n\tmethods: {\n\t\tasync handleClick(): Promise<void>\n\t\t{\n\t\t\tthis.isFocused = true;\n\n\t\t\tawait this.$nextTick();\n\n\t\t\tthis.$refs.input.focus();\n\t\t},\n\t\thandleBlur(): void\n\t\t{\n\t\t\tthis.isFocused = false;\n\n\t\t\tvoid taskService.update(this.taskId, {\n\t\t\t\tstoryPoints: this.$refs.input.value.trim(),\n\t\t\t});\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div v-if=\"hasScrumInfo\" class=\"tasks-field-story-points\" :class=\"{ '--filled': storyPoints }\">\n\t\t\t<input\n\t\t\t\tv-if=\"isFocused\"\n\t\t\t\tclass=\"tasks-field-story-points-input\"\n\t\t\t\t:value=\"storyPoints\"\n\t\t\t\tref=\"input\"\n\t\t\t\t@blur=\"handleBlur\"\n\t\t\t/>\n\t\t\t<TextXs\n\t\t\t\tv-else\n\t\t\t\tclassName=\"tasks-field-story-points-text\"\n\t\t\t\t@click=\"handleClick\"\n\t\t\t>\n\t\t\t\t{{ storyPoints || '-' }}\n\t\t\t</TextXs>\n\t\t</div>\n\t\t<div v-else class=\"tasks-field-story-points-loader\">\n\t\t\t<BLine :width=\"30\" :height=\"10\"/>\n\t\t</div>\n\t`,\n};\n","import { Chip, ChipDesign, type ChipImage } from 'ui.system.chip.vue';\nimport { Outline } from 'ui.icon-set.api.vue';\nimport 'ui.icon-set.outline';\n\nimport { Core } from 'tasks.v2.core';\nimport { Model } from 'tasks.v2.const';\nimport { Hint } from 'tasks.v2.component.elements.hint';\nimport { fieldHighlighter } from 'tasks.v2.lib.field-highlighter';\nimport { showLimit } from 'tasks.v2.lib.show-limit';\nimport { analytics } from 'tasks.v2.lib.analytics';\nimport { groupService } from 'tasks.v2.provider.service.group-service';\nimport { taskService } from 'tasks.v2.provider.service.task-service';\nimport type { GroupModel } from 'tasks.v2.model.groups';\nimport type { TaskModel } from 'tasks.v2.model.tasks';\n\nimport { groupMeta } from './group-meta';\nimport { groupDialog } from './group-dialog';\nimport { GroupPopup } from './group-popup/group-popup';\n\n// @vue/component\nexport const GroupChip = {\n\tcomponents: {\n\t\tChip,\n\t\tHint,\n\t\tGroupPopup,\n\t},\n\tinject: {\n\t\tanalytics: {},\n\t\tcardType: {},\n\t\ttask: {},\n\t\ttaskId: {},\n\t},\n\tprops: {\n\t\tisAutonomous: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t},\n\tsetup(): { task: TaskModel }\n\t{\n\t\treturn {\n\t\t\tgroupMeta,\n\t\t};\n\t},\n\tdata(): Object\n\t{\n\t\treturn {\n\t\t\tdoShowHint: false,\n\t\t};\n\t},\n\tcomputed: {\n\t\tgroup(): ?GroupModel\n\t\t{\n\t\t\treturn this.$store.getters[`${Model.Groups}/getById`](this.task.groupId);\n\t\t},\n\t\tdesign(): string\n\t\t{\n\t\t\treturn {\n\t\t\t\t[!this.isAutonomous && !this.isSelected]: ChipDesign.ShadowNoAccent,\n\t\t\t\t[!this.isAutonomous && this.isSelected]: ChipDesign.ShadowAccent,\n\t\t\t\t[this.isAutonomous && !this.isSelected]: ChipDesign.OutlineNoAccent,\n\t\t\t\t[this.isAutonomous && this.isSelected]: ChipDesign.OutlineAccent,\n\t\t\t}.true;\n\t\t},\n\t\tisSelected(): boolean\n\t\t{\n\t\t\tif (this.isAutonomous)\n\t\t\t{\n\t\t\t\treturn this.task.groupId > 0;\n\t\t\t}\n\n\t\t\treturn this.task.filledFields[groupMeta.id];\n\t\t},\n\t\tisFilled(): boolean\n\t\t{\n\t\t\treturn Boolean(this.isAutonomous && this.group);\n\t\t},\n\t\tisFlowFilled(): boolean\n\t\t{\n\t\t\treturn this.task.flowId > 0;\n\t\t},\n\t\ttext(): string\n\t\t{\n\t\t\tif (this.isFilled)\n\t\t\t{\n\t\t\t\treturn this.group?.name ?? this.loc('TASKS_V2_GROUP_HIDDEN');\n\t\t\t}\n\n\t\t\treturn this.loc('TASKS_V2_GROUP_TITLE_CHIP');\n\t\t},\n\t\ticon(): ?string\n\t\t{\n\t\t\tif (this.isFilled)\n\t\t\t{\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\treturn Outline.FOLDER;\n\t\t},\n\t\timage(): ?ChipImage\n\t\t{\n\t\t\tif (!this.isFilled)\n\t\t\t{\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tsrc: encodeURI(this.group?.image),\n\t\t\t\talt: this.group?.name,\n\t\t\t};\n\t\t},\n\t\tcanChange(): boolean\n\t\t{\n\t\t\treturn (this.task.flowId ?? 0) <= 0;\n\t\t},\n\t\tisLocked(): boolean\n\t\t{\n\t\t\treturn !Core.getParams().restrictions.project.available;\n\t\t},\n\t},\n\tcreated(): void\n\t{\n\t\tif (this.task.groupId && !this.group)\n\t\t{\n\t\t\tvoid groupService.getGroup(this.task.groupId);\n\t\t}\n\t},\n\tmethods: {\n\t\thandleClick(): void\n\t\t{\n\t\t\tif (!this.isAutonomous && this.isSelected)\n\t\t\t{\n\t\t\t\tthis.highlightField();\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (this.isLocked)\n\t\t\t{\n\t\t\t\tvoid showLimit({\n\t\t\t\t\tfeatureId: Core.getParams().restrictions.project.featureId,\n\t\t\t\t});\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (this.isFlowFilled)\n\t\t\t{\n\t\t\t\tthis.doShowHint = true;\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tgroupDialog.show({\n\t\t\t\ttargetNode: this.$refs.chip.$el,\n\t\t\t\ttaskId: this.taskId,\n\t\t\t\tonClose: this.handleDialogClose,\n\t\t\t});\n\t\t},\n\t\thandleDialogClose(groupId: number): void\n\t\t{\n\t\t\tif (this.isAutonomous)\n\t\t\t{\n\t\t\t\tthis.$refs.chip?.$el.focus();\n\t\t\t}\n\n\t\t\tif (!this.isAutonomous && this.isSelected)\n\t\t\t{\n\t\t\t\tthis.highlightField();\n\t\t\t}\n\n\t\t\tif (groupId && groupId !== this.task.groupId)\n\t\t\t{\n\t\t\t\tanalytics.sendAddProject(this.analytics, {\n\t\t\t\t\tcardType: this.cardType,\n\t\t\t\t\tviewersCount: this.task.auditorsIds.length,\n\t\t\t\t\tcoexecutorsCount: this.task.accomplicesIds.length,\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\thighlightField(): void\n\t\t{\n\t\t\tvoid fieldHighlighter.setContainer(this.$root.$el).highlight(groupMeta.id);\n\t\t},\n\t\thandleClear(): void\n\t\t{\n\t\t\tvoid taskService.update(this.taskId, {\n\t\t\t\tgroupId: 0,\n\t\t\t\tstageId: 0,\n\t\t\t});\n\t\t},\n\t},\n\ttemplate: `\n\t\t<Chip\n\t\t\t:design\n\t\t\t:icon\n\t\t\t:image\n\t\t\t:text\n\t\t\t:withClear=\"isFilled && !isFlowFilled\"\n\t\t\t:lock=\"isLocked\"\n\t\t\t:trimmable=\"isFilled\"\n\t\t\t:data-task-id=\"taskId\"\n\t\t\t:data-task-chip-id=\"groupMeta.id\"\n\t\t\t:data-task-chip-value=\"task.groupId\"\n\t\t\tref=\"chip\"\n\t\t\t@click=\"handleClick\"\n\t\t\t@clear=\"handleClear\"\n\t\t/>\n\t\t<Hint\n\t\t\tv-if=\"doShowHint\"\n\t\t\t:bindElement=\"$refs.chip.$el\"\n\t\t\t@close=\"doShowHint = false\"\n\t\t>\n\t\t\t{{ loc('TASKS_V2_GROUP_CANT_CHANGE_FLOW') }}\n\t\t</Hint>\n\t\t<GroupPopup v-if=\"isAutonomous\" :getBindElement=\"() => $refs.chip.$el\"/>\n\t`,\n};\n"],"names":["groupMeta","Object","freeze","id","TaskField","Group","title","Loc","getMessage","stageTitle","epicTitle","storyPointsTitle","getTitle","groupId","group","Core","getStore","getters","Model","Groups","GroupType","Collab","Scrum","type","GroupPopup","components","Popup","UiButton","inject","task","props","getBindElement","Function","required","emits","setup","AirButtonStyle","ButtonSize","data","isPopupShown","groupInfo","computed","$store","bindElement","options","padding","minWidth","maxWidth","offsetTop","targetContainer","document","body","groupOwnerUrl","userService","getUrl","ownerId","groupMembersCountFormatted","getMessagePlural","numberOfMembers","groupAboutFormatted","loc","mounted","Event","bind","handleClick","handleMouseEnter","handleMouseLeave","methods","openGroup","href","groupService","BX","SidePanel","Instance","emulateAnchorClick","clearTimeouts","groupInfoPromise","getGroupInfo","showTimeout","setTimeout","showPopup","unbind","updateHoverElement","closeTimeout","$refs","container","contains","hoverElement","closePopup","event","target","keys","length","$nextTick","popup","adjustPosition","clearTimeout","template","groupDialog","setHasScrumInfo","result","taskService","update","stageId","Endpoint","TaskUpdate","error","Notifier","notifyViaBrowserProvider","text","message","item","getSelectedItems","getId","name","image","getAvatar","getEntityType","dispatch","show","params","taskId","onClose","selectItemsByIds","showTo","targetNode","EntitySelectorDialog","context","multiple","hideOnDeselect","enableSearch","entities","EntitySelectorEntity","Project","preselectedItems","events","onLoad","popupOptions","getStoreTask","BIcon","BMenu","Hint","HoverPill","FieldAdd","isEdit","Outline","isMenuShown","isHintShown","menuOptions","items","getAboutItemTitle","icon","FOLDER","onClick","EDIT_L","isLocked","showLimitDialog","showDialog","design","MenuItemDesign","Alert","CROSS_L","clearField","groupName","groupImage","encodeURI","isSecret","Boolean","hasFlow","flowId","readonly","rights","edit","getParams","restrictions","project","available","showLimit","featureId","Stage","BLine","stage","Stages","menuItems","maxHeight","window","innerHeight","stages","stagesIds","sort","a","b","map","svg","getStageSvg","Color","color","limit","toRgb","isSelected","setStage","backgroundColor","setOpacity","isDarkColor","isDark","watch","loadStagesForCreation","created","Icon","CRM","STAGE","render","getStages","scrumManager","ScrumManager","parentId","canMove","isScrum","systemType","handleDodDisplay","handleParentState","Epic","TextXs","hasScrumInfo","epic","Epics","epicId","preselectedEpic","epicColor","getScrumInfo","handleEpicSelectedDebounced","Runtime","debounce","handleEpicSelected","dialog","dropdownMode","compactView","dynamicLoad","dynamicSearch","$el","getAvatarOption","StoryPoints","isFocused","storyPoints","trim","input","focus","handleBlur","value","GroupChip","Chip","analytics","cardType","isAutonomous","default","doShowHint","ChipDesign","ShadowNoAccent","ShadowAccent","OutlineNoAccent","OutlineAccent","true","filledFields","isFilled","isFlowFilled","src","alt","canChange","getGroup","highlightField","chip","handleDialogClose","sendAddProject","viewersCount","auditorsIds","coexecutorsCount","accomplicesIds","fieldHighlighter","setContainer","$root","highlight","handleClear"],"mappings":"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"}