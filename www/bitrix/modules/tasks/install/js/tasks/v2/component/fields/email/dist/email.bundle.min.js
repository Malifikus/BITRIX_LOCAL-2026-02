this.BX=this.BX||{};this.BX.Tasks=this.BX.Tasks||{};this.BX.Tasks.V2=this.BX.Tasks.V2||{};this.BX.Tasks.V2.Component=this.BX.Tasks.V2.Component||{};(function(t,i,e,a,s,l,n,d,m,o,c){"use strict";const k=Object.freeze({id:l.TaskField.Email,title:s.Loc.getMessage("TASKS_V2_EMAIL_TITLE"),fromTitle:s.Loc.getMessage("TASKS_V2_EMAIL_FROM_TITLE"),dateTitle:s.Loc.getMessage("TASKS_V2_EMAIL_DATE_TITLE")});const h={name:"TaskEmail",directives:{hint:i.hint},components:{BIcon:m.BIcon,HoverPill:e.HoverPill},inject:{task:{},taskId:{}},setup(){return{emailMeta:k,Outline:m.Outline}},computed:{email(){return this.task.email},emailTitle(){return s.Type.isStringFilled(this.email.title)&&this.email.title.trim()?this.email.title:this.loc("TASKS_V2_EMAIL_NO_SUBJECT")},emailBody(){return s.Type.isStringFilled(this.email.body)?this.email.body:null},tooltip(){return()=>a.tooltip({text:this.loc("TASKS_V2_EMAIL_TITLE_HINT"),popupOptions:{offsetLeft:this.$refs.email.$el.offsetWidth/2}})}},methods:{handleClick(){BX.SidePanel.Instance.emulateAnchorClick(this.email.link)}},template:`\n\t\t<div\n\t\t\tclass="tasks-field-email"\n\t\t\t:data-task-id="taskId"\n\t\t\t:data-task-field-id="emailMeta.id"\n\t\t\t:data-task-field-value="email.id"\n\t\t>\n\t\t\t<HoverPill v-hint="tooltip" ref="email" @click="handleClick">\n\t\t\t\t<div class="tasks-field-email-content">\n\t\t\t\t\t<BIcon :name="Outline.MAIL"/>\n\t\t\t\t\t<div class="tasks-field-email-title">{{ emailTitle }}</div>\n\t\t\t\t</div>\n\t\t\t</HoverPill>\n\t\t\t<div v-if="emailBody" class="tasks-field-email-subcontent">\n\t\t\t\t<div class="tasks-field-email-subtitle">{{ emailBody }}</div>\n\t\t\t</div>\n\t\t</div>\n\t`};const r={name:"TaskEmailFrom",components:{BIcon:m.BIcon},inject:{task:{},taskId:{}},setup(){return{emailMeta:k,Outline:m.Outline}},computed:{email(){return this.task.email}},template:`\n\t\t<div\n\t\t\tv-if="email.from"\n\t\t\t:data-task-id="taskId"\n\t\t\t:data-task-field-id="emailMeta.id + '_from'"\n\t\t\t:data-task-field-value="email.id"\n\t\t>\n\t\t\t<div class="tasks-field-email-content">\n\t\t\t\t<BIcon :name="Outline.PERSON"/>\n\t\t\t\t<div class="tasks-field-email-title">{{ email.from }}</div>\n\t\t\t</div>\n\t\t</div>\n\t`};const u={name:"TaskEmailDate",components:{BIcon:m.BIcon},inject:{task:{},taskId:{}},setup(){return{emailMeta:k,Outline:m.Outline}},computed:{email(){return this.task.email},emailDate(){return n.calendar.formatDate(this.email.dateTs)}},template:`\n\t\t<div\n\t\t\tv-if="emailDate"\n\t\t\t:data-task-id="taskId"\n\t\t\t:data-task-field-id="emailMeta.id + '_date'"\n\t\t\t:data-task-field-value="email.id"\n\t\t>\n\t\t\t<div class="tasks-field-email-content">\n\t\t\t\t<BIcon :name="Outline.CALENDAR"/>\n\t\t\t\t<div class="tasks-field-email-title">{{ emailDate }}</div>\n\t\t\t</div>\n\t\t</div>\n\t`};const T={components:{Chip:d.Chip},inject:{taskId:{}},setup(){return{Outline:m.Outline,ChipDesign:d.ChipDesign,emailMeta:k}},methods:{highlightField(){void c.fieldHighlighter.setContainer(this.$root.$el).highlight(k.id)}},template:`\n\t\t<Chip\n\t\t\t:design="ChipDesign.ShadowAccent"\n\t\t\t:icon="Outline.MAIL"\n\t\t\t:text="emailMeta.title"\n\t\t\t:data-task-id="taskId"\n\t\t\t:data-task-chip-id="emailMeta.id"\n\t\t\t@click="highlightField"\n\t\t/>\n\t`};t.Email=h;t.EmailFrom=r;t.EmailDate=u;t.EmailChip=T;t.emailMeta=k})(this.BX.Tasks.V2.Component.Fields=this.BX.Tasks.V2.Component.Fields||{},BX.Vue3.Directives,BX.Tasks.V2.Component.Elements,BX.Tasks.V2.Component.Elements,BX,BX.Tasks.V2.Const,BX.Tasks.V2.Lib,BX.UI.System.Chip.Vue,BX.UI.IconSet,BX,BX.Tasks.V2.Lib);
//# sourceMappingURL=email.bundle.map.js