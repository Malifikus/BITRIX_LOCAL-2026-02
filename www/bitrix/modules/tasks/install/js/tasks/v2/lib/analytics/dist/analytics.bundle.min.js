this.BX=this.BX||{};this.BX.Tasks=this.BX.Tasks||{};this.BX.Tasks.V2=this.BX.Tasks.V2||{};(function(e,s,t,a,l){"use strict";const n=s.Extension.getSettings("tasks.v2.lib.analytics");var i=babelHelpers.classPrivateFieldLooseKey("sendRoleChange");var c=babelHelpers.classPrivateFieldLooseKey("sendData");var o=babelHelpers.classPrivateFieldLooseKey("getTypeFromCardType");class r{constructor(){Object.defineProperty(this,o,{value:y});Object.defineProperty(this,c,{value:d});Object.defineProperty(this,i,{value:u})}sendClickCreate(e,s){var t;babelHelpers.classPrivateFieldLooseBase(this,c)[c]({event:l.Analytics.Event.ClickCreate,type:babelHelpers.classPrivateFieldLooseBase(this,o)[o](s.cardType),c_section:(t=e==null?void 0:e.context)!=null?t:l.Analytics.Section.Tasks,...e.additionalContext?{c_sub_section:e.additionalContext}:{},c_element:e.element,status:l.Analytics.Status.Success,p1:l.Analytics.Params.IsDemo(n.isDemo),p2:n.userType,p3:l.Analytics.Params.ViewersCount(s.viewersCount),...s.collabId?{p4:l.Analytics.Params.CollabId(s.collabId)}:{},p5:l.Analytics.Params.CoexecutorsCount(s.coexecutorsCount)})}sendTaskView(e,s){var t;babelHelpers.classPrivateFieldLooseBase(this,c)[c]({event:l.Analytics.Event.TaskView,type:l.Analytics.Type.Task,c_section:(t=e==null?void 0:e.context)!=null?t:l.Analytics.Section.Tasks,...e.additionalContext?{c_sub_section:e.additionalContext}:{},c_element:e.element,status:l.Analytics.Status.Success,p1:l.Analytics.Params.IsDemo(n.isDemo),p3:l.Analytics.Params.ViewersCount(s.viewersCount),p5:l.Analytics.Params.CoexecutorsCount(s.coexecutorsCount)})}sendTaskComplete(e,s){var t;babelHelpers.classPrivateFieldLooseBase(this,c)[c]({event:l.Analytics.Event.TaskComplete,type:l.Analytics.Type.Task,c_section:(t=e==null?void 0:e.context)!=null?t:l.Analytics.Section.Tasks,...e.additionalContext?{c_sub_section:e.additionalContext}:{},c_element:e.element,status:l.Analytics.Status.Success,p1:l.Analytics.Params.TaskId(s.taskId)})}sendOpenFullCard(e){var s;babelHelpers.classPrivateFieldLooseBase(this,c)[c]({event:l.Analytics.Event.FillTaskFormView,type:l.Analytics.Type.TaskMini,c_section:(s=e==null?void 0:e.context)!=null?s:l.Analytics.Section.Tasks,c_sub_section:l.Analytics.SubSection.FullTaskForm,c_element:l.Analytics.Element.FullFormButton,status:l.Analytics.Status.Success,p1:l.Analytics.Params.IsDemo(n.isDemo)})}sendAddTask(e,s){var t,a;babelHelpers.classPrivateFieldLooseBase(this,c)[c]({event:(t=s.event)!=null?t:l.Analytics.Event.TaskCreate,type:babelHelpers.classPrivateFieldLooseBase(this,o)[o](s.cardType),c_section:(a=e==null?void 0:e.context)!=null?a:l.Analytics.Section.Tasks,...e.additionalContext?{c_sub_section:e.additionalContext}:{},c_element:e.element,status:s.isSuccess?l.Analytics.Status.Success:l.Analytics.Status.Error,p1:l.Analytics.Params.TaskId(s.taskId),p2:n.userType,p3:l.Analytics.Params.ViewersCount(s.viewersCount),...s.collabId?{p4:l.Analytics.Params.CollabId(s.collabId)}:{},p5:l.Analytics.Params.CoexecutorsCount(s.coexecutorsCount)})}sendAddTaskWithCheckList(e,s){var t;babelHelpers.classPrivateFieldLooseBase(this,c)[c]({event:l.Analytics.Event.TaskCreateWithChecklist,type:babelHelpers.classPrivateFieldLooseBase(this,o)[o](s.cardType),c_section:(t=e==null?void 0:e.context)!=null?t:l.Analytics.Section.Tasks,...e.additionalContext?{c_sub_section:e.additionalContext}:{},c_element:e.element,status:l.Analytics.Status.Success,p1:l.Analytics.Params.TaskId(s.taskId),p2:n.userType,p3:l.Analytics.Params.ViewersCount(s.viewersCount),...s.collabId?{p4:l.Analytics.Params.CollabId(s.collabId)}:{},p5:l.Analytics.Params.ChecklistCount(s.checklistCount,s.checklistItemsCount)})}sendDescription(e,s){var t;babelHelpers.classPrivateFieldLooseBase(this,c)[c]({event:l.Analytics.Event.DescriptionTask,type:babelHelpers.classPrivateFieldLooseBase(this,o)[o](s.cardType),c_section:(t=e==null?void 0:e.context)!=null?t:l.Analytics.Section.Tasks,c_sub_section:l.Analytics.SubSection.TaskCard,status:l.Analytics.Status.Success,p2:l.Analytics.Params.HasDescription(s.hasDescription),p3:l.Analytics.Params.HasScroll(s.hasScroll)})}sendAddProject(e,s){var t;babelHelpers.classPrivateFieldLooseBase(this,c)[c]({event:l.Analytics.Event.AddProject,type:babelHelpers.classPrivateFieldLooseBase(this,o)[o](s.cardType),c_section:(t=e==null?void 0:e.context)!=null?t:l.Analytics.Section.Tasks,c_sub_section:l.Analytics.SubSection.TaskCard,c_element:l.Analytics.Element.ProjectButton,status:l.Analytics.Status.Success,p3:l.Analytics.Params.ViewersCount(s.viewersCount),p5:l.Analytics.Params.CoexecutorsCount(s.coexecutorsCount)})}sendDeadlineSet(e,s){var t;babelHelpers.classPrivateFieldLooseBase(this,c)[c]({event:l.Analytics.Event.DeadlineSet,type:babelHelpers.classPrivateFieldLooseBase(this,o)[o](s.cardType),c_section:(t=e==null?void 0:e.context)!=null?t:l.Analytics.Section.Tasks,c_sub_section:l.Analytics.SubSection.TaskCard,c_element:s.element,status:l.Analytics.Status.Success,...s.taskId?{p1:l.Analytics.Params.TaskId(s.taskId)}:{},p3:l.Analytics.Params.ViewersCount(s.viewersCount),p5:l.Analytics.Params.CoexecutorsCount(s.coexecutorsCount)})}sendAssigneeChange(e,s){babelHelpers.classPrivateFieldLooseBase(this,i)[i](e,{...s,event:l.Analytics.Event.AssigneeChange,element:l.Analytics.Element.ChangeButton})}sendAddCoexecutor(e,s){babelHelpers.classPrivateFieldLooseBase(this,i)[i](e,{...s,event:l.Analytics.Event.AddCoexecutor,element:l.Analytics.Element.CoexecutorButton})}sendAddViewer(e,s){babelHelpers.classPrivateFieldLooseBase(this,i)[i](e,{...s,event:l.Analytics.Event.AddViewer,element:l.Analytics.Element.ViewerButton})}sendAttachFile(e,s){var t,i;const r=(t={[a.FileOrigin.CLIENT]:l.Analytics.SubSection.MyFiles}[s.fileOrigin])!=null?t:l.Analytics.SubSection.Bitrix24Files;babelHelpers.classPrivateFieldLooseBase(this,c)[c]({event:l.Analytics.Event.AttachFile,type:babelHelpers.classPrivateFieldLooseBase(this,o)[o](s.cardType),c_section:(i=e==null?void 0:e.context)!=null?i:l.Analytics.Section.Tasks,c_sub_section:r,c_element:l.Analytics.Element.UploadButton,status:l.Analytics.Status.Success,p1:l.Analytics.Params.FileSize(s.fileSize),p2:n.userType,p3:l.Analytics.Params.FilesCount(s.filesCount),...s.collabId?{p4:l.Analytics.Params.CollabId(s.collabId)}:{},p5:l.Analytics.Params.FileExtension(s.fileExtension)})}sendStatusSummaryAdd(e,s){var t,a,n;babelHelpers.classPrivateFieldLooseBase(this,c)[c]({event:l.Analytics.Event.StatusSummaryAdd,type:babelHelpers.classPrivateFieldLooseBase(this,o)[o](s.cardType),c_section:(t=e==null?void 0:e.context)!=null?t:l.Analytics.Section.Tasks,c_sub_section:(a=s==null?void 0:s.subSection)!=null?a:l.Analytics.SubSection.TaskCard,c_element:(n=s==null?void 0:s.element)!=null?n:l.Analytics.Element.AddResult,status:s.isSuccess?l.Analytics.Status.Success:l.Analytics.Status.Error,...s.taskId?{p1:l.Analytics.Params.TaskId(s.taskId)}:{}})}sendAddChecklist(e,s){var t;babelHelpers.classPrivateFieldLooseBase(this,c)[c]({event:l.Analytics.Event.AddChecklist,type:babelHelpers.classPrivateFieldLooseBase(this,o)[o](s.cardType),c_section:(t=e==null?void 0:e.context)!=null?t:l.Analytics.Section.Tasks,c_sub_section:s.isNewTask?l.Analytics.TaskState.New:l.Analytics.TaskState.Existing,c_element:l.Analytics.Element.CheckListButton,status:l.Analytics.Status.Success,p3:l.Analytics.Params.ViewersCount(s.viewersCount),p4:l.Analytics.Params.ChecklistPointsCount(s.checklistPointsCount),p5:l.Analytics.Params.CoexecutorsCount(s.coexecutorsCount)})}sendRoleClick(e){var s;babelHelpers.classPrivateFieldLooseBase(this,c)[c]({event:l.Analytics.Event.RoleClick,type:l.Analytics.Type.Task,c_section:(s=e==null?void 0:e.context)!=null?s:l.Analytics.Section.Tasks,...e.additionalContext?{c_sub_section:e.additionalContext}:{},c_element:l.Analytics.Element.RoleButton,p1:l.Analytics.Params.IsDemo(n.isDemo)})}sendRoleClickType(e,s){var t;const a={view_all:l.Analytics.Element.RoleAllButton,view_role_responsible:l.Analytics.Element.RoleDoingButton,view_role_accomplice:l.Analytics.Element.RoleHelpButton,view_role_auditor:l.Analytics.Element.RoleWatchingButton,view_role_originator:l.Analytics.Element.RoleAssignedButton}[s.role];babelHelpers.classPrivateFieldLooseBase(this,c)[c]({event:l.Analytics.Event.RoleClickType,type:l.Analytics.Type.Task,c_section:(t=e==null?void 0:e.context)!=null?t:l.Analytics.Section.Tasks,...e.additionalContext?{c_sub_section:e.additionalContext}:{},c_element:a,p1:l.Analytics.Params.IsDemo(n.isDemo),p2:l.Analytics.Params.FilterEnabled(s.isFilterEnabled)})}}function u(e,s){var t;babelHelpers.classPrivateFieldLooseBase(this,c)[c]({event:s.event,type:babelHelpers.classPrivateFieldLooseBase(this,o)[o](s.cardType),c_section:(t=e==null?void 0:e.context)!=null?t:l.Analytics.Section.Tasks,c_sub_section:l.Analytics.SubSection.TaskCard,c_element:s.element,status:l.Analytics.Status.Success,...s.taskId?{p1:l.Analytics.Params.TaskId(s.taskId)}:{},p3:l.Analytics.Params.ViewersCount(s.viewersCount),p5:l.Analytics.Params.CoexecutorsCount(s.coexecutorsCount)})}function d(e){t.sendData({tool:l.Analytics.Tool.Tasks,category:l.Analytics.Category.TaskOperations,...e})}function y(e){return{[l.CardType.Compact]:l.Analytics.Type.TaskMini,[l.CardType.Full]:l.Analytics.Type.Task}[e]}const A=new r;e.settings=n;e.AnalyticsSender=r;e.analytics=A})(this.BX.Tasks.V2.Lib=this.BX.Tasks.V2.Lib||{},BX,BX.UI.Analytics,BX.UI.Uploader,BX.Tasks.V2.Const);
//# sourceMappingURL=analytics.bundle.map.js