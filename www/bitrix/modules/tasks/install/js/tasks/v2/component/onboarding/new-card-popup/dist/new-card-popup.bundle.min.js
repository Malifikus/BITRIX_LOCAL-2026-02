this.BX=this.BX||{};this.BX.Tasks=this.BX.Tasks||{};this.BX.Tasks.V2=this.BX.Tasks.V2||{};this.BX.Tasks.V2.Component=this.BX.Tasks.V2.Component||{};(function(e,s,t,o,a,i){"use strict";let n=e=>e,r,d,c,p,l;var u=babelHelpers.classPrivateFieldLooseKey("popup");class _{constructor(){Object.defineProperty(this,u,{writable:true,value:void 0})}static show(){return(new this).showPopup()}showPopup(){i.BannerDispatcher.high.toQueue((e=>{babelHelpers.classPrivateFieldLooseBase(this,u)[u]=this.getPopup();const s=()=>{setTimeout((()=>{e()}),1e3)};babelHelpers.classPrivateFieldLooseBase(this,u)[u].show();babelHelpers.classPrivateFieldLooseBase(this,u)[u].subscribe("onClose",s);babelHelpers.classPrivateFieldLooseBase(this,u)[u].subscribe("onDestroy",s);this.setViewed()}))}getPopup(){return new t.Popup({content:this.getContent(),disableScroll:true,autoHide:true,padding:0,width:905,height:525,autoHideHandler:()=>true,overlay:{backgroundColor:"#0A2D5F",opacity:58},closeIcon:false,closeByEsc:false,className:"tasks-onboarding-new-card-popup-wrapper"})}getContent(){return s.Tag.render(r||(r=n`
			<div class="tasks-onboarding-new-card-popup">
				<div class="tasks-onboarding-new-card-popup-content-gradient">
					<div class="tasks-onboarding-new-card-popup-content">
						<div class="tasks-onboarding-new-card-popup-left">
							<div class="tasks-onboarding-new-card-popup-title">
								${0}
							</div>
							<div class="tasks-onboarding-new-card-popup-feature-list">
								${0}
							</div>
							${0}
						</div>
						<div class="tasks-onboarding-new-card-popup-right">
							<img 
								class="tasks-onboarding-new-card-popup-cosmozeph" 
								src="${0}" 
								alt=""
							/>
							<div class="tasks-onboarding-new-card-popup-video-border">
								${0}
							</div>
							<div class="tasks-onboarding-new-card-popup-pill --fast">${0}</div>
							<div class="tasks-onboarding-new-card-popup-pill --simple">${0}</div>
							<div class="tasks-onboarding-new-card-popup-pill --ai">${0}</div>
						</div>
					</div>
				</div>
			</div>
		`),s.Loc.getMessage("TASKS_COMPONENT_ONBOARDING_NEW_CARD_POPUP_TITLE"),this.getFeatures().map((e=>this.getFeatureElement(e))),this.getButton(),this.getCosmozephPath(),this.getVideoElement(),s.Loc.getMessage("TASKS_COMPONENT_ONBOARDING_NEW_CARD_POPUP_FAST"),s.Loc.getMessage("TASKS_COMPONENT_ONBOARDING_NEW_CARD_POPUP_SIMPLE"),s.Loc.getMessage("TASKS_COMPONENT_ONBOARDING_NEW_CARD_POPUP_AI"))}getOverlay(){const e=s.Tag.render(d||(d=n`<div class="tasks-onboarding-new-card-popup-overlay"></div>`));s.Event.bind(e,"click",(()=>{this.close()}));return e}getFeatureElement(e){return s.Tag.render(c||(c=n`
			<div class="tasks-onboarding-new-card-popup-feature">
				${0}
				<div class="tasks-onboarding-new-card-popup-feature-content">
					<div class="tasks-onboarding-new-card-popup-feature-title">${0}</div>
					<div class="tasks-onboarding-new-card-popup-feature-subtitle">${0}</div>
				</div>
			</div>
		`),this.getFeatureIcon(e.icon),e.title,e.subtitle)}getFeatureIcon(e){const s=new a.Icon({icon:e,size:22,color:"#fff"});return s.render()}getButton(){const e=new o.Button({useAirDesign:true,text:s.Loc.getMessage("TASKS_COMPONENT_ONBOARDING_NEW_CARD_POPUP_BUTTON_START"),style:o.AirButtonStyle.FILLED,size:o.ButtonSize.EXTRA_LARGE,onclick:()=>{this.close()}});return s.Tag.render(p||(p=n`
			<div class="tasks-onboarding-new-card-popup-button-container">
				${0}
			</div>
		`),e.render())}getVideoElement(){const e=s.Tag.render(l||(l=n`
			<video
				class="tasks-onboarding-new-card-popup-video"
				autoplay
				loop
				muted
				playsinline
				preload="auto"
			>
				<source src="${0}" type="video/webm">
			</video>
		`),this.getVideoPath());setTimeout((()=>{s.Event.bind(e,"error",(()=>{}));s.Event.bind(e,"loadeddata",(()=>{e.play().catch((()=>{}))}));e.load();const t=e.play();if(t!==undefined){t.catch((()=>{e.muted=true;e.play()}))}}),0);return e}getVideoPath(){return"/bitrix/js/tasks/v2/component/onboarding/new-card-popup/src/preview.webm"}getCosmozephPath(){return"/bitrix/js/tasks/v2/component/onboarding/new-card-popup/src/cosmozeph.png"}getFeatures(){return[{icon:a.Outline.AI_STARS,title:s.Loc.getMessage("TASKS_COMPONENT_ONBOARDING_NEW_CARD_POPUP_FEATURE_TITLE_1"),subtitle:s.Loc.getMessage("TASKS_COMPONENT_ONBOARDING_NEW_CARD_POPUP_FEATURE_DESCRIPTION_1")},{icon:a.Outline.CHATS,title:s.Loc.getMessage("TASKS_COMPONENT_ONBOARDING_NEW_CARD_POPUP_FEATURE_TITLE_2"),subtitle:s.Loc.getMessage("TASKS_COMPONENT_ONBOARDING_NEW_CARD_POPUP_FEATURE_DESCRIPTION_2")},{icon:a.Outline.ACTION_REQUIRED,title:s.Loc.getMessage("TASKS_COMPONENT_ONBOARDING_NEW_CARD_POPUP_FEATURE_TITLE_3"),subtitle:s.Loc.getMessage("TASKS_COMPONENT_ONBOARDING_NEW_CARD_POPUP_FEATURE_DESCRIPTION_3")}]}close(){babelHelpers.classPrivateFieldLooseBase(this,u)[u].close()}setViewed(){void s.ajax.runAction("tasks.promotion.setViewed",{data:{promotion:"tasks_new_card"}})}}e.NewCardPopup=_})(this.BX.Tasks.V2.Component.Onboarding=this.BX.Tasks.V2.Component.Onboarding||{},BX,BX.Main,BX.UI,BX.UI.IconSet,BX.UI);
//# sourceMappingURL=new-card-popup.bundle.map.js