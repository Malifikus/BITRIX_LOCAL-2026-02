{"version":3,"file":"tasks.bundle.js","sources":["../src/tasks.js"],"sourcesContent":["/* eslint-disable no-param-reassign */\nimport { BuilderEntityModel, BuilderModel, Store } from 'ui.vue3.vuex';\nimport type { ActionTree, GetterTree, MutationTree } from 'ui.vue3.vuex';\n\nimport { Model, TaskField } from 'tasks.v2.const';\nimport type { DeadlineUserOption, StateFlags } from 'tasks.v2.model.interface';\n\nimport type { FieldFilledPayload, TaskModel, TasksModelState, TaskModelParams } from './types';\n\nconst aliasFields = {\n\t[TaskField.DatePlan]: new Set(['startPlanTs', 'endPlanTs', 'matchesSubTasksTime', 'startDatePlanAfter', 'endDatePlanAfter']),\n\t[TaskField.SubTasks]: new Set(['containsSubTasks']),\n\t[TaskField.RelatedTasks]: new Set(['containsRelatedTasks']),\n\t[TaskField.Gantt]: new Set(['containsGanttLinks']),\n\t[TaskField.Placements]: new Set(['containsPlacements']),\n\t[TaskField.Results]: new Set(['containsResults']),\n\t[TaskField.Reminders]: new Set(['numberOfReminders']),\n\t[TaskField.Replication]: new Set(['replicate']),\n};\n\nexport class Tasks extends BuilderEntityModel<TasksModelState, TaskModel>\n{\n\tstatic createWithVariables(params: TaskModelParams): BuilderModel\n\t{\n\t\treturn Tasks.create().setVariables({\n\t\t\tstateFlags: params.stateFlags,\n\t\t\tdeadlineUserOption: params.deadlineUserOption,\n\t\t});\n\t}\n\n\tgetName(): string\n\t{\n\t\treturn Model.Tasks;\n\t}\n\n\tgetState(): TasksModelState\n\t{\n\t\treturn {\n\t\t\ttitles: {},\n\t\t\tpartiallyLoadedIds: new Set(),\n\t\t};\n\t}\n\n\tgetElementState(): TaskModel\n\t{\n\t\tconst stateFlags: StateFlags = this.getVariable('stateFlags', {\n\t\t\tneedsControl: false,\n\t\t\tmatchesWorkTime: false,\n\t\t});\n\n\t\tconst deadlineUserOption: DeadlineUserOption = this.getVariable('deadlineUserOption', {\n\t\t\tcanChangeDeadline: false,\n\t\t\tmaxDeadlineChangeDate: null,\n\t\t\tmaxDeadlineChanges: null,\n\t\t\trequireDeadlineChangeReason: false,\n\t\t});\n\n\t\treturn {\n\t\t\tid: 0,\n\t\t\tgroupId: 0,\n\t\t\ttitle: '',\n\t\t\tisImportant: false,\n\t\t\tdescription: '',\n\t\t\tdescriptionChecksum: '',\n\t\t\tforceUpdateDescription: false,\n\t\t\tcreatorId: 0,\n\t\t\tcreatedTs: Date.now(),\n\t\t\tresponsibleIds: [],\n\t\t\tisForNewUser: false,\n\t\t\tdeadlineTs: 0,\n\t\t\tdeadlineAfter: null,\n\t\t\tstartPlanTs: null,\n\t\t\tendPlanTs: null,\n\t\t\tfileIds: [],\n\t\t\tchecklist: [],\n\t\t\tcontainsChecklist: false,\n\t\t\tstoryPoints: '',\n\t\t\tepicId: 0,\n\t\t\taccomplicesIds: [],\n\t\t\tauditorsIds: [],\n\t\t\ttags: [],\n\t\t\tstatus: 'pending',\n\t\t\tstatusChangedTs: Date.now(),\n\t\t\tneedsControl: stateFlags.needsControl,\n\t\t\tmatchesWorkTime: stateFlags.matchesWorkTime,\n\t\t\tfilledFields: {},\n\t\t\tparentId: 0,\n\t\t\tsubTaskIds: [],\n\t\t\tcontainsSubTasks: false,\n\t\t\trelatedTaskIds: [],\n\t\t\tcontainsRelatedTasks: false,\n\t\t\tganttTaskIds: [],\n\t\t\tcontainsGanttLinks: false,\n\t\t\tplacementIds: null,\n\t\t\tcontainsPlacements: false,\n\t\t\tresults: [],\n\t\t\tresultsMessageMap: {},\n\t\t\tcontainsResults: false,\n\t\t\tallowsChangeDeadline: deadlineUserOption.canChangeDeadline,\n\t\t\trequireDeadlineChangeReason: deadlineUserOption.requireDeadlineChangeReason,\n\t\t\tmaxDeadlineChangeDate: deadlineUserOption.maxDeadlineChangeDate,\n\t\t\tmaxDeadlineChanges: deadlineUserOption.maxDeadlineChanges,\n\t\t\tdeadlineChangeReason: '',\n\t\t\tallowsChangeDatePlan: false,\n\t\t\tnumberOfReminders: 0,\n\t\t\trights: {\n\t\t\t\tedit: true,\n\t\t\t\tdeadline: true,\n\t\t\t\tdatePlan: true,\n\t\t\t\tdelegate: true,\n\t\t\t\taddAuditors: true,\n\t\t\t\tchangeAccomplices: true,\n\t\t\t\tchecklistAdd: true,\n\t\t\t\tcreateGanttDependence: true,\n\t\t\t\tresultRead: true,\n\t\t\t\treminder: true,\n\t\t\t\telapsedTime: true,\n\t\t\t},\n\t\t\tisFavorite: false,\n\t\t\tisMuted: false,\n\t\t\trequireResult: false,\n\t\t\tuserFields: [],\n\t\t\tpermissions: null,\n\t\t};\n\t}\n\n\tgetGetters(): GetterTree<TasksModelState>\n\t{\n\t\treturn {\n\t\t\t/** @function tasks/getTitle */\n\t\t\tgetTitle: (state: TasksModelState) => (id: number | string): ?string => state.titles[id],\n\t\t\t/** @function tasks/isPartiallyLoaded */\n\t\t\tisPartiallyLoaded: (state: TasksModelState) => (id: number | string): boolean => {\n\t\t\t\treturn state.partiallyLoadedIds.has(id);\n\t\t\t},\n\t\t};\n\t}\n\n\tgetActions(): ActionTree<TasksModelState>\n\t{\n\t\treturn {\n\t\t\t/** @function tasks/setTitles */\n\t\t\tsetTitles: (store: Store, titles: TaskModel[]): void => {\n\t\t\t\ttitles.forEach(({ id, title }) => store.commit('setTitle', { id, title }));\n\t\t\t},\n\t\t\t/** @function tasks/setFieldFilled */\n\t\t\tsetFieldFilled: (store: Store, fieldFilledPayload: FieldFilledPayload): void => {\n\t\t\t\tstore.commit('setFieldFilled', fieldFilledPayload);\n\t\t\t},\n\t\t\t/** @function tasks/clearFieldsFilled */\n\t\t\tclearFieldsFilled: (store: Store, id: number | string): void => {\n\t\t\t\tstore.commit('clearFieldsFilled', id);\n\t\t\t},\n\t\t\t/** @function tasks/addPartiallyLoaded */\n\t\t\taddPartiallyLoaded: (store: Store, id: number | string): void => {\n\t\t\t\tstore.commit('addPartiallyLoaded', id);\n\t\t\t},\n\t\t\t/** @function tasks/removePartiallyLoaded */\n\t\t\tremovePartiallyLoaded: (store: Store, id: number | string): void => {\n\t\t\t\tstore.commit('removePartiallyLoaded', id);\n\t\t\t},\n\t\t};\n\t}\n\n\tgetMutations(): MutationTree<TasksModelState>\n\t{\n\t\treturn {\n\t\t\tupsert: (state: TasksModelState, task: ?TaskModel): void => {\n\t\t\t\tBuilderEntityModel.defaultModel.getMutations(this).upsert(state, task);\n\n\t\t\t\tthis.#setFieldsFilled(state, task.id);\n\t\t\t},\n\t\t\tupdate: (state: TasksModelState, { id, fields }: { id: number | string, fields: TaskModel }): void => {\n\t\t\t\tBuilderEntityModel.defaultModel.getMutations(this).update(state, { id, fields });\n\n\t\t\t\tthis.#setFieldsFilled(state, fields.id ?? id);\n\t\t\t},\n\t\t\tsetTitle: (state: TasksModelState, { id, title }: TaskModel): void => {\n\t\t\t\tstate.titles[id] = title;\n\t\t\t},\n\t\t\tsetFieldFilled: (state: TasksModelState, { id, fieldName, isFilled }: FieldFilledPayload): void => {\n\t\t\t\t(state.collection[id].filledFields ??= {})[fieldName] = isFilled ?? true;\n\t\t\t},\n\t\t\tclearFieldsFilled: (state: TasksModelState, id: number | string): void => {\n\t\t\t\tif (!state.collection[id])\n\t\t\t\t{\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tstate.collection[id].filledFields = {};\n\n\t\t\t\tthis.#setFieldsFilled(state, id);\n\t\t\t},\n\t\t\taddPartiallyLoaded: (state: TasksModelState, id: number | string): void => {\n\t\t\t\tstate.partiallyLoadedIds.add(id);\n\t\t\t},\n\t\t\tremovePartiallyLoaded: (state: TasksModelState, id: number | string): void => {\n\t\t\t\tstate.partiallyLoadedIds.delete(id);\n\t\t\t},\n\t\t};\n\t}\n\n\t#setFieldsFilled(state: TasksModelState, id: number | string): void\n\t{\n\t\tconst task = state.collection[id];\n\t\tconst canEdit = task?.rights?.edit;\n\n\t\ttask.filledFields ??= {};\n\t\tObject.entries(task).forEach(([fieldName: string, value: any]) => {\n\t\t\tconst isFilled = Boolean(value) && (!Array.isArray(value) || value.length > 0);\n\t\t\tif (isFilled)\n\t\t\t{\n\t\t\t\ttask.filledFields[this.#getAliasField(fieldName) ?? fieldName] = true;\n\t\t\t}\n\n\t\t\tif (!isFilled && !canEdit)\n\t\t\t{\n\t\t\t\ttask.filledFields[fieldName] = false;\n\t\t\t}\n\t\t});\n\t}\n\n\t#getAliasField(fieldName: string): string\n\t{\n\t\treturn Object.entries(aliasFields).find(([, alias]) => alias.has(fieldName))?.[0];\n\t}\n}\n"],"names":["aliasFields","TaskField","DatePlan","Set","SubTasks","RelatedTasks","Gantt","Placements","Results","Reminders","Replication","Tasks","BuilderEntityModel","createWithVariables","params","create","setVariables","stateFlags","deadlineUserOption","getName","Model","getState","titles","partiallyLoadedIds","getElementState","getVariable","needsControl","matchesWorkTime","canChangeDeadline","maxDeadlineChangeDate","maxDeadlineChanges","requireDeadlineChangeReason","id","groupId","title","isImportant","description","descriptionChecksum","forceUpdateDescription","creatorId","createdTs","Date","now","responsibleIds","isForNewUser","deadlineTs","deadlineAfter","startPlanTs","endPlanTs","fileIds","checklist","containsChecklist","storyPoints","epicId","accomplicesIds","auditorsIds","tags","status","statusChangedTs","filledFields","parentId","subTaskIds","containsSubTasks","relatedTaskIds","containsRelatedTasks","ganttTaskIds","containsGanttLinks","placementIds","containsPlacements","results","resultsMessageMap","containsResults","allowsChangeDeadline","deadlineChangeReason","allowsChangeDatePlan","numberOfReminders","rights","edit","deadline","datePlan","delegate","addAuditors","changeAccomplices","checklistAdd","createGanttDependence","resultRead","reminder","elapsedTime","isFavorite","isMuted","requireResult","userFields","permissions","getGetters","getTitle","state","isPartiallyLoaded","has","getActions","setTitles","store","forEach","commit","setFieldFilled","fieldFilledPayload","clearFieldsFilled","addPartiallyLoaded","removePartiallyLoaded","getMutations","upsert","task","defaultModel","update","fields","setTitle","fieldName","isFilled","collection","add","delete","canEdit","Object","entries","value","Boolean","Array","isArray","length","find","alias"],"mappings":"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"}