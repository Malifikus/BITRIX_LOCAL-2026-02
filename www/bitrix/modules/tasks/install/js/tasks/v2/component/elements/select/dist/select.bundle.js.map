{"version":3,"file":"select.bundle.js","sources":["../src/select.js"],"sourcesContent":["import { BInput, InputSize, InputDesign } from 'ui.system.input.vue';\nimport { BMenu, MenuItemDesign } from 'ui.system.menu.vue';\nimport type { MenuOptions, MenuItemOptions } from 'ui.system.menu.vue';\n\nexport type Item = Pick<MenuItemOptions, 'id' | 'title'> & { disabled: ?boolean };\nexport type { MenuOptions };\n\n// @vue/component\nexport const UiSelect = {\n\tname: 'UiSelect',\n\tcomponents: {\n\t\tBInput,\n\t\tBMenu,\n\t},\n\tprops: {\n\t\t/** @type{Item} */\n\t\titem: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\t/** @type{Item[]} */\n\t\titems: {\n\t\t\ttype: Array,\n\t\t\tdefault: () => [],\n\t\t},\n\t\tdisabled: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\tsize: {\n\t\t\ttype: String,\n\t\t\tdefault: InputSize.Sm,\n\t\t},\n\t\ttargetContainer: {\n\t\t\ttype: [HTMLElement, null],\n\t\t\tdefault: null,\n\t\t},\n\t\tmenuOptions: {\n\t\t\ttype: Object,\n\t\t\tdefault: null,\n\t\t},\n\t},\n\temits: ['update:item'],\n\tsetup(): { InputDesign: typeof InputDesign }\n\t{\n\t\treturn {\n\t\t\tInputDesign,\n\t\t};\n\t},\n\tdata(): { isShown: boolean }\n\t{\n\t\treturn {\n\t\t\tisShown: false,\n\t\t};\n\t},\n\tcomputed: {\n\t\toptions(): MenuOptions\n\t\t{\n\t\t\treturn {\n\t\t\t\tbindElement: this.$refs.input.$el,\n\t\t\t\tcloseOnItemClick: false,\n\t\t\t\ttargetContainer: this.targetContainer || document.body,\n\t\t\t\titems: this.items.map((item) => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\ttitle: item.title,\n\t\t\t\t\t\tisSelected: item.id === this.item.id,\n\t\t\t\t\t\tdesign: item.disabled ? MenuItemDesign.Disabled : MenuItemDesign.Default,\n\t\t\t\t\t\tonClick: () => {\n\t\t\t\t\t\t\tif (item.disabled)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tthis.$emit('update:item', item);\n\t\t\t\t\t\t\tthis.isShown = false;\n\t\t\t\t\t\t},\n\t\t\t\t\t};\n\t\t\t\t}),\n\t\t\t\t...this.menuOptions,\n\t\t\t};\n\t\t},\n\t},\n\tmethods: {\n\t\tinputClick(): void\n\t\t{\n\t\t\tif (this.disabled)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.isShown = true;\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div class=\"tasks-select\">\n\t\t\t<BInput\n\t\t\t\t:modelValue=\"item.title\"\n\t\t\t\tdropdown\n\t\t\t\tclickable\n\t\t\t\t:active=\"isShown\"\n\t\t\t\t:size\n\t\t\t\t:design=\"disabled ? InputDesign.Disabled : InputDesign.Default\"\n\t\t\t\tref=\"input\"\n\t\t\t\t@click=\"inputClick\"\n\t\t\t/>\n\t\t\t<BMenu\n\t\t\t\tv-if=\"isShown\"\n\t\t\t\t:options\n\t\t\t\t@close=\"isShown = false\"\n\t\t\t/>\n\t\t</div>\n\t`,\n};\n"],"names":["UiSelect","name","components","BInput","BMenu","props","item","type","Object","required","items","Array","default","disabled","Boolean","size","String","InputSize","Sm","targetContainer","HTMLElement","menuOptions","emits","setup","InputDesign","data","isShown","computed","options","bindElement","$refs","input","$el","closeOnItemClick","document","body","map","title","isSelected","id","design","MenuItemDesign","Disabled","Default","onClick","$emit","methods","inputClick","template"],"mappings":";;;;;;;;CAOA;AACA,OAAaA,QAAQ,GAAG;GACvBC,IAAI,EAAE,UAAU;GAChBC,UAAU,EAAE;aACXC,0BAAM;YACNC;IACA;GACDC,KAAK,EAAE;;KAENC,IAAI,EAAE;OACLC,IAAI,EAAEC,MAAM;OACZC,QAAQ,EAAE;MACV;;KAEDC,KAAK,EAAE;OACNH,IAAI,EAAEI,KAAK;OACXC,OAAO,EAAE,MAAM;MACf;KACDC,QAAQ,EAAE;OACTN,IAAI,EAAEO,OAAO;OACbF,OAAO,EAAE;MACT;KACDG,IAAI,EAAE;OACLR,IAAI,EAAES,MAAM;OACZJ,OAAO,EAAEK,6BAAS,CAACC;MACnB;KACDC,eAAe,EAAE;OAChBZ,IAAI,EAAE,CAACa,WAAW,EAAE,IAAI,CAAC;OACzBR,OAAO,EAAE;MACT;KACDS,WAAW,EAAE;OACZd,IAAI,EAAEC,MAAM;OACZI,OAAO,EAAE;;IAEV;GACDU,KAAK,EAAE,CAAC,aAAa,CAAC;GACtBC,KAAK,GACL;KACC,OAAO;oBACNC;MACA;IACD;GACDC,IAAI,GACJ;KACC,OAAO;OACNC,OAAO,EAAE;MACT;IACD;GACDC,QAAQ,EAAE;KACTC,OAAO,GACP;OACC,OAAO;SACNC,WAAW,EAAE,IAAI,CAACC,KAAK,CAACC,KAAK,CAACC,GAAG;SACjCC,gBAAgB,EAAE,KAAK;SACvBd,eAAe,EAAE,IAAI,CAACA,eAAe,IAAIe,QAAQ,CAACC,IAAI;SACtDzB,KAAK,EAAE,IAAI,CAACA,KAAK,CAAC0B,GAAG,CAAE9B,IAAI,IAAK;WAC/B,OAAO;aACN+B,KAAK,EAAE/B,IAAI,CAAC+B,KAAK;aACjBC,UAAU,EAAEhC,IAAI,CAACiC,EAAE,KAAK,IAAI,CAACjC,IAAI,CAACiC,EAAE;aACpCC,MAAM,EAAElC,IAAI,CAACO,QAAQ,GAAG4B,iCAAc,CAACC,QAAQ,GAAGD,iCAAc,CAACE,OAAO;aACxEC,OAAO,EAAE,MAAM;eACd,IAAItC,IAAI,CAACO,QAAQ,EACjB;iBACC;;eAGD,IAAI,CAACgC,KAAK,CAAC,aAAa,EAAEvC,IAAI,CAAC;eAC/B,IAAI,CAACoB,OAAO,GAAG,KAAK;;YAErB;UACD,CAAC;SACF,GAAG,IAAI,CAACL;QACR;;IAEF;GACDyB,OAAO,EAAE;KACRC,UAAU,GACV;OACC,IAAI,IAAI,CAAClC,QAAQ,EACjB;SACC;;OAGD,IAAI,CAACa,OAAO,GAAG,IAAI;;IAEpB;GACDsB,QAAQ,EAAG;;;;;;;;;;;;;;;;;;;CAmBZ,CAAC;;;;;;;;"}