{"version":3,"file":"crm.bundle.map.js","names":["this","BX","Tasks","V2","Component","exports","ui_system_skeleton_vue","tasks_v2_component_elements_addButton","tasks_v2_component_elements_fieldAdd","ui_vue3_components_richLoc","ui_system_typography_vue","ui_system_menu_vue","tasks_v2_component_elements_hoverPill","main_core","tasks_v2_const","tasks_v2_lib_idUtils","tasks_v2_provider_service_crmService","tasks_v2_provider_service_taskService","tasks_v2_lib_entitySelectorDialog","ui_system_chip_vue","ui_iconSet_api_vue","ui_iconSet_outline","tasks_v2_core","tasks_v2_lib_fieldHighlighter","tasks_v2_lib_showLimit","CrmItem","components","HoverPill","TextMd","RichLoc","BMenu","inject","task","taskId","isEdit","props","item","type","Object","required","emits","setup","data","isMenuShown","computed","isLocked","Core","getParams","restrictions","crmIntegration","available","readonly","rights","edit","menuOptions","id","bindElement","$refs","pill","$el","offsetTop","items","menuItems","targetContainer","document","body","title","loc","icon","Outline","GO_TO_L","dataset","onClick","SidePanel","Instance","emulateAnchorClick","link","EDIT_L","$emit","CROSS_L","clear","mounted","EntityMiniCard","Runtime","loadExtension","card","entityTypeId","CrmMappers","getEntityTypeId","entityId","scrollContainer","querySelector","getMiniCard","popup","setTargetContainer","methods","prepareTitle","typeName","handleClick","template","crmMeta","freeze","TaskField","Crm","Loc","getMessage","_taskId","_onClose","_dialog","_createDialog","_fillStore","_mapItemToModel","_items","dialogs","crmDialog","babelHelpers","classPrivateFieldLooseKey","constructor","defineProperty","get","_get_items","set","value","_mapItemToModel2","_createDialog2","_get_dialog","writable","crmItems","classPrivateFieldLooseBase","getSelectedItems","map","getStore","dispatch","Model","CrmItems","init","show","params","onClose","selectItemsByIds","showTo","targetNode","_babelHelpers$classPr","_dialogs$_babelHelper","Extension","getSettings","settings","idUtils","isTemplate","dynamicTypeIds","entries","filter","enabled","startsWith","Number","slice","EntitySelectorDialog","context","enableSearch","entities","EntitySelectorEntity","Deal","Contact","Company","Lead","SmartInvoice","DynamicMultiple","dynamicLoad","dynamicSearch","options","showTab","allowAllCategories","dynamicSearchMatchMode","preselectedItems","events","onLoad","popupOptions","_babelHelpers$classPr2","_babelHelpers$classPr3","crmItemIds","taskService","update","call","entityInfo","getCustomData","getId","mapId","isInteger","split","getEntityId","typeNameTitle","getTitle","url","_taskService$getStore","_taskService$getStore2","getStoreTask","splitId","maxCount","AddButton","TextSm","BLine","FieldAdd","isDialogShown","isExpanded","isHovered","$store","getters","sort","a","b","compareIds","visibleItems","collapsedItems","isLoading","_this$crmItems","isEmpty","length","_this$task$crmItemIds","expandButtonText","isAddActive","isAddVisible","crmService","list","showDialog","showLimit","featureId","anchor","handleClose","handleClear","crmItemId","CrmChip","Chip","design","isSelected","ChipDesign","ShadowAccent","ShadowNoAccent","filledFields","highlightField","fieldHighlighter","setContainer","$root","highlight","Fields","UI","System","Skeleton","Vue","Elements","Vue3","Components","Typography","Menu","Const","Lib","Provider","Service","IconSet"],"sources":["crm.bundle.js"],"mappings":"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","ignoreList":[]}