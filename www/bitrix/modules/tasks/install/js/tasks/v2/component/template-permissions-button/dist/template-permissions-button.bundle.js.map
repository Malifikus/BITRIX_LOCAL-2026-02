{"version":3,"file":"template-permissions-button.bundle.js","sources":["../src/template-permissions-popup/row/template-permission-user-row.js","../src/template-permissions-popup/add-users-button/add-users-button.js","../src/template-permissions-popup/template-permissions-popup.js","../src/template-permissions-button.js"],"sourcesContent":["import { BMenu, type MenuOptions } from 'ui.vue3.components.menu';\nimport { BIcon, Outline } from 'ui.icon-set.api.vue';\nimport 'ui.icon-set.outline';\n\nimport { EntitySelectorEntity, PermissionType } from 'tasks.v2.const';\nimport { UserLabel } from 'tasks.v2.component.elements.user-label';\nimport type { CoreParams } from 'tasks.v2.core';\nimport type { TaskModel } from 'tasks.v2.model.tasks';\nimport type { TemplatePermission } from 'tasks.v2.provider.service.template-service';\n\n// @vue/component\nexport const TemplatePermissionUserRow = {\n\tname: 'TemplatePermissionUserRow',\n\tcomponents: {\n\t\tBMenu,\n\t\tUserLabel,\n\t\tBIcon,\n\t},\n\tinject: {\n\t\ttask: {},\n\t\tisEdit: {},\n\t\tsettings: {},\n\t},\n\tprops: {\n\t\t/** @type TemplatePermission */\n\t\tpermission: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\tfreeze: {\n\t\t\ttype: Function,\n\t\t\trequired: true,\n\t\t},\n\t\tunfreeze: {\n\t\t\ttype: Function,\n\t\t\trequired: true,\n\t\t},\n\t},\n\temits: ['update', 'remove'],\n\tsetup(): { task: TaskModel, settings: CoreParams, permission: TemplatePermission }\n\t{\n\t\treturn {\n\t\t\tOutline,\n\t\t};\n\t},\n\tdata(): Object\n\t{\n\t\treturn {\n\t\t\tisMenuShown: false,\n\t\t};\n\t},\n\tcomputed: {\n\t\tisGranted(): boolean\n\t\t{\n\t\t\tconst grantedIds = new Set([this.settings.currentUser.id]);\n\t\t\tif (!this.isEdit)\n\t\t\t{\n\t\t\t\tgrantedIds.add(this.task.creatorId);\n\t\t\t}\n\n\t\t\treturn this.permission.entityType === EntitySelectorEntity.User && grantedIds.has(this.permission.entityId);\n\t\t},\n\t\tpermissionLabel(): string\n\t\t{\n\t\t\tif (this.permission.permission === PermissionType.Full)\n\t\t\t{\n\t\t\t\treturn this.loc('TASKS_V2_TEMPLATE_PERMISSIONS_POPUP_FULL_ACCESS');\n\t\t\t}\n\n\t\t\treturn this.loc('TASKS_V2_TEMPLATE_PERMISSIONS_POPUP_READ_ONLY_ACCESS');\n\t\t},\n\t\toptions(): { permission: string, title: string, description: string }[]\n\t\t{\n\t\t\treturn [\n\t\t\t\t{\n\t\t\t\t\tpermission: PermissionType.Full,\n\t\t\t\t\ttitle: this.loc('TASKS_V2_TEMPLATE_PERMISSIONS_POPUP_FULL_ACCESS'),\n\t\t\t\t\tdescription: this.loc('TASKS_V2_TEMPLATE_PERMISSIONS_POPUP_FULL_ACCESS_DESCRIPTION'),\n\t\t\t\t},\n\t\t\t\t!this.isGranted && {\n\t\t\t\t\tpermission: PermissionType.Read,\n\t\t\t\t\ttitle: this.loc('TASKS_V2_TEMPLATE_PERMISSIONS_POPUP_READ_ONLY_ACCESS'),\n\t\t\t\t\tdescription: this.loc('TASKS_V2_TEMPLATE_PERMISSIONS_POPUP_READ_ONLY_ACCESS_DESCRIPTION'),\n\t\t\t\t},\n\t\t\t].filter(Boolean);\n\t\t},\n\t\tmenuOptions(): MenuOptions\n\t\t{\n\t\t\treturn {\n\t\t\t\tid: `template-permission-menu-${this.permission.entityType}-${this.permission.entityId}`,\n\t\t\t\tclassName: 'tasks-template-permissions-of-user',\n\t\t\t\tbindElement: this.$refs.permission,\n\t\t\t\tminWidth: 238,\n\t\t\t\tmaxWidth: 244,\n\t\t\t\tpadding: 18,\n\t\t\t\toffsetTop: 8,\n\t\t\t\titems: this.options.map((option) => ({\n\t\t\t\t\ttitle: option.title,\n\t\t\t\t\tsubtitle: option.description,\n\t\t\t\t\tonClick: () => this.$emit('update', {\n\t\t\t\t\t\tid: this.permission.id,\n\t\t\t\t\t\tpermission: option.permission,\n\t\t\t\t\t}),\n\t\t\t\t})),\n\t\t\t\ttargetContainer: document.body,\n\t\t\t};\n\t\t},\n\t},\n\twatch: {\n\t\tisMenuShown(shown: boolean): void\n\t\t{\n\t\t\tif (shown)\n\t\t\t{\n\t\t\t\tsetTimeout(() => this.freeze());\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.unfreeze();\n\t\t\t}\n\t\t},\n\t},\n\ttemplate: `\n\t\t<UserLabel :user=\"{ name: permission.title, image: permission.image }\"/>\n\t\t<a\n\t\t\tclass=\"tasks-template-permissions-permission\"\n\t\t\tref=\"permission\"\n\t\t\t@click=\"isMenuShown = true\"\n\t\t>\n\t\t\t{{ permissionLabel }}\n\t\t</a>\n\t\t<div class=\"tasks-template-permissions-remove\" @click=\"$emit('remove')\">\n\t\t\t<BIcon v-if=\"!isGranted\" :name=\"Outline.CROSS_L\"/>\n\t\t</div>\n\t\t<div class=\"tasks-template-permissions-separator\"/>\n\t\t<BMenu v-if=\"isMenuShown\" :options=\"menuOptions\" @close=\"isMenuShown = false\"/>\n\t`,\n};\n","import { BIcon, Outline } from 'ui.icon-set.api.vue';\nimport { Button as UiButton, ButtonSize, AirButtonStyle } from 'ui.vue3.components.button';\nimport 'ui.icon-set.outline';\n\nimport { Core } from 'tasks.v2.core';\nimport { EntitySelectorEntity } from 'tasks.v2.const';\nimport { EntitySelectorDialog, type Item, type ItemId } from 'tasks.v2.lib.entity-selector-dialog';\nimport { permissionBuilder } from 'tasks.v2.provider.service.template-service';\nimport type { TemplatePermission } from 'tasks.v2.provider.service.template-service';\n\n// @vue/component\nexport const AddUsersButton = {\n\tname: 'AddUsersButton',\n\tcomponents: {\n\t\tBIcon,\n\t\tUiButton,\n\t},\n\tprops: {\n\t\ttemplateId: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\t/** @type TemplatePermission[] */\n\t\tpermissions: {\n\t\t\ttype: Array,\n\t\t\trequired: true,\n\t\t},\n\t\tfreeze: {\n\t\t\ttype: Function,\n\t\t\trequired: true,\n\t\t},\n\t\tunfreeze: {\n\t\t\ttype: Function,\n\t\t\trequired: true,\n\t\t},\n\t},\n\temits: ['update:permissions'],\n\tsetup(): Object\n\t{\n\t\treturn {\n\t\t\tAirButtonStyle,\n\t\t\tButtonSize,\n\t\t\tOutline,\n\t\t};\n\t},\n\tcomputed: {\n\t\tpreselected(): ItemId[]\n\t\t{\n\t\t\treturn this.permissions.map((it: TemplatePermission) => permissionBuilder.buildItemId(it));\n\t\t},\n\t},\n\tunmounted(): void\n\t{\n\t\tthis.selector?.destroy();\n\t},\n\tmethods: {\n\t\tshowDialog(): void\n\t\t{\n\t\t\tconst restrictions = Core.getParams().restrictions;\n\t\t\tthis.selector ??= new EntitySelectorDialog({\n\t\t\t\tid: `tasks-template-permissions-${this.templateId}`,\n\t\t\t\ttargetNode: this.$el,\n\t\t\t\tcontext: 'tasks-card',\n\t\t\t\tenableSearch: true,\n\t\t\t\twidth: 387,\n\t\t\t\tpreselectedItems: this.preselected,\n\t\t\t\tentities: [\n\t\t\t\t\t{\n\t\t\t\t\t\tid: EntitySelectorEntity.User,\n\t\t\t\t\t\toptions: {\n\t\t\t\t\t\t\temailUsers: true,\n\t\t\t\t\t\t\tanalyticsSource: 'tasks',\n\t\t\t\t\t\t\tlockGuestLink: !restrictions.mailUserIntegration.available,\n\t\t\t\t\t\t\tlockGuestLinkFeatureId: restrictions.mailUserIntegration.featureId,\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid: EntitySelectorEntity.Department,\n\t\t\t\t\t\toptions: {\n\t\t\t\t\t\t\tselectMode: 'usersAndDepartments',\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid: EntitySelectorEntity.MetaUser,\n\t\t\t\t\t\toptions: { 'all-users': true },\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid: EntitySelectorEntity.Project,\n\t\t\t\t\t\titemOptions: {\n\t\t\t\t\t\t\tdefault: {\n\t\t\t\t\t\t\t\tentityType: EntitySelectorEntity.Project,\n\t\t\t\t\t\t\t\tlink: '',\n\t\t\t\t\t\t\t\tlinkTitle: '',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t\tevents: {\n\t\t\t\t\t'Item:onSelect': this.update,\n\t\t\t\t\t'Item:onDeselect': this.update,\n\t\t\t\t},\n\t\t\t\tpopupOptions: {\n\t\t\t\t\tevents: {\n\t\t\t\t\t\tonClose: this.unfreeze,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t});\n\n\t\t\tthis.selector.selectItemsByIds(this.preselected);\n\t\t\tthis.selector.show(this.$el);\n\t\t\tsetTimeout(() => this.freeze());\n\t\t},\n\t\tupdate(): void\n\t\t{\n\t\t\tconst permissions = this.selector.getSelectedItems().map((it: Item) => {\n\t\t\t\tconst permission = permissionBuilder.buildFromItem(it);\n\t\t\t\tconst existingPermission = this.permissions.find(({ entityType, entityId }) => {\n\t\t\t\t\treturn entityType === permission.entityType && entityId === permission.entityId;\n\t\t\t\t});\n\n\t\t\t\treturn existingPermission ?? permission;\n\t\t\t});\n\n\t\t\tthis.$emit('update:permissions', permissions);\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div>\n\t\t\t<UiButton\n\t\t\t\t:text=\"loc('TASKS_V2_TEMPLATE_PERMISSIONS_POPUP_ADD_USERS_BUTTON')\"\n\t\t\t\t:leftIcon=\"Outline.PLUS_M\"\n\t\t\t\t:size=\"ButtonSize.MEDIUM\"\n\t\t\t\t:style=\"AirButtonStyle.OUTLINE\"\n\t\t\t\tnoCaps\n\t\t\t\t@click=\"showDialog\"\n\t\t\t/>\n\t\t</div>\n\t`,\n};\n","import type { PopupOptions } from 'main.popup';\n\nimport { Popup } from 'ui.vue3.components.popup';\nimport { HeadlineSm, Text2Xs } from 'ui.system.typography.vue';\nimport { Button as UiButton, ButtonSize, AirButtonStyle } from 'ui.vue3.components.button';\nimport { BIcon, Outline } from 'ui.icon-set.api.vue';\nimport 'ui.icon-set.outline';\n\nimport { taskService } from 'tasks.v2.provider.service.task-service';\nimport { permissionBuilder } from 'tasks.v2.provider.service.template-service';\nimport type { TaskModel } from 'tasks.v2.model.tasks';\nimport type { TemplatePermission } from 'tasks.v2.provider.service.template-service';\n\nimport { TemplatePermissionUserRow } from './row/template-permission-user-row';\nimport { AddUsersButton } from './add-users-button/add-users-button';\n\nimport './template-permissions-popup.css';\n\n// @vue/component\nexport const TemplatePermissionsPopup = {\n\tname: 'TemplatePermissionsPopup',\n\tcomponents: {\n\t\tBIcon,\n\t\tPopup,\n\t\tUiButton,\n\t\tTemplatePermissionUserRow,\n\t\tAddUsersButton,\n\t\tHeadlineSm,\n\t\tText2Xs,\n\t},\n\tinject: {\n\t\ttask: {},\n\t\ttaskId: {},\n\t},\n\tprops: {\n\t\tbindElement: {\n\t\t\ttype: HTMLElement,\n\t\t\tdefault: null,\n\t\t},\n\t},\n\temits: ['close'],\n\tsetup(): { task: TaskModel, permissions: TemplatePermission[] }\n\t{\n\t\treturn {\n\t\t\tAirButtonStyle,\n\t\t\tButtonSize,\n\t\t\tOutline,\n\t\t};\n\t},\n\tdata(): Object\n\t{\n\t\treturn {\n\t\t\tpermissions: [],\n\t\t};\n\t},\n\tcomputed: {\n\t\toptions(): PopupOptions\n\t\t{\n\t\t\treturn {\n\t\t\t\tid: `tasks-template-permissions-popup-${this.taskId}`,\n\t\t\t\tbindElement: this.bindElement,\n\t\t\t\tpadding: 14,\n\t\t\t\tminHeight: 320,\n\t\t\t\tmaxHeight: 600,\n\t\t\t\twidth: 400,\n\t\t\t\ttargetContainer: this.$root.$el.firstElementChild,\n\t\t\t};\n\t\t},\n\t},\n\twatch: {\n\t\tpermissions: {\n\t\t\thandler(): void\n\t\t\t{\n\t\t\t\tvoid this.$nextTick(() => this.$refs.popup?.adjustPosition());\n\t\t\t},\n\t\t\tdeep: true,\n\t\t},\n\t},\n\tcreated(): void\n\t{\n\t\tthis.permissions = permissionBuilder.getPermissions(this.task);\n\t},\n\tmethods: {\n\t\tremoveItem(id: string): void\n\t\t{\n\t\t\tthis.permissions = this.permissions.filter((it) => it.id !== id);\n\t\t},\n\t\tupdateItem({ id, permission }): void\n\t\t{\n\t\t\tthis.permissions.find((it) => it.id === id).permission = permission;\n\t\t},\n\t\tsave(): void\n\t\t{\n\t\t\tvoid taskService.update(this.taskId, { permissions: this.permissions });\n\n\t\t\tthis.$emit('close');\n\t\t},\n\t},\n\ttemplate: `\n\t\t<Popup v-slot=\"{ freeze, unfreeze }\" :options ref=\"popup\" @close=\"$emit('close')\">\n\t\t\t<div class=\"tasks-template-permissions-popup\">\n\t\t\t\t<div class=\"tasks-template-permissions-popup-title\">\n\t\t\t\t\t<HeadlineSm>{{ loc('TASKS_V2_TEMPLATE_PERMISSIONS_POPUP_HEADER') }}</HeadlineSm>\n\t\t\t\t\t<BIcon\n\t\t\t\t\t\tclass=\"tasks-template-permissions-popup-close\"\n\t\t\t\t\t\t:name=\"Outline.CROSS_L\"\n\t\t\t\t\t\thoverable\n\t\t\t\t\t\t@click=\"$emit('close')\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"tasks-template-permissions-popup-content\">\n\t\t\t\t\t<div class=\"tasks-template-permissions-separator --header\"/>\n\t\t\t\t\t<Text2Xs className=\"tasks-template-permissions-popup-header\">\n\t\t\t\t\t\t{{ loc('TASKS_V2_TEMPLATE_PERMISSIONS_POPUP_USERS_COLUMN') }}\n\t\t\t\t\t</Text2Xs>\n\t\t\t\t\t<Text2Xs className=\"tasks-template-permissions-popup-header\">\n\t\t\t\t\t\t{{ loc('TASKS_V2_TEMPLATE_PERMISSIONS_POPUP_PERMISSIONS_COLUMN') }}\n\t\t\t\t\t</Text2Xs>\n\t\t\t\t\t<div></div>\n\t\t\t\t\t<div class=\"tasks-template-permissions-separator --header\"/>\n\t\t\t\t\t<TemplatePermissionUserRow\n\t\t\t\t\t\tv-for=\"permission of permissions\"\n\t\t\t\t\t\t:key=\"permission.id\"\n\t\t\t\t\t\t:permission\n\t\t\t\t\t\t:freeze\n\t\t\t\t\t\t:unfreeze\n\t\t\t\t\t\t@update=\"updateItem\"\n\t\t\t\t\t\t@remove=\"removeItem(permission.id)\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"tasks-template-permissions-popup-footer\">\n\t\t\t\t\t<AddUsersButton v-model:permissions=\"permissions\" :templateId=\"taskId\" :freeze :unfreeze/>\n\t\t\t\t\t<UiButton\n\t\t\t\t\t\t:text=\"loc('TASKS_V2_TEMPLATE_PERMISSIONS_POPUP_SAVE_BUTTON')\"\n\t\t\t\t\t\t:size=\"ButtonSize.MEDIUM\"\n\t\t\t\t\t\t:style=\"AirButtonStyle.FILLED\"\n\t\t\t\t\t\tnoCaps\n\t\t\t\t\t\t@click=\"save\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</Popup>\n\t`,\n};\n","import { Button as UiButton, ButtonSize, AirButtonStyle } from 'ui.vue3.components.button';\nimport { BIcon, Outline } from 'ui.icon-set.api.vue';\nimport { TextSm } from 'ui.system.typography.vue';\nimport 'ui.icon-set.outline';\n\nimport { Core } from 'tasks.v2.core';\nimport { showLimit } from 'tasks.v2.lib.show-limit';\nimport { HoverPill } from 'tasks.v2.component.elements.hover-pill';\nimport { permissionBuilder } from 'tasks.v2.provider.service.template-service';\nimport type { TaskModel } from 'tasks.v2.model.tasks';\nimport type { TemplatePermission } from 'tasks.v2.provider.service.template-service';\n\nimport { TemplatePermissionsPopup } from './template-permissions-popup/template-permissions-popup';\nimport './template-permissionts-button.css';\n\n// @vue/component\nexport const TemplatePermissionsButton = {\n\tname: 'TemplatePermissionsButton',\n\tcomponents: {\n\t\tBIcon,\n\t\tTemplatePermissionsPopup,\n\t\tUiButton,\n\t\tHoverPill,\n\t\tTextSm,\n\t},\n\tinject: {\n\t\ttask: {},\n\t},\n\tsetup(): { task: TaskModel }\n\t{\n\t\treturn {\n\t\t\tAirButtonStyle,\n\t\t\tButtonSize,\n\t\t\tOutline,\n\t\t};\n\t},\n\tdata(): Object\n\t{\n\t\treturn {\n\t\t\tshown: false,\n\t\t};\n\t},\n\tcomputed: {\n\t\tpermissions(): TemplatePermission[]\n\t\t{\n\t\t\treturn permissionBuilder.getPermissions(this.task);\n\t\t},\n\t\tisLocked(): boolean\n\t\t{\n\t\t\treturn !Core.getParams().restrictions.templatesAccessPermissions.available;\n\t\t},\n\t\tfeatureId(): string\n\t\t{\n\t\t\treturn Core.getParams().restrictions.templatesAccessPermissions.featureId;\n\t\t},\n\t\tbuttonIcon(): string\n\t\t{\n\t\t\treturn this.isLocked ? Outline.LOCK_M : Outline.SETTINGS_M;\n\t\t},\n\t},\n\tmethods: {\n\t\tshowPopup(): void\n\t\t{\n\t\t\tif (this.isLocked)\n\t\t\t{\n\t\t\t\tvoid showLimit({ featureId: this.featureId });\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.shown = true;\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div class=\"tasks--template-permissions-button\">\n\t\t\t<HoverPill @click=\"showPopup\">\n\t\t\t\t<div class=\"tasks--template-permissions-button--wrapper\">\n\t\t\t\t\t<BIcon\n\t\t\t\t\t\t:name=\"Outline.SETTINGS\"\n\t\t\t\t\t\t:size=\"24\"\n\t\t\t\t\t\tcolor=\"var(--ui-color-base-3)\"\n\t\t\t\t\t/>\n\t\t\t\t\t<TextSm className=\"tasks--template-permissions-button--text\">\n\t\t\t\t\t\t{{ loc('TASKS_V2_TEMPLATE_PERMISSIONS_BUTTON') }}\n\t\t\t\t\t</TextSm>\n\t\t\t\t\t<BIcon\n\t\t\t\t\t\tv-if=\"isLocked\"\n\t\t\t\t\t\t:name=\"Outline.LOCK_L\"\n\t\t\t\t\t\t:size=\"24\"\n\t\t\t\t\t\tcolor=\"var(--ui-color-accent-main-primary-alt-2)\"\n\t\t\t\t\t/>\n\t\t\t\t\t<div\n\t\t\t\t\t\tv-else\n\t\t\t\t\t\tclass=\"tasks--template-permissions-button--counter\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<BIcon\n\t\t\t\t\t\t\t:name=\"Outline.GROUP\"\n\t\t\t\t\t\t\t:size=\"18\"\n\t\t\t\t\t\t\tcolor=\"var(--ui-color-accent-main-primary)\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<span class=\"tasks--template-permissions-button--counter__count\">\n\t\t\t\t\t\t\t{{ permissions.length }}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</HoverPill>\n\t\t\t<TemplatePermissionsPopup\n\t\t\t\tv-if=\"!isLocked && shown\"\n\t\t\t\t:bindElement=\"$el\"\n\t\t\t\t@close=\"shown = false\"\n\t\t\t/>\n\t\t</div>\n\t`,\n};\n"],"names":["TemplatePermissionUserRow","name","components","BMenu","UserLabel","BIcon","inject","task","isEdit","settings","props","permission","type","Object","required","freeze","Function","unfreeze","emits","setup","Outline","data","isMenuShown","computed","isGranted","grantedIds","Set","currentUser","id","add","creatorId","entityType","EntitySelectorEntity","User","has","entityId","permissionLabel","PermissionType","Full","loc","options","title","description","Read","filter","Boolean","menuOptions","className","bindElement","$refs","minWidth","maxWidth","padding","offsetTop","items","map","option","subtitle","onClick","$emit","targetContainer","document","body","watch","shown","setTimeout","template","AddUsersButton","UiButton","templateId","String","permissions","Array","AirButtonStyle","ButtonSize","preselected","it","permissionBuilder","buildItemId","unmounted","selector","destroy","methods","showDialog","restrictions","Core","getParams","EntitySelectorDialog","targetNode","$el","context","enableSearch","width","preselectedItems","entities","emailUsers","analyticsSource","lockGuestLink","mailUserIntegration","available","lockGuestLinkFeatureId","featureId","Department","selectMode","MetaUser","Project","itemOptions","default","link","linkTitle","events","update","popupOptions","onClose","selectItemsByIds","show","getSelectedItems","buildFromItem","existingPermission","find","TemplatePermissionsPopup","Popup","HeadlineSm","Text2Xs","taskId","HTMLElement","minHeight","maxHeight","$root","firstElementChild","handler","$nextTick","popup","adjustPosition","deep","created","getPermissions","removeItem","updateItem","save","taskService","TemplatePermissionsButton","HoverPill","TextSm","isLocked","templatesAccessPermissions","buttonIcon","LOCK_M","SETTINGS_M","showPopup","showLimit"],"mappings":"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"}