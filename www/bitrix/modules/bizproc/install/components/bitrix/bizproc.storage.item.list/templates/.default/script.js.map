{"version":3,"file":"script.js","sources":["src/storage-item-list.js"],"sourcesContent":["import { Loc } from 'main.core';\nimport { MessageBox } from 'ui.dialogs.messagebox';\n\nimport './style.css';\n\nexport class StorageItemList\n{\n\tstatic instance: ?StorageItemList = null;\n\n\tconstructor()\n\t{\n\t\tStorageItemList.instance = this;\n\t}\n\n\tstatic removeStorage(storageId: number): void\n\t{\n\t\tMessageBox.confirm(\n\t\t\tLoc.getMessage('BIZPROC_STORAGE_ITEM_LIST_CONFIRM_MESSAGE') ?? '',\n\t\t\t(messageBox) => {\n\t\t\t\tBX.ajax.runAction('bizproc.storage.delete', { data: {id: storageId} })\n\t\t\t\t\t.then((response) => {\n\t\t\t\t\t\tif (response.data)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttop.BX.UI.Notification.Center.notify({\n\t\t\t\t\t\t\t\tcontent: Loc.getMessage('BIZPROC_STORAGE_ITEM_DELETE_MESSAGE') ?? '',\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tif (messageBox)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tmessageBox.close();\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tconst slider = BX.SidePanel.Instance.getTopSlider();\n\t\t\t\t\t\t\tif (slider)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tslider.close();\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\ttop.BX.Event.EventEmitter.emit(\n\t\t\t\t\t\t\t\t'BX.Bizproc.Component.StorageItemList:onStorageRemove',\n\t\t\t\t\t\t\t\t{ storageId: storageId }\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\tMessageBox.alert(error.errors.pop().message);\n\t\t\t\t\t});\n\t\t\t},\n\t\t\tLoc.getMessage('BIZPROC_STORAGE_ITEM_CONFIRM_MESSAGE_OK') ?? '',\n\t\t);\n\t}\n}"],"names":["StorageItemList","constructor","instance","removeStorage","storageId","MessageBox","confirm","Loc","getMessage","messageBox","BX","ajax","runAction","data","id","then","response","top","UI","Notification","Center","notify","content","close","slider","SidePanel","Instance","getTopSlider","Event","EventEmitter","emit","catch","error","alert","errors","pop","message"],"mappings":";;;;;;CAKO,MAAMA,eAAe,CAC5B;GAGCC,WAAW,GACX;KACCD,eAAe,CAACE,QAAQ,GAAG,IAAI;;GAGhC,OAAOC,aAAa,CAACC,SAAiB,EACtC;KAAA;KACCC,gCAAU,CAACC,OAAO,oBACjBC,aAAG,CAACC,UAAU,CAAC,2CAA2C,CAAC,8BAAI,EAAE,EAChEC,UAAU,IAAK;OACfC,EAAE,CAACC,IAAI,CAACC,SAAS,CAAC,wBAAwB,EAAE;SAAEC,IAAI,EAAE;WAACC,EAAE,EAAEV;;QAAY,CAAC,CACpEW,IAAI,CAAEC,QAAQ,IAAK;SACnB,IAAIA,QAAQ,CAACH,IAAI,EACjB;WAAA;WACCI,GAAG,CAACP,EAAE,CAACQ,EAAE,CAACC,YAAY,CAACC,MAAM,CAACC,MAAM,CAAC;aACpCC,OAAO,sBAAEf,aAAG,CAACC,UAAU,CAAC,qCAAqC,CAAC,+BAAI;YAClE,CAAC;WAEF,IAAIC,UAAU,EACd;aACCA,UAAU,CAACc,KAAK,EAAE;;WAGnB,MAAMC,MAAM,GAAGd,EAAE,CAACe,SAAS,CAACC,QAAQ,CAACC,YAAY,EAAE;WACnD,IAAIH,MAAM,EACV;aACCA,MAAM,CAACD,KAAK,EAAE;;WAGfN,GAAG,CAACP,EAAE,CAACkB,KAAK,CAACC,YAAY,CAACC,IAAI,CAC7B,sDAAsD,EACtD;aAAE1B,SAAS,EAAEA;YAAW,CACxB;;QAEF,CAAC,CACD2B,KAAK,CAAEC,KAAK,IAAK;SACjB3B,gCAAU,CAAC4B,KAAK,CAACD,KAAK,CAACE,MAAM,CAACC,GAAG,EAAE,CAACC,OAAO,CAAC;QAC5C,CAAC;MACH,sBACD7B,aAAG,CAACC,UAAU,CAAC,yCAAyC,CAAC,+BAAI,EAAE,CAC/D;;CAEH;CA9CaR,eAAe,CAEpBE,QAAQ,GAAqB,IAAI;;;;;;;;"}