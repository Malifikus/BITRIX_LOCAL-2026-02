this.BX=this.BX||{};this.BX.Call=this.BX.Call||{};(function(e,s,i,t){"use strict";var l=babelHelpers.classPrivateFieldLooseKey("sliderIdWithCall");var a=babelHelpers.classPrivateFieldLooseKey("subscribeToEvents");var r=babelHelpers.classPrivateFieldLooseKey("onCloseSliderWithCall");class n{static getInstance(){if(!this.instance){this.instance=new this}return this.instance}constructor(){Object.defineProperty(this,r,{value:c});Object.defineProperty(this,a,{value:o});Object.defineProperty(this,l,{writable:true,value:void 0});babelHelpers.classPrivateFieldLooseBase(this,l)[l]="";babelHelpers.classPrivateFieldLooseBase(this,a)[a]()}setTopSliderId(){if(!BX.SidePanel.Instance.isOpen()){return}babelHelpers.classPrivateFieldLooseBase(this,l)[l]=BX.SidePanel.Instance.getTopSlider().getUrl().toString()}clearSliderId(){babelHelpers.classPrivateFieldLooseBase(this,l)[l]=""}}function o(){s.EventEmitter.subscribe("SidePanel.Slider:onClose",babelHelpers.classPrivateFieldLooseBase(this,r)[r].bind(this))}async function c({data:e}){[e]=e;const s=e.getSlider().getUrl().toString();if(s!==babelHelpers.classPrivateFieldLooseBase(this,l)[l]||s.startsWith("im:slider")){return}const a=t.CallManager.getInstance().hasCurrentCall();if(a){e.denyAction();const s=await i.showCloseWithActiveCallConfirm();if(s){t.CallManager.getInstance().leaveCurrentCall();e.slider.close()}}}e.CallSliderManager=n})(this.BX.Call.Lib=this.BX.Call.Lib||{},BX.Event,BX.Messenger.v2.Lib,BX.Call.Lib);
//# sourceMappingURL=call-slider-manager.bundle.map.js