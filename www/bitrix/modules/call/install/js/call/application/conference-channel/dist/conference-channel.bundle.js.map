{"version":3,"file":"conference-channel.bundle.js","sources":["../src/index.js"],"sourcesContent":["import { DesktopApi } from 'im.v2.lib.desktop-api';\nimport { CallMultiChannel } from 'call.core';\n\nclass ConferenceChannel\n{\n\tstatic #instance;\n\tconstructor()\n\t{\n\t\tthis.callMultiBroadcastClient = new CallMultiChannel('call_conf_controller_multi_channel');\n\t}\n\n\tstatic getInstance(): ConferenceChannel\n\t{\n\t\tif (!this.#instance)\n\t\t{\n\t\t\tthis.#instance = new this();\n\t\t}\n\n\t\treturn this.#instance;\n\t}\n\n\tasync sendRequest(conferenceCode: string): Promise<boolean[]>\n\t{\n\t\tif (!DesktopApi.isDesktop())\n\t\t{\n\t\t\treturn Promise.resolve([]);\n\t\t}\n\n\t\treturn await this.callMultiBroadcastClient.broadcastRequest(conferenceCode, { timeout: 100 });\n\t}\n\n\tsetExecuter(handle) {\n\t\tthis.callMultiBroadcastClient.executer(handle);\n\t}\n}\n\nexport { ConferenceChannel };"],"names":["ConferenceChannel","callMultiBroadcastClient","CallMultiChannel","conferenceCode","DesktopApi","isDesktop","Promise","resolve","broadcastRequest","timeout","handle","executer"],"mappings":";;;;;;;CACA;CAAA;CAAA;CAAA;CAAA;CAAA;AADA,KAGMA,iBAAiB;GAGtB,6BACA;KAAA;KACC,IAAI,CAACC,wBAAwB,GAAG,IAAIC,0BAAgB,CAAC,oCAAoC,CAAC;;GAC1F;KAAA;KAAA;OAAA,2GAYiBC,cAAsB;SAAA;WAAA;aAAA;eAAA,IAElCC,+BAAU,CAACC,SAAS,EAAE;iBAAA;iBAAA;;eAAA,iCAEnBC,OAAO,CAACC,OAAO,CAAC,EAAE,CAAC;aAAA;eAAA;eAAA,OAGd,IAAI,CAACN,wBAAwB,CAACO,gBAAgB,CAACL,cAAc,EAAE;iBAAEM,OAAO,EAAE;gBAAK,CAAC;aAAA;eAAA;aAAA;aAAA;eAAA;;;;OAAA;SAAA;;OAAA;;;KAAA;KAAA,4BAGlFC,MAAM,EAAE;OACnB,IAAI,CAACT,wBAAwB,CAACU,QAAQ,CAACD,MAAM,CAAC;;;KAC9C;KAAA,8BArBD;OACC,IAAI,iCAAC,IAAI,EAVLV,iBAAiB,YAUF,EACnB;SACC,oCAAI,EAZDA,iBAAiB,aAYH,IAAI,IAAI,EAAE;;OAG5B,uCAAO,IAAI,EAfPA,iBAAiB;;;GAgBrB;CAAA;CAAA;GAAA;GAAA;CAAA;;;;;;;;"}