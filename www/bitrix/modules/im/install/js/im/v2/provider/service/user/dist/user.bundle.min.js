this.BX=this.BX||{};this.BX.Messenger=this.BX.Messenger||{};this.BX.Messenger.v2=this.BX.Messenger.v2||{};(function(e,s,t){"use strict";var a=babelHelpers.classPrivateFieldLooseKey("itemsPerPage");var r=babelHelpers.classPrivateFieldLooseKey("isLoading");var i=babelHelpers.classPrivateFieldLooseKey("hasMoreItemsToLoad");var l=babelHelpers.classPrivateFieldLooseKey("lastId");var o=babelHelpers.classPrivateFieldLooseKey("requestItems");var d=babelHelpers.classPrivateFieldLooseKey("getQueryParams");class b{constructor(){Object.defineProperty(this,d,{value:n});Object.defineProperty(this,o,{value:c});Object.defineProperty(this,a,{writable:true,value:50});Object.defineProperty(this,r,{writable:true,value:false});Object.defineProperty(this,i,{writable:true,value:true});Object.defineProperty(this,l,{writable:true,value:void 0})}loadFirstPage(e){babelHelpers.classPrivateFieldLooseBase(this,r)[r]=true;return babelHelpers.classPrivateFieldLooseBase(this,o)[o]({messageId:e,firstPage:true})}loadNextPage(e){if(babelHelpers.classPrivateFieldLooseBase(this,r)[r]||!babelHelpers.classPrivateFieldLooseBase(this,i)[i]){return Promise.resolve()}babelHelpers.classPrivateFieldLooseBase(this,r)[r]=true;return babelHelpers.classPrivateFieldLooseBase(this,o)[o]({messageId:e})}hasMoreItemsToLoad(){return babelHelpers.classPrivateFieldLooseBase(this,i)[i]}getItemsPerPage(){return babelHelpers.classPrivateFieldLooseBase(this,a)[a]}getRequestFilter(e=false){return{lastId:e?null:babelHelpers.classPrivateFieldLooseBase(this,l)[l]}}getRestMethodName(){throw new Error('BaseUserService: you should implement "getRestMethodName" for child class')}getLastId(e){throw new Error('BaseUserService: you should implement "getLastId" for child class')}}async function c({messageId:e,firstPage:a=false}){const o=await s.runAction(this.getRestMethodName(),babelHelpers.classPrivateFieldLooseBase(this,d)[d]({messageId:e,firstPage:a})).catch((([e])=>{console.error("BaseRecentList: page request error",e)}));const{users:b,hasNextPage:c}=o;babelHelpers.classPrivateFieldLooseBase(this,l)[l]=this.getLastId(o);babelHelpers.classPrivateFieldLooseBase(this,i)[i]=c;babelHelpers.classPrivateFieldLooseBase(this,r)[r]=false;const n=new t.UserManager;await n.setUsersToModel(Object.values(b));return b.map((e=>e.id))}function n({messageId:e,firstPage:s=false}){return{data:{messageId:e,limit:this.getItemsPerPage(),filter:this.getRequestFilter(s)}}}e.BaseUserService=b})(this.BX.Messenger.v2.Service=this.BX.Messenger.v2.Service||{},BX.Messenger.v2.Lib,BX.Messenger.v2.Lib);
//# sourceMappingURL=user.bundle.map.js