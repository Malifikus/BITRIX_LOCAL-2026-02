this.BX=this.BX||{};this.BX.Messenger=this.BX.Messenger||{};this.BX.Messenger.v2=this.BX.Messenger.v2||{};(function(e,s,i,t,l){"use strict";var a=babelHelpers.classPrivateFieldLooseKey("instance");var r=babelHelpers.classPrivateFieldLooseKey("emitter");var o=babelHelpers.classPrivateFieldLooseKey("bindEscHandler");var n=babelHelpers.classPrivateFieldLooseKey("unbindEscHandler");var d=babelHelpers.classPrivateFieldLooseKey("onKeyPressCloseBulkActions");class b{static getInstance(){if(!babelHelpers.classPrivateFieldLooseBase(this,a)[a]){babelHelpers.classPrivateFieldLooseBase(this,a)[a]=new this}return babelHelpers.classPrivateFieldLooseBase(this,a)[a]}constructor(){Object.defineProperty(this,d,{value:h});Object.defineProperty(this,n,{value:v});Object.defineProperty(this,o,{value:c});Object.defineProperty(this,r,{writable:true,value:void 0});this.keyPressHandler=babelHelpers.classPrivateFieldLooseBase(this,d)[d].bind(this)}bindEvents(e){const{emitter:s}=e;babelHelpers.classPrivateFieldLooseBase(this,r)[r]=s;babelHelpers.classPrivateFieldLooseBase(this,r)[r].subscribe(i.EventType.dialog.openBulkActionsMode,this.enableBulkMode.bind(this));babelHelpers.classPrivateFieldLooseBase(this,r)[r].subscribe(i.EventType.dialog.closeBulkActionsMode,this.disableBulkMode.bind(this))}enableBulkMode(e){const{messageId:s,dialogId:i}=e.getData();void t.Core.getStore().dispatch("messages/select/enableBulkMode",{messageId:s,dialogId:i});babelHelpers.classPrivateFieldLooseBase(this,o)[o]()}disableBulkMode(e){const{dialogId:s}=e.getData();void t.Core.getStore().dispatch("messages/select/disableBulkMode",{dialogId:s});babelHelpers.classPrivateFieldLooseBase(this,n)[n]()}clearCollection(){void t.Core.getStore().dispatch("messages/select/clearCollection");babelHelpers.classPrivateFieldLooseBase(this,n)[n]()}}function c(){babelHelpers.classPrivateFieldLooseBase(this,r)[r].subscribe(i.EventType.key.onBeforeEscape,this.keyPressHandler)}function v(){babelHelpers.classPrivateFieldLooseBase(this,r)[r].unsubscribe(i.EventType.key.onBeforeEscape,this.keyPressHandler)}function h(){this.clearCollection();return l.EscEventAction.handled}Object.defineProperty(b,a,{writable:true,value:void 0});e.BulkActionsManager=b})(this.BX.Messenger.v2.Lib=this.BX.Messenger.v2.Lib||{},BX.Event,BX.Messenger.v2.Const,BX.Messenger.v2.Application,BX.Messenger.v2.Lib);
//# sourceMappingURL=bulk-actions.bundle.map.js