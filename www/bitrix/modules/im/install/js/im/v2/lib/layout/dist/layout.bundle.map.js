{"version":3,"file":"layout.bundle.map.js","names":["this","BX","Messenger","v2","exports","main_core","main_core_events","im_v2_application_core","im_v2_lib_analytics","im_v2_lib_localStorage","im_v2_const","im_v2_lib_logger","im_v2_lib_channel","im_v2_lib_access","im_v2_lib_feature","im_v2_lib_bulkActions","TypesWithoutContext","Set","ChatType","comment","LayoutsWithoutLastOpenedElement","Layout","channel","market","taskComments","_instance","babelHelpers","classPrivateFieldLooseKey","_emitter","_lastOpenedElement","_onGoToMessageContext","_onDesktopReload","_sendAnalytics","_isSameChat","_handleLayoutChange","_handleChatChange","_handleSameChatReopen","_clearBulkActionsCollection","_closeChannelComments","_handleContextAccess","_getChat","LayoutManager","constructor","Object","defineProperty","value","_getChat2","_handleContextAccess2","_closeChannelComments2","_clearBulkActionsCollection2","_handleSameChatReopen2","_handleChatChange2","_handleLayoutChange2","_isSameChat2","_sendAnalytics2","_onDesktopReload2","_onGoToMessageContext2","writable","getInstance","classPrivateFieldLooseBase","bindEvents","context","emitter","subscribe","EventType","dialog","goToMessageContext","bind","EventEmitter","desktop","onReload","setLayout","config","contextId","hasAccess","Promise","resolve","entityId","setLastOpenedElement","name","Core","getStore","dispatch","getLayout","getters","saveCurrentLayout","currentLayout","LocalStorageManager","set","LocalStorageKey","layoutConfig","prepareInitialLayout","get","chat","Logger","warn","remove","getLastOpenedElement","layoutName","_babelHelpers$classPr","has","clearCurrentLayoutEntityId","currentLayoutName","deleteLastOpenedElement","isChatContextAvailable","dialogId","type","destroy","unsubscribe","deleteLastOpenedElementById","entries","forEach","lastOpenedId","isEmbeddedMode","isQuickAccessHidden","settings","Extension","getSettings","isValidLayout","values","includes","isChatLayout","chatLayouts","copilot","openlines","openlinesV2","collab","async","event","messageId","getData","Analytics","onOpenTab","sameLayout","sameEntityId","emit","BulkActionsManager","clearCollection","isChannelOpened","ChannelManager","isChannel","closeComments","errorCode","AccessManager","checkMessageAccess","ErrorCode","message","accessDeniedByTariff","historyLimit","onGoToContextLimitExceeded","FeatureManager","chatHistory","openFeatureSlider","Lib","Event","Application","Const"],"sources":["layout.bundle.js"],"mappings":"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","ignoreList":[]}