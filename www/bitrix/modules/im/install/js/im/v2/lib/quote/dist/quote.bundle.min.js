this.BX=this.BX||{};this.BX.Messenger=this.BX.Messenger||{};this.BX.Messenger.v2=this.BX.Messenger.v2||{};(function(e,t,s,n,r,o,i){"use strict";const a="-".repeat(54);const g={sendQuoteEvent(e){const{text:t,dialogId:s,context:{emitter:n},additionalParams:o={}}=e;n.emit(r.EventType.textarea.insertText,{text:t,dialogId:s,withNewLine:true,...o})},prepareInlineQuote(e,t,s){const n=e&&!e.endsWith("\n");const r=n?`${e}\n`:e;const o=t&&!t.startsWith("\n");const i=o?`\n${t}`:t;return`${r}${a}\n${s}\n${a}${i}`},prepareInlineMessageQuote(e,s){const g=n.Core.getStore().getters["chats/getByChatId"](e.chatId);let c=t.Loc.getMessage("IM_DIALOG_CHAT_QUOTE_DEFAULT_TITLE");if(e.authorId){c=d(e)}const h=o.DateFormatter.formatByTemplate(e.date,o.DateTemplate.notification);const l=i.Parser.prepareQuote(e,s);let I="";if(g&&g.type===r.ChatType.user){I=`#${g.dialogId}:${n.Core.getUserId()}/${e.id}`}else{I=`#${g.dialogId}/${e.id}`}return`${a}\n`+`${c} [${h}] ${I}\n`+`${l}\n`+`${a}\n`}};const d=e=>{let t="";const r=new s.CopilotManager;if(r.isCopilotBot(e.authorId)){t=r.getName({dialogId:e.authorId,messageId:e.id})}else{const s=n.Core.getStore().getters["users/get"](e.authorId);t=s.name}return t};e.Quote=g})(this.BX.Messenger.v2.Lib=this.BX.Messenger.v2.Lib||{},BX,BX.Messenger.v2.Lib,BX.Messenger.v2.Application,BX.Messenger.v2.Const,BX.Messenger.v2.Lib,BX.Messenger.v2.Lib);
//# sourceMappingURL=quote.bundle.map.js