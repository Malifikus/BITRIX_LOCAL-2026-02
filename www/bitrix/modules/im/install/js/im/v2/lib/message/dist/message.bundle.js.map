{"version":3,"file":"message.bundle.js","sources":["../src/message.js"],"sourcesContent":["import { Core } from 'im.v2.application.core';\nimport { MessageComponent } from 'im.v2.const';\n\nexport const MessageManager = {\n\tisEditable(id: string | number): string\n\t{\n\t\tconst isRealMessage = Core.getStore().getters['messages/isRealMessage'](id);\n\t\tconst isExists = Core.getStore().getters['messages/isExists'](id);\n\t\tconst isSticker = Core.getStore().getters['stickers/messages/isSticker'](id);\n\t\tconst isOwnMessage = this.isOwnMessage(id);\n\t\tconst isCheckIn = this.isCheckInMessage(id);\n\n\t\tif (!isRealMessage || !isExists || !isOwnMessage || isSticker || isCheckIn)\n\t\t{\n\t\t\treturn false;\n\t\t}\n\n\t\tconst isForward = Core.getStore().getters['messages/isForward'](id);\n\t\tconst isVideoNote = Core.getStore().getters['messages/isVideoNote'](id);\n\n\t\treturn !isForward && !isVideoNote;\n\t},\n\tisOwnMessage(id: number | string): boolean\n\t{\n\t\tconst message = Core.getStore().getters['messages/getById'](id);\n\t\tif (!message)\n\t\t{\n\t\t\treturn false;\n\t\t}\n\n\t\treturn message.authorId === Core.getUserId();\n\t},\n\tisCheckInMessage(id: number | string): boolean\n\t{\n\t\tconst message = Core.getStore().getters['messages/getById'](id);\n\t\tif (!message)\n\t\t{\n\t\t\treturn false;\n\t\t}\n\n\t\treturn message.componentId === MessageComponent.checkIn;\n\t},\n};\n"],"names":["MessageManager","isEditable","id","isRealMessage","Core","getStore","getters","isExists","isSticker","isOwnMessage","isCheckIn","isCheckInMessage","isForward","isVideoNote","message","authorId","getUserId","componentId","MessageComponent","checkIn"],"mappings":";;;;;;;OAGaA,cAAc,GAAG;GAC7BC,UAAU,CAACC,EAAmB,EAC9B;KACC,MAAMC,aAAa,GAAGC,2BAAI,CAACC,QAAQ,EAAE,CAACC,OAAO,CAAC,wBAAwB,CAAC,CAACJ,EAAE,CAAC;KAC3E,MAAMK,QAAQ,GAAGH,2BAAI,CAACC,QAAQ,EAAE,CAACC,OAAO,CAAC,mBAAmB,CAAC,CAACJ,EAAE,CAAC;KACjE,MAAMM,SAAS,GAAGJ,2BAAI,CAACC,QAAQ,EAAE,CAACC,OAAO,CAAC,6BAA6B,CAAC,CAACJ,EAAE,CAAC;KAC5E,MAAMO,YAAY,GAAG,IAAI,CAACA,YAAY,CAACP,EAAE,CAAC;KAC1C,MAAMQ,SAAS,GAAG,IAAI,CAACC,gBAAgB,CAACT,EAAE,CAAC;KAE3C,IAAI,CAACC,aAAa,IAAI,CAACI,QAAQ,IAAI,CAACE,YAAY,IAAID,SAAS,IAAIE,SAAS,EAC1E;OACC,OAAO,KAAK;;KAGb,MAAME,SAAS,GAAGR,2BAAI,CAACC,QAAQ,EAAE,CAACC,OAAO,CAAC,oBAAoB,CAAC,CAACJ,EAAE,CAAC;KACnE,MAAMW,WAAW,GAAGT,2BAAI,CAACC,QAAQ,EAAE,CAACC,OAAO,CAAC,sBAAsB,CAAC,CAACJ,EAAE,CAAC;KAEvE,OAAO,CAACU,SAAS,IAAI,CAACC,WAAW;IACjC;GACDJ,YAAY,CAACP,EAAmB,EAChC;KACC,MAAMY,OAAO,GAAGV,2BAAI,CAACC,QAAQ,EAAE,CAACC,OAAO,CAAC,kBAAkB,CAAC,CAACJ,EAAE,CAAC;KAC/D,IAAI,CAACY,OAAO,EACZ;OACC,OAAO,KAAK;;KAGb,OAAOA,OAAO,CAACC,QAAQ,KAAKX,2BAAI,CAACY,SAAS,EAAE;IAC5C;GACDL,gBAAgB,CAACT,EAAmB,EACpC;KACC,MAAMY,OAAO,GAAGV,2BAAI,CAACC,QAAQ,EAAE,CAACC,OAAO,CAAC,kBAAkB,CAAC,CAACJ,EAAE,CAAC;KAC/D,IAAI,CAACY,OAAO,EACZ;OACC,OAAO,KAAK;;KAGb,OAAOA,OAAO,CAACG,WAAW,KAAKC,4BAAgB,CAACC,OAAO;;CAEzD,CAAC;;;;;;;;"}