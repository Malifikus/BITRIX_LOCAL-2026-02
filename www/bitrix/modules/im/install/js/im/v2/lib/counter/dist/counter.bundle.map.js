{"version":3,"file":"counter.bundle.map.js","names":["this","BX","Messenger","v2","exports","main_core_events","main_core","im_v2_application_core","im_v2_lib_desktop","im_v2_lib_logger","im_v2_const","updateBrowserTitleCounter","newCounter","MAX_COUNTER_VALUE","MAX_COUNTER_TEXT","regexp","matchResult","document","title","match","displayCounter","groups","currentCounter","Number","parseInt","counterPrefix","text","CounterClearActionsByChatType","ChatType","taskComments","CounterClearActionsDefault","_instance","babelHelpers","classPrivateFieldLooseKey","_store","_emitCountersUpdateWithDebounce","_init","_prepareChatCounters","_subscribeToCountersChange","_emitLegacyNotificationCounterUpdate","_emitLegacyChatCounterUpdate","_emitCountersUpdate","_onTotalCounterChange","CounterManager","getInstance","classPrivateFieldLooseBase","constructor","Object","defineProperty","value","_onTotalCounterChange2","_emitCountersUpdate2","_emitLegacyChatCounterUpdate2","_emitLegacyNotificationCounterUpdate2","_subscribeToCountersChange2","_prepareChatCounters2","_init2","writable","Core","getStore","Runtime","debounce","counters","_counters","getApplicationData","Logger","warn","init","emitCounters","removeBrowserTitleCounter","counterWithWhitespace","counterPrefixLength","slice","preparedChatCounters","CHAT","CHAT_UNREAD","dispatch","LINES","preparedCollabCounters","COLLAB","COLLAB_UNREAD","preparedCopilotCounters","COPILOT","COPILOT_UNREAD","preparedTaskCounters","TASKS_TASK","TASKS_TASK_UNREAD","CHANNEL_COMMENT","TYPE","NOTIFY","unreadCounters","resultCounters","forEach","markedChatId","unreadChatHasCounter","Boolean","watch","notificationCounterWatch","newValue","chatCounterWatch","linesCounterWatch","copilotCounterWatch","collabCounterWatch","taskCounterWatch","notificationsCounter","event","BaseEvent","compatData","EventEmitter","emit","window","EventType","counter","onNotificationCounterChange","chatCounter","onChatCounterChange","payload","NavigationMenuItem","chat","getters","copilot","collab","tasksTask","openlines","openlinesV2","notification","onUpdate","notificationCounter","linesCounter","totalCounter","DesktopManager","isDesktopActive","state","Lib","Event","Application","Const"],"sources":["counter.bundle.js"],"mappings":"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","ignoreList":[]}