this.BX=this.BX||{};this.BX.Messenger=this.BX.Messenger||{};this.BX.Messenger.v2=this.BX.Messenger.v2||{};(function(e,s,i,t,a,r,n,o,l,c,b,g,v,p,d){"use strict";const u={users:"users"};var L=babelHelpers.classPrivateFieldLooseKey("instance");var M=babelHelpers.classPrivateFieldLooseKey("inited");var f=babelHelpers.classPrivateFieldLooseKey("initLogger");var P=babelHelpers.classPrivateFieldLooseKey("initSettings");var h=babelHelpers.classPrivateFieldLooseKey("initTariffRestrictions");var B=babelHelpers.classPrivateFieldLooseKey("initCallManager");var C=babelHelpers.classPrivateFieldLooseKey("initAnchors");var F=babelHelpers.classPrivateFieldLooseKey("initAvailableAIModelsList");var H=babelHelpers.classPrivateFieldLooseKey("initPreloadedEntities");var X=babelHelpers.classPrivateFieldLooseKey("initCurrentUserAdminStatus");class y{static getInstance(){var e;babelHelpers.classPrivateFieldLooseBase(y,L)[L]=(e=babelHelpers.classPrivateFieldLooseBase(y,L)[L])!=null?e:new y;return babelHelpers.classPrivateFieldLooseBase(y,L)[L]}static init(){y.getInstance()}constructor(){Object.defineProperty(this,X,{value:m});Object.defineProperty(this,H,{value:I});Object.defineProperty(this,F,{value:D});Object.defineProperty(this,C,{value:S});Object.defineProperty(this,B,{value:K});Object.defineProperty(this,h,{value:O});Object.defineProperty(this,P,{value:j});Object.defineProperty(this,f,{value:A});if(babelHelpers.classPrivateFieldLooseBase(y,M)[M]){return}babelHelpers.classPrivateFieldLooseBase(this,f)[f]();o.Logger.warn("InitManager: start");babelHelpers.classPrivateFieldLooseBase(this,P)[P]();babelHelpers.classPrivateFieldLooseBase(this,h)[h]();babelHelpers.classPrivateFieldLooseBase(this,C)[C]();babelHelpers.classPrivateFieldLooseBase(this,B)[B]();babelHelpers.classPrivateFieldLooseBase(this,F)[F]();babelHelpers.classPrivateFieldLooseBase(this,H)[H]();babelHelpers.classPrivateFieldLooseBase(this,X)[X]();n.CounterManager.init();v.PermissionManager.init();g.PromoManager.init();c.MarketManager.init();t.PhoneManager.init();a.SmileManager.init();l.MessageNotifierManager.init();b.DesktopManager.init();p.UpdateStateManager.init();d.Router.handleGetParams();babelHelpers.classPrivateFieldLooseBase(y,M)[M]=true}}function A(){const{loggerConfig:e}=s.Core.getApplicationData();if(!e){return}o.Logger.setConfig(e)}function j(){const{settings:e}=s.Core.getApplicationData();if(!e){return}o.Logger.warn("InitManager: settings",e);void s.Core.getStore().dispatch("application/settings/set",e)}function O(){const{tariffRestrictions:e}=s.Core.getApplicationData();if(!e){return}o.Logger.warn("InitManager: tariffRestrictions",e);void s.Core.getStore().dispatch("application/tariffRestrictions/set",e)}function K(){const{activeCalls:e}=s.Core.getApplicationData();i.CallManager.getInstance().updateRecentCallsList(e)}function S(){const{anchors:e}=s.Core.getApplicationData();if(!e){return}void s.Core.getStore().dispatch("messages/anchors/setAnchors",{anchors:e})}function D(){const{copilot:e}=s.Core.getApplicationData();if(!e.availableEngines){return}void s.Core.getStore().dispatch("copilot/setAvailableAIModels",e.availableEngines)}function I(){const{preloadedEntities:e}=s.Core.getApplicationData();if(!e){return}const i={[u.users]:e=>(new r.UserManager).setUsersToModel(e)};Object.entries(e).forEach((([e,s])=>{if(i[e]){i[e](s)}}))}function m(){const{isCurrentUserAdmin:e}=s.Core.getApplicationData();void s.Core.getStore().dispatch("users/setCurrentUserAdminStatus",e)}Object.defineProperty(y,L,{writable:true,value:void 0});Object.defineProperty(y,M,{writable:true,value:false});e.InitManager=y})(this.BX.Messenger.v2.Lib=this.BX.Messenger.v2.Lib||{},BX.Messenger.v2.Application,BX.Messenger.v2.Lib,BX.Messenger.v2.Lib,BX.Messenger.v2.Lib,BX.Messenger.v2.Lib,BX.Messenger.v2.Lib,BX.Messenger.v2.Lib,BX.Messenger.v2.Lib,BX.Messenger.v2.Lib,BX.Messenger.v2.Lib,BX.Messenger.v2.Lib,BX.Messenger.v2.Lib,BX.Messenger.v2.Lib,BX.Messenger.v2.Lib);
//# sourceMappingURL=init.bundle.map.js