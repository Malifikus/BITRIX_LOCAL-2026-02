{"version":3,"file":"ai-assistant-widget.bundle.js","sources":["../src/ai-assistant-widget.js"],"sourcesContent":["import { Extension, Type } from 'main.core';\n\nimport './style.css';\n\n// @vue/component\nexport const AiAssistantWidget = {\n\tname: 'AiAssistantWidget',\n\temits: ['ready'],\n\tmounted(): void\n\t{\n\t\tthis.tryInitWidget();\n\t},\n\tmethods: {\n\t\tgetSettings(): SettingsType | null\n\t\t{\n\t\t\treturn Extension.getSettings('bizprocdesigner.editor.components.ai-assistant-widget') ?? null;\n\t\t},\n\t\tgetParams(): Object | null\n\t\t{\n\t\t\tconst settings = this.getSettings().params;\n\t\t\tif (!Type.isPlainObject(settings))\n\t\t\t{\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\ttarget: this.$refs.container,\n\t\t\t\tcurrentUrl: settings.currentUrl,\n\t\t\t\tbotAvatarUrl: settings.botAvatarUrl,\n\t\t\t\tbotId: settings.botId,\n\t\t\t\tparams: settings.params ?? {},\n\t\t\t\tmoduleName: settings.moduleName,\n\t\t\t};\n\t\t},\n\t\ttryInitWidget(): void\n\t\t{\n\t\t\tconst params = this.getParams();\n\t\t\tif (!params)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (!BX?.AiAssistant?.Marta)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.instance = new BX.AiAssistant.Marta(params);\n\t\t\tthis.instance.init();\n\n\t\t\tthis.$emit('ready');\n\t\t},\n\t},\n\n\ttemplate: `\n\t\t<div \n\t\t\tclass=\"bizprocdesigner-editor-ai-assistant-widget\"\n\t\t\tref=\"container\"\n\t\t></div>\n\t`,\n};\n\ntype SettingsType = {\n\tbotId: string,\n\tbotAvatarUrl: string,\n\thint: string,\n\tcurrentUrl: string,\n\tmoduleName: string,\n};\n"],"names":["AiAssistantWidget","name","emits","mounted","tryInitWidget","methods","getSettings","Extension","getParams","settings","params","Type","isPlainObject","target","$refs","container","currentUrl","botAvatarUrl","botId","moduleName","BX","AiAssistant","Marta","instance","init","$emit","template"],"mappings":";;;;;;;CAIA;AACA,OAAaA,iBAAiB,GAAG;GAChCC,IAAI,EAAE,mBAAmB;GACzBC,KAAK,EAAE,CAAC,OAAO,CAAC;GAChBC,OAAO,GACP;KACC,IAAI,CAACC,aAAa,EAAE;IACpB;GACDC,OAAO,EAAE;KACRC,WAAW,GACX;OAAA;OACC,gCAAOC,mBAAS,CAACD,WAAW,CAAC,uDAAuD,CAAC,oCAAI,IAAI;MAC7F;KACDE,SAAS,GACT;OAAA;OACC,MAAMC,QAAQ,GAAG,IAAI,CAACH,WAAW,EAAE,CAACI,MAAM;OAC1C,IAAI,CAACC,cAAI,CAACC,aAAa,CAACH,QAAQ,CAAC,EACjC;SACC,OAAO,IAAI;;OAGZ,OAAO;SACNI,MAAM,EAAE,IAAI,CAACC,KAAK,CAACC,SAAS;SAC5BC,UAAU,EAAEP,QAAQ,CAACO,UAAU;SAC/BC,YAAY,EAAER,QAAQ,CAACQ,YAAY;SACnCC,KAAK,EAAET,QAAQ,CAACS,KAAK;SACrBR,MAAM,sBAAED,QAAQ,CAACC,MAAM,+BAAI,EAAE;SAC7BS,UAAU,EAAEV,QAAQ,CAACU;QACrB;MACD;KACDf,aAAa,GACb;OAAA;OACC,MAAMM,MAAM,GAAG,IAAI,CAACF,SAAS,EAAE;OAC/B,IAAI,CAACE,MAAM,EACX;SACC;;OAGD,IAAI,SAACU,EAAE,gCAAF,IAAIC,WAAW,aAAf,gBAAiBC,KAAK,GAC3B;SACC;;OAGD,IAAI,CAACC,QAAQ,GAAG,IAAIH,EAAE,CAACC,WAAW,CAACC,KAAK,CAACZ,MAAM,CAAC;OAChD,IAAI,CAACa,QAAQ,CAACC,IAAI,EAAE;OAEpB,IAAI,CAACC,KAAK,CAAC,OAAO,CAAC;;IAEpB;GAEDC,QAAQ,EAAG;;;;;;CAMZ,CAAC;;;;;;;;"}