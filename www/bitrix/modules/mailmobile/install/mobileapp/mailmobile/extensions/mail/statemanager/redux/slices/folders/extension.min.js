jn.define("mail/statemanager/redux/slices/folders",((e,r,d)=>{const{ReducerRegistry:a}=e("statemanager/redux/reducer-registry");const{createSlice:t}=e("statemanager/redux/toolkit");const{FolderModel:s}=e("mail/statemanager/redux/slices/folders/model/folder");const{sliceName:l,foldersListAdapter:o}=e("mail/statemanager/redux/slices/folders/meta");const{changeReadStatus:n,moveToFolder:u}=e("mail/statemanager/redux/slices/messages/thunk");const{changeReadStatusFulfilled:c,moveToFolderFulfilled:i}=e("mail/statemanager/redux/slices/folders/extra-reducer");const p=e=>e.map((e=>s.prepareReduxFolderFromServer(e)));const m=t({name:l,initialState:{...o.getInitialState(),currentFolderPath:null},reducers:{foldersUpserted:{reducer:o.upsertMany,prepare:e=>({payload:p(e)})},foldersAdded:{reducer:o.addMany,prepare:e=>({payload:p(e)})},folderUpdated:{reducer:o.upsertOne,prepare:e=>({payload:s.prepareReduxFolderFromServer(e)})},setCurrentFolder:(e,{payload:r})=>{const{folderPath:d}=r;e.currentFolderPath=d},updateFolderCounters:(e,{payload:r})=>{const{folderId:d,unreadCount:a,messageCount:t}=r;const s=e.entities[d];if(s){o.upsertOne(e,{...s,unreadCount:Number(a||0),messageCount:Number(t||0)})}},clearFolders:o.removeAll},extraReducers:e=>{e.addCase(n.fulfilled,c).addCase(u.fulfilled,i)}});const{foldersUpserted:f,foldersAdded:F,folderUpdated:g,setCurrentFolder:x,updateFolderCounters:C,clearFolders:y}=m.actions;a.register(l,m.reducer);d.exports={foldersUpserted:f,foldersAdded:F,folderUpdated:g,setCurrentFolder:x,updateFolderCounters:C,clearFolders:y}}));
//# sourceMappingURL=extension.map.js