(()=>{const a=a=>jn.require(a);const{MessageGrid:e}=a("mail/message-grid");const{MailDialog:o}=a("mail/dialog");const{AjaxMethod:t}=a("mail/const");BX.onViewLoaded((()=>{const a=BX.componentParameters.get("mailboxId",0);return BX.ajax.runAction(t.mailGetAvailableMailboxes,{data:{}}).then((({data:l})=>{if(l.length===0){BX.ajax.runAction(t.isMailboxConnectingAvailable,{data:{}}).then((({data:a})=>{if(a===true){o.show({type:o.CONNECTING_MAIL_TYPE,needsToCloseLayout:false,layoutWidget:layout,successCallback:()=>{layout.showComponent(new e({layout:layout}))}})}else{o.show({type:o.CONNECTION_MAIL_TYPE_FORBIDDEN,needsToCloseLayout:false,layoutWidget:layout})}}))}else{layout.showComponent(new e({layout:layout,mailboxes:l,mailboxId:a}))}}))}))})();
//# sourceMappingURL=component.map.js