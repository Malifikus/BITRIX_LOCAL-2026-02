{"version":3,"file":"recurring.map.js","names":["BX","namespace","Crm","EntityEditorRecurring","superclass","constructor","apply","this","extend","EntityEditorSubsection","prototype","initialize","id","settings","call","data","_schemeElement","getData","_schemeFieldData","prop","getObject","_enableRecurring","getBoolean","_settings","_recurringModel","_model","getField","getName","initializeFromModel","_this","i","length","_fields","getValue","name","type","isNotEmptyString","getRecurringFieldValue","getRecurringModel","parent","getParent","isContextMenuEnabled","isNeedToDisplay","isRequired","prepareContextMenuItems","results","push","value","text","getMessage","processContextMenuCommand","e","command","window","setTimeout","delegate","hide","_parent","hasAdditionalMenu","processChildAdditionalMenuCommand","closeContextMenu","isDragEnabled","getDragObjectType","UI","EditorDragObjectType","field","hasContentToDisplay","getRecurringMode","m","messages","hasOwnProperty","processChildControlChange","child","params","childName","refreshLayout","previousValue","changedValue","getRuntimeValue","getSchemeFieldValue","recurringModel","setChangedValue","model","Type","isArray","isObject","key","layout","options","_contentContainer","create","isMainSubsection","classList","add","isViewMode","_mode","EntityEditorMode","view","ensureWrapperCreated","layoutTitle","_wrapper","appendChild","viewNode","props","className","children","createTitleNode","getTitle","textNode","layoutData","_promise","Promise","loadViewText","then","proxy","innerHTML","util","htmlspecialchars","bind","toggle","createContextMenuButton","createDragButton","initializeDragDropAbilities","disabledField","disabled","events","click","showLicencePopup","lock","l","layoutChild","_addChildButton","_createChildButton","_hasLayout","registerLayout","title","titleNode","attrs","setChildVisible","mode","setVisible","get","onBeforeSubmit","getStringField","save","isPlainObject","loaders","ajax","url","method","dataType","sessid","bitrix_sessid","entityId","entityTypeId","getEntityTypeId","onsuccess","onEntityHintLoad","result","entityData","hint","_data","fulfill","preventDefault","top","InfoHelper","restrictionScript","restrictScript","eval","self"],"sources":["recurring.js"],"mappings":"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","ignoreList":[]}