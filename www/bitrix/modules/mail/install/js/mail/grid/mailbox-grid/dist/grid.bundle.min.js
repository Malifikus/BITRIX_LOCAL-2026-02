this.BX=this.BX||{};this.BX.Mail=this.BX.Mail||{};(function(e,s,t,i,a,r,l,o,n,d,c,p){"use strict";var b=babelHelpers.classPrivateFieldLooseKey("fieldId");var u=babelHelpers.classPrivateFieldLooseKey("gridId");class v{constructor(e){var s;Object.defineProperty(this,b,{writable:true,value:void 0});Object.defineProperty(this,u,{writable:true,value:void 0});babelHelpers.classPrivateFieldLooseBase(this,b)[b]=e.fieldId;babelHelpers.classPrivateFieldLooseBase(this,u)[u]=(s=e.gridId)!=null?s:null}getGridId(){return babelHelpers.classPrivateFieldLooseBase(this,u)[u]}getFieldId(){return babelHelpers.classPrivateFieldLooseBase(this,b)[b]}getGrid(){var e;let s=null;if(babelHelpers.classPrivateFieldLooseBase(this,u)[u]){s=BX.Main.gridManager.getById(babelHelpers.classPrivateFieldLooseBase(this,u)[u])}return(e=s)==null?void 0:e.instance}getFieldNode(){return document.getElementById(this.getFieldId())}appendToFieldNode(e){p.Dom.append(e,this.getFieldNode())}}let m=e=>e,h,g,y,P;var L=babelHelpers.classPrivateFieldLooseKey("renderAvatar");var F=babelHelpers.classPrivateFieldLooseKey("renderFullName");var f=babelHelpers.classPrivateFieldLooseKey("getFullNameLink");var T=babelHelpers.classPrivateFieldLooseKey("getPositionLabelContainer");class x extends v{constructor(...e){super(...e);Object.defineProperty(this,T,{value:A});Object.defineProperty(this,f,{value:H});Object.defineProperty(this,F,{value:B});Object.defineProperty(this,L,{value:_})}render(e){var s;const t=p.Tag.render(h||(h=m`
			<div class="mailbox-grid_employee-card-container"></div>
		`));const i=babelHelpers.classPrivateFieldLooseBase(this,L)[L]((s=e.avatar)==null?void 0:s.src);p.Dom.append(i,t);const a=babelHelpers.classPrivateFieldLooseBase(this,F)[F](e);p.Dom.append(a,t);this.appendToFieldNode(t)}}function _(e){const s={size:28};if(e){s.userpicPath=encodeURI(e)}const t=new l.AvatarRound(s);const i=t.getContainer();p.Dom.addClass(i,"mailbox-grid_owner-photo");return i}function B(e){const s=p.Tag.render(g||(g=m`
			<div class="mailbox-grid_full-name-container">${0}</div>
		`),babelHelpers.classPrivateFieldLooseBase(this,f)[f](e.name,e.pathToProfile));if(e.position!==""){p.Dom.append(babelHelpers.classPrivateFieldLooseBase(this,T)[T](p.Text.encode(e.position)),s)}return s}function H(e,s){return p.Tag.render(y||(y=m`
			<a class="mailbox-grid_full-name-label" href="${0}">
				${0}
			</a>
		`),s,p.Text.encode(e))}function A(e){return p.Tag.render(P||(P=m`
			<div class="mailbox-grid_position-label">
				${0}
			</div>
		`),p.Text.encode(e))}let I=e=>e,S,O;var N=babelHelpers.classPrivateFieldLooseKey("senderName");var E=babelHelpers.classPrivateFieldLooseKey("renderEmpty");var C=babelHelpers.classPrivateFieldLooseKey("renderSenderName");class w extends v{constructor(...e){super(...e);Object.defineProperty(this,C,{value:D});Object.defineProperty(this,E,{value:M});Object.defineProperty(this,N,{writable:true,value:void 0})}render(e){babelHelpers.classPrivateFieldLooseBase(this,N)[N]=e.senderName;if(babelHelpers.classPrivateFieldLooseBase(this,N)[N]===""){babelHelpers.classPrivateFieldLooseBase(this,E)[E]()}babelHelpers.classPrivateFieldLooseBase(this,C)[C]()}}function M(){const e=p.Tag.render(S||(S=I`
			<div class="mailbox-grid_sender-name --empty">
			</div>
		`));this.appendToFieldNode(e)}function D(){const e=p.Tag.render(O||(O=I`
			<div class="mailbox-grid_sender-name-container mailbox-grid_single-line_field">
				${0}
			</div>
		`),p.Text.encode(babelHelpers.classPrivateFieldLooseBase(this,N)[N]));this.appendToFieldNode(e)}let j=e=>e,K,$,R;var X=babelHelpers.classPrivateFieldLooseKey("renderProviderIcon");var U=babelHelpers.classPrivateFieldLooseKey("getProviderKey");var k=babelHelpers.classPrivateFieldLooseKey("getProviderImgSrcClass");class z extends v{constructor(...e){super(...e);Object.defineProperty(this,k,{value:W});Object.defineProperty(this,U,{value:G});Object.defineProperty(this,X,{value:q})}render(e){const s=this.renderCounter(e.count,e.isOverLimit,e.counterHintText);const t=babelHelpers.classPrivateFieldLooseBase(this,X)[X](e.serviceName);const i=p.Tag.render(K||(K=j`
			<div class="mailbox-grid_email-container">
				${0}
				<span class="mailbox-grid_email-text">${0}</span>
				${0}
			</div>
		`),t,p.Text.encode(e.email),s);this.appendToFieldNode(i);BX.UI.Hint.init(this.getFieldNode())}renderCounter(e,t,i){if(!(p.Type.isNumber(e)&&e>0)){return null}const a=e;const r=t?e+1:e;const l=new s.Counter({value:r,maxValue:a,useAirDesign:true,style:s.CounterStyle.FILLED_NO_ACCENT});const o=p.Tag.render($||($=j`
			<div class="mailbox-grid_counter-container">
				${0}
			</div>
		`),l.getContainer());if(p.Type.isStringFilled(i)){p.Dom.attr(o,{"data-hint":i,"data-hint-no-icon":"true"})}return o}}function q(e){if(!p.Type.isStringFilled(e)){return null}const s=babelHelpers.classPrivateFieldLooseBase(this,U)[U](e);const t=babelHelpers.classPrivateFieldLooseBase(this,k)[k](s);return p.Tag.render(R||(R=j`
			<div class="mail-provider-img-container --grid-view">
				<div class="mailbox-grid_email-icon">
					<div class="mail-provider-img ${0}"></div>
				</div>
			</div>
		`),t)}function G(e){switch(e){case"aol":return"aol";case"gmail":return"gmail";case"yahoo":return"yahoo";case"mail.ru":case"mailru":return"mailru";case"icloud":return"icloud";case"outlook.com":case"outlook":return"outlook";case"office365":return"office365";case"exchangeOnline":case"exchange":return"exchange";case"yandex":return"yandex";case"ukr.net":return"ukrnet";case"other":case"imap":return"other";default:return""}}function W(e){return`mail-provider-${e}-img`}class Y{static getActionId(){throw new Error("not implemented")}getActionConfig(){throw new Error("not implemented")}constructor(e){this.grid=e.grid}setActionParams(e){}getActionData(){return{}}async execute(){this.onBeforeActionRequest();await this.sendActionRequest();this.onAfterActionRequest()}onBeforeActionRequest(){}async sendActionRequest(){try{const e=await new Promise(((e,s)=>{const t=this.getActionConfig();const i=this.getActionData();const a={...t.options,data:i};let r=null;switch(t.type){case"controller":r=BX.ajax.runAction(t.name,a);break;case"component":r=BX.ajax.runComponentAction(t.component,t.name,a);break;default:{const e=`Unknown action type: ${t.type}`;const i=new Error(e);i.errors=[{message:e}];s(i);return}}r.then(e,s)}));this.handleSuccess(e)}catch(e){this.handleError(e)}}onAfterActionRequest(){}handleSuccess(e){}handleError(e){}}class V extends Y{static getActionId(){return"syncAction"}getActionConfig(){return{type:"controller",name:"mail.mailboxconnecting.syncMailbox"}}getActionData(){return{id:this.mailboxId,onlySyncCurrent:1}}setActionParams(e){this.mailboxId=e.mailboxId}onBeforeActionRequest(){this.grid.tableFade();const e=String(p.Loc.getMessage("MAIL_MAILBOX_LIST_ACTION_SYNC_START"));BX.UI.Notification.Center.notify({content:e,position:"top-right",autoHideDelay:3e3})}onAfterActionRequest(){this.grid.reload((()=>{this.grid.tableUnfade()}))}}class J extends Y{static getActionId(){return"openSettingsAction"}setActionParams(e){this.mailboxId=e.mailboxId}async execute(){this.sendAnalytics();const e=`/mail/config/edit?id=${this.mailboxId}`;BX.SidePanel.Instance.open(e)}sendAnalytics(){BX.UI.Analytics.sendData({tool:"mail",event:"mailbox_grid_edit",category:"mail_mass_ops",c_element:"context_menu"})}}const Q=new Map([[V.getActionId(),V],[J.getActionId(),J]]);class Z{static create(e,s){const t=Q.get(e);if(t){return new t(s)}return null}}var ee=babelHelpers.classPrivateFieldLooseKey("grid");class se{constructor(e){var s;Object.defineProperty(this,ee,{writable:true,value:void 0});babelHelpers.classPrivateFieldLooseBase(this,ee)[ee]=(s=BX.Main.gridManager.getById(e))==null?void 0:s.instance}static getInstance(e){if(!this.instances[e]){this.instances[e]=new se(e)}return this.instances[e]}getGrid(){return babelHelpers.classPrivateFieldLooseBase(this,ee)[ee]}runAction(e){const s=e.actionId;const t=e.options;t.grid=babelHelpers.classPrivateFieldLooseBase(this,ee)[ee];const i=Z.create(s,t);if(i){const s=e.params;i.setActionParams(s);i.execute()}}}se.instances=[];let te=e=>e,ie,ae,re,le,oe;var ne=babelHelpers.classPrivateFieldLooseKey("getLastSyncContainer");var de=babelHelpers.classPrivateFieldLooseKey("getLastSyncRightNowContainer");var ce=babelHelpers.classPrivateFieldLooseKey("getLastSyncButton");var pe=babelHelpers.classPrivateFieldLooseKey("getErrorMessage");class be extends v{constructor(...e){super(...e);Object.defineProperty(this,pe,{value:he});Object.defineProperty(this,ce,{value:me});Object.defineProperty(this,de,{value:ve});Object.defineProperty(this,ne,{value:ue})}render(e){const s=p.Tag.render(ie||(ie=te`
			<div class="mailbox-grid_last-sync-container mailbox-grid_single-line_field"></div>
		`));if(e.hasError){p.Dom.append(babelHelpers.classPrivateFieldLooseBase(this,pe)[pe](),s)}else{if(e.lastSync){p.Dom.append(babelHelpers.classPrivateFieldLooseBase(this,ne)[ne](e.lastSync),s)}else{p.Dom.append(babelHelpers.classPrivateFieldLooseBase(this,de)[de](),s)}if(e.mailboxId&&e.canEdit){p.Dom.append(babelHelpers.classPrivateFieldLooseBase(this,ce)[ce](e.mailboxId),s)}}this.appendToFieldNode(s)}}function ue(e){let s=e;if(/^\d+$/.test(e)){const i=parseInt(e,10);s=t.DateTimeFormat.formatLastActivityDate(i)}return p.Tag.render(ae||(ae=te`
			<span class="mailbox-grid_last-sync-text">${0}</span>
		`),p.Text.encode(s))}function ve(){return p.Tag.render(re||(re=te`
			<span class="mailbox-grid_last-sync-text">${0}</span>
		`),p.Loc.getMessage("MAIL_MAILBOX_LIST_LAST_SYNC_NEW_CONNECT"))}function me(e){const s=p.Tag.render(le||(le=te`
			<div class="mailbox-grid_last-sync-button ui-icon-set --o-refresh" data-test-id="mailbox-grid_refresh-button"></div>
		`));p.Event.bind(s,"click",(()=>{se.getInstance(this.getGrid().containerId).runAction({actionId:"syncAction",options:{},params:{mailboxId:e}})}));return s}function he(){return p.Tag.render(oe||(oe=te`
			<span class="mailbox-grid_last-sync-error-message">
				${0}
			</span>
		`),p.Loc.getMessage("MAIL_MAILBOX_LIST_LAST_SYNC_ERROR_MESSAGE"))}let ge=e=>e,ye;var Pe=babelHelpers.classPrivateFieldLooseKey("getStatusLabel");class Le extends v{constructor(...e){super(...e);Object.defineProperty(this,Pe,{value:Fe})}render(e){const s=p.Tag.render(ye||(ye=ge`
			<div class="mailbox-grid_active-status-container">
				${0}
			</div>
		`),babelHelpers.classPrivateFieldLooseBase(this,Pe)[Pe](e.enabled));this.appendToFieldNode(s)}}function Fe(e){const s=e?p.Loc.getMessage("MAIL_MAILBOX_LIST_FIELD_CRM_STATUS_ENABLED"):p.Loc.getMessage("MAIL_MAILBOX_LIST_FIELD_CRM_STATUS_DISABLED");const t=e?a.ChipDesign.OutlineSuccess:a.ChipDesign.Outline;return new a.Chip({size:a.ChipSize.Sm,rounded:true,text:s,design:t}).render()}const fe=Object.freeze({USER:"USER",DEPARTMENT:"DEPARTMENT"});let Te=e=>e,xe,_e,Be,He,Ae,Ie;var Se=babelHelpers.classPrivateFieldLooseKey("entities");var Oe=babelHelpers.classPrivateFieldLooseKey("popup");var Ne=babelHelpers.classPrivateFieldLooseKey("targetNode");var Ee=babelHelpers.classPrivateFieldLooseKey("renderEntity");var Ce=babelHelpers.classPrivateFieldLooseKey("getContent");class we{constructor(e){Object.defineProperty(this,Ce,{value:De});Object.defineProperty(this,Ee,{value:Me});Object.defineProperty(this,Se,{writable:true,value:void 0});Object.defineProperty(this,Oe,{writable:true,value:void 0});Object.defineProperty(this,Ne,{writable:true,value:void 0});babelHelpers.classPrivateFieldLooseBase(this,Se)[Se]=e.entities;babelHelpers.classPrivateFieldLooseBase(this,Ne)[Ne]=e.targetNode}show(){if(babelHelpers.classPrivateFieldLooseBase(this,Oe)[Oe]){babelHelpers.classPrivateFieldLooseBase(this,Oe)[Oe].show();return}babelHelpers.classPrivateFieldLooseBase(this,Oe)[Oe]=new r.Popup({id:`entities-with-avatars-popup-${p.Text.getRandom()}`,bindElement:babelHelpers.classPrivateFieldLooseBase(this,Ne)[Ne],content:babelHelpers.classPrivateFieldLooseBase(this,Ce)[Ce](),lightShadow:true,autoHide:true,closeByEsc:true,className:"popup-window-mailbox-entity-list",bindOptions:{position:"top"},animationOptions:{show:{type:"opacity-transform"},close:{type:"opacity"}}});babelHelpers.classPrivateFieldLooseBase(this,Oe)[Oe].show()}}function Me(e){if(e.type===fe.USER){var s;const t=20;let i=null;if(p.Type.isStringFilled((s=e.avatar)==null?void 0:s.src)){const s=new BX.UI.AvatarRound({size:t,userName:e.name,userpicPath:encodeURI(e.avatar.src)});i=s.getContainer()}else{const e=new BX.UI.AvatarRound({size:t});i=e.getContainer()}if(p.Type.isStringFilled(e.pathToProfile)){return p.Tag.render(xe||(xe=Te`
					<a
						href="${0}"
						target="_blank"
						title="${0}"
						class="mailbox-grid_user-list-popup-popup-img"
					>
						<span class="mailbox-grid_user-list-popup-popup-avatar-new">${0}</span>
						<span class="mailbox-grid_user-list-popup-popup-name-link">${0}</span>
					</a>
				`),e.pathToProfile,p.Text.encode(e.name),i,p.Text.encode(e.name))}return p.Tag.render(_e||(_e=Te`
				<div
					class="mailbox-grid_user-list-popup-popup-img"
					title="${0}"
				>
					<span class="mailbox-grid_user-list-popup-popup-avatar-new">${0}</span>
					<span class="mailbox-grid_user-list-popup-popup-name">${0}</span>
				</div>
			`),p.Text.encode(e.name),i,p.Text.encode(e.name))}if(e.type===fe.DEPARTMENT){const s=p.Tag.render(Be||(Be=Te`<div class="ui-icon ui-icon-common-company"><i></i></div>`));if(p.Type.isStringFilled(e.pathToStructure)){return p.Tag.render(He||(He=Te`
					<a
						href="${0}"
						target="_blank"
						title="${0}"
						class="mailbox-grid_user-list-popup-popup-img --icon"
					>
						<span class="mailbox-grid_user-list-popup-popup-avatar-new --icon">${0}</span>
						<span class="mailbox-grid_user-list-popup-popup-name-link">${0}</span>
					</a>
				`),e.pathToStructure,p.Text.encode(e.name),s,p.Text.encode(e.name))}return p.Tag.render(Ae||(Ae=Te`
				<div
					class="mailbox-grid_user-list-popup-popup-img --icon"
					title="${0}"
				>
					<span class="mailbox-grid_user-list-popup-popup-avatar-new --icon">${0}</span>
					<span class="mailbox-grid_user-list-popup-popup-name">${0}</span>
				</div>
			`),p.Text.encode(e.name),s,p.Text.encode(e.name))}return null}function De(){const e=document.createDocumentFragment();babelHelpers.classPrivateFieldLooseBase(this,Se)[Se].forEach((s=>{const t=babelHelpers.classPrivateFieldLooseBase(this,Ee)[Ee](s);if(t){p.Dom.append(t,e)}}));return p.Tag.render(Ie||(Ie=Te`
			<div class="mailbox-grid_user-list-popup-wrap-block">
				<div class="mailbox-grid_user-list-popup-popup-outer">
					<div class="mailbox-grid_user-list-popup-popup">
						${0}
					</div>
				</div>
			</div>
		`),e)}let je=e=>e,Ke,$e,Re,Xe,Ue,ke,ze,qe;var Ge=babelHelpers.classPrivateFieldLooseKey("entities");var We=babelHelpers.classPrivateFieldLooseKey("popup");var Ye=babelHelpers.classPrivateFieldLooseKey("renderEmpty");var Ve=babelHelpers.classPrivateFieldLooseKey("renderEntities");var Je=babelHelpers.classPrivateFieldLooseKey("renderSingleEntityLayout");var Qe=babelHelpers.classPrivateFieldLooseKey("renderMultipleEntitiesLayout");var Ze=babelHelpers.classPrivateFieldLooseKey("renderEntityIcon");var es=babelHelpers.classPrivateFieldLooseKey("showPopup");var ss=babelHelpers.classPrivateFieldLooseKey("renderUserAvatar");var ts=babelHelpers.classPrivateFieldLooseKey("renderDepartmentIcon");var is=babelHelpers.classPrivateFieldLooseKey("renderCounter");class as extends v{constructor(...e){super(...e);Object.defineProperty(this,is,{value:us});Object.defineProperty(this,ts,{value:bs});Object.defineProperty(this,ss,{value:ps});Object.defineProperty(this,es,{value:cs});Object.defineProperty(this,Ze,{value:ds});Object.defineProperty(this,Qe,{value:ns});Object.defineProperty(this,Je,{value:os});Object.defineProperty(this,Ve,{value:ls});Object.defineProperty(this,Ye,{value:rs});Object.defineProperty(this,Ge,{writable:true,value:void 0});Object.defineProperty(this,We,{writable:true,value:void 0})}render(e){babelHelpers.classPrivateFieldLooseBase(this,Ge)[Ge]=p.Type.isArray(e.entities)?e.entities:[];if(babelHelpers.classPrivateFieldLooseBase(this,Ge)[Ge].length===0){babelHelpers.classPrivateFieldLooseBase(this,Ye)[Ye]();return}babelHelpers.classPrivateFieldLooseBase(this,Ve)[Ve]()}}function rs(){const e=p.Tag.render(Ke||(Ke=je`
			<div class="mailbox-grid_list-members --empty"></div>
		`));this.appendToFieldNode(e)}function ls(){if(babelHelpers.classPrivateFieldLooseBase(this,Ge)[Ge].length===1){const e=babelHelpers.classPrivateFieldLooseBase(this,Je)[Je]();this.appendToFieldNode(e)}else{const e=babelHelpers.classPrivateFieldLooseBase(this,Qe)[Qe]();p.Event.bind(e,"click",(()=>babelHelpers.classPrivateFieldLooseBase(this,es)[es](e)));this.appendToFieldNode(e)}}function os(){const e=babelHelpers.classPrivateFieldLooseBase(this,Ge)[Ge][0];const s=p.Text.encode(e.name)||"";const t=p.Tag.render($e||($e=je`<span class="mailbox-grid_list-members-name">${0}</span>`),s);if(e.type===fe.USER){const s=p.Tag.render(Re||(Re=je`
				<a href="${0}" class="mailbox-grid_list-members --single-member --link"></a>
			`),e.pathToProfile);const i=babelHelpers.classPrivateFieldLooseBase(this,ss)[ss](e);p.Dom.append(i,s);p.Dom.append(t,s);return s}const i=babelHelpers.classPrivateFieldLooseBase(this,ts)[ts]();let a=p.Tag.render(Xe||(Xe=je`
			<div class="mailbox-grid_list-members --single-member"></div>
		`));if(p.Type.isStringFilled(e.pathToStructure)){a=p.Tag.render(Ue||(Ue=je`
				<a href="${0}" class="mailbox-grid_list-members --single-member --link"></a>
			`),e.pathToStructure)}p.Dom.append(i,a);p.Dom.append(t,a);return a}function ns(){const e=3;const s=babelHelpers.classPrivateFieldLooseBase(this,Ge)[Ge].slice(0,e);const t=babelHelpers.classPrivateFieldLooseBase(this,Ge)[Ge].length-s.length;const i=p.Tag.render(ke||(ke=je`<div class="mailbox-grid_list-members"></div>`));s.forEach((e=>{const s=babelHelpers.classPrivateFieldLooseBase(this,Ze)[Ze](e);if(s){p.Dom.append(s,i)}}));if(t>0){p.Dom.append(babelHelpers.classPrivateFieldLooseBase(this,is)[is](t),i)}return i}function ds(e){switch(e.type){case fe.USER:return babelHelpers.classPrivateFieldLooseBase(this,ss)[ss](e);case fe.DEPARTMENT:return babelHelpers.classPrivateFieldLooseBase(this,ts)[ts]();default:return null}}function cs(e){if(!babelHelpers.classPrivateFieldLooseBase(this,We)[We]){babelHelpers.classPrivateFieldLooseBase(this,We)[We]=new we({entities:babelHelpers.classPrivateFieldLooseBase(this,Ge)[Ge],targetNode:e})}babelHelpers.classPrivateFieldLooseBase(this,We)[We].show()}function ps(e){var s,t;const i=encodeURI((s=e.avatar)==null?void 0:s.src)||"";const a=p.Text.encode(e.name)||"";const r=28;let o=null;if(p.Type.isStringFilled((t=e.avatar)==null?void 0:t.src)){o=new l.AvatarRound({size:r,userName:a,userpicPath:i})}else{o=new l.AvatarRound({size:r})}const n=o.getContainer();p.Dom.addClass(n,"mailbox-grid_list-members-icon_element");return n}function bs(){return p.Tag.render(ze||(ze=je`
			<div class="mailbox-grid_list-members-icon_element">
				<div class="ui-icon ui-icon-common-company"><i></i></div> 
			</div>
		`))}function us(e){return p.Tag.render(qe||(qe=je`
			<div class="mailbox-grid_list-members-icon_element --count">
				<span class="mailbox-grid_warning-icon_element-plus">+</span>
				<span class="mailbox-grid_warning-icon_element-number">${0}</span>
			</div>
		`),e)}let vs=e=>e,ms,hs;var gs=babelHelpers.classPrivateFieldLooseKey("renderCountWithLimit");var ys=babelHelpers.classPrivateFieldLooseKey("renderCount");class Ps extends v{constructor(...e){super(...e);Object.defineProperty(this,ys,{value:Fs});Object.defineProperty(this,gs,{value:Ls})}render(e){if(p.Type.isNull(e.dailySentLimit)){babelHelpers.classPrivateFieldLooseBase(this,ys)[ys](e.dailySentCount);return}babelHelpers.classPrivateFieldLooseBase(this,gs)[gs](e.dailySentCount,e.dailySentLimit)}}function Ls(e,s){const t=p.Tag.render(ms||(ms=vs`
			<div class="mailbox-grid_daily-sent-count-container">
				${0}/${0}
			</div>
		`),e,s);this.appendToFieldNode(t)}function Fs(e){const s=p.Tag.render(hs||(hs=vs`
			<div class="mailbox-grid_daily-sent-count-container">
				${0}
			</div>
		`),e);this.appendToFieldNode(s)}let fs=e=>e,Ts,xs;var _s=babelHelpers.classPrivateFieldLooseKey("renderCountWithLimit");var Bs=babelHelpers.classPrivateFieldLooseKey("renderCount");class Hs extends v{constructor(...e){super(...e);Object.defineProperty(this,Bs,{value:Is});Object.defineProperty(this,_s,{value:As})}render(e){if(p.Type.isNull(e.monthlySentLimit)||!e.monthlySentLimit>0){babelHelpers.classPrivateFieldLooseBase(this,Bs)[Bs](e.monthlySentCount);return}babelHelpers.classPrivateFieldLooseBase(this,_s)[_s](e.monthlySentCount,e.monthlySentLimit)}}function As(e,s){const t=2;const i=100;const a=(e/s*i).toFixed(t);const r=p.Tag.render(Ts||(Ts=fs`
			<div class="mailbox-grid_daily-sent-count-container">
				${0}/${0} (${0}%)
			</div>
		`),e,s,a);this.appendToFieldNode(r)}function Is(e){const s=p.Tag.render(xs||(xs=fs`
			<div class="mailbox-grid_monthly-sent-count-container">
				${0}
			</div>
		`),e);this.appendToFieldNode(s)}let Ss=e=>e,Os;var Ns=babelHelpers.classPrivateFieldLooseKey("sendAnalytics");var Es=babelHelpers.classPrivateFieldLooseKey("handleClick");var Cs=babelHelpers.classPrivateFieldLooseKey("getState");class ws extends v{constructor(...e){super(...e);Object.defineProperty(this,Cs,{value:js});Object.defineProperty(this,Es,{value:Ds});Object.defineProperty(this,Ns,{value:Ms})}render(e){var s;const t=p.Tag.render(Os||(Os=Ss`
			<div class="mailbox-grid_action-field-container"></div>
		`));let i=null;let a=null;const r=babelHelpers.classPrivateFieldLooseBase(this,Cs)[Cs]((s=e.canEdit)!=null?s:false);if(e.hasError){i=new d.Button({size:d.Button.Size.MEDIUM,text:p.Loc.getMessage("MAIL_MAILBOX_LIST_ACTION_BUTTON_ERROR_ACTION"),useAirDesign:true,noCaps:true,wide:false,state:r,onclick:()=>{if(e.canEdit){const s="error_button";babelHelpers.classPrivateFieldLooseBase(this,Ns)[Ns](s);babelHelpers.classPrivateFieldLooseBase(this,Es)[Es](e.url)}},className:"mailbox-grid_action-button",dataset:{id:"mailbox-grid_action-button-error-action"}});a=i.render();p.Dom.append(a,t)}else{i=new d.Button({size:d.Button.Size.MEDIUM,text:p.Loc.getMessage("MAIL_MAILBOX_LIST_ACTION_BUTTON_TITLE"),useAirDesign:true,style:d.AirButtonStyle.OUTLINE_NO_ACCENT,noCaps:true,wide:false,state:r,onclick:()=>{if(e.canEdit){const s="edit_button";babelHelpers.classPrivateFieldLooseBase(this,Ns)[Ns](s);babelHelpers.classPrivateFieldLooseBase(this,Es)[Es](e.url)}},className:"mailbox-grid_action-button",dataset:{id:"mailbox-grid_action-button-default-action"}});a=i.render();p.Dom.append(a,t)}this.appendToFieldNode(t);if(!e.canEdit){p.Dom.attr(a,{"data-hint":p.Loc.getMessage("MAIL_MAILBOX_LIST_ACTION_BUTTON_ACCESS_LOCK"),"data-hint-no-icon":"true"});BX.UI.Hint.init(this.getFieldNode())}}}function Ms(e){c.sendData({tool:"mail",event:"mailbox_grid_edit",category:"mail_mass_ops",c_element:e})}function Ds(e){BX.SidePanel.Instance.open(e)}function js(e){return e?null:d.Button.State.DISABLED}let Ks=e=>e,$s,Rs;var Xs=babelHelpers.classPrivateFieldLooseKey("mailboxName");var Us=babelHelpers.classPrivateFieldLooseKey("renderEmpty");var ks=babelHelpers.classPrivateFieldLooseKey("renderMailboxName");class zs extends v{constructor(...e){super(...e);Object.defineProperty(this,ks,{value:Gs});Object.defineProperty(this,Us,{value:qs});Object.defineProperty(this,Xs,{writable:true,value:void 0})}render(e){babelHelpers.classPrivateFieldLooseBase(this,Xs)[Xs]=e.mailboxName;if(babelHelpers.classPrivateFieldLooseBase(this,Xs)[Xs]===""){babelHelpers.classPrivateFieldLooseBase(this,Us)[Us]()}babelHelpers.classPrivateFieldLooseBase(this,ks)[ks]()}}function qs(){const e=p.Tag.render($s||($s=Ks`
			<div class="mailbox-grid_mailbox-name --empty">
			</div>
		`));this.appendToFieldNode(e)}function Gs(){const e=p.Tag.render(Rs||(Rs=Ks`
			<div class="mailbox-grid_mailbox-name-container mailbox-grid_single-line_field">
				${0}
			</div>
		`),p.Text.encode(babelHelpers.classPrivateFieldLooseBase(this,Xs)[Xs]));this.appendToFieldNode(e)}let Ws=e=>e,Ys,Vs;var Js=babelHelpers.classPrivateFieldLooseKey("diskAmount");var Qs=babelHelpers.classPrivateFieldLooseKey("renderEmpty");var Zs=babelHelpers.classPrivateFieldLooseKey("renderMailboxName");class et extends v{constructor(...e){super(...e);Object.defineProperty(this,Zs,{value:tt});Object.defineProperty(this,Qs,{value:st});Object.defineProperty(this,Js,{writable:true,value:void 0})}render(e){babelHelpers.classPrivateFieldLooseBase(this,Js)[Js]=e.diskAmount;if(babelHelpers.classPrivateFieldLooseBase(this,Js)[Js]===""){babelHelpers.classPrivateFieldLooseBase(this,Qs)[Qs]()}babelHelpers.classPrivateFieldLooseBase(this,Zs)[Zs]()}}function st(){const e=p.Tag.render(Ys||(Ys=Ws`
			<div class="mailbox-grid_disk-amount --empty">
			</div>
		`));this.appendToFieldNode(e)}function tt(){const e=p.Tag.render(Vs||(Vs=Ws`
			<div class="mailbox-grid_disk-amount-container mailbox-grid_single-line_field">
				${0}
			</div>
		`),p.Text.encode(babelHelpers.classPrivateFieldLooseBase(this,Js)[Js]));this.appendToFieldNode(e)}e.BaseField=v;e.EmployeeField=x;e.SenderNameField=w;e.EmailWithCounterField=z;e.LastSyncField=be;e.CRMStatusField=Le;e.EntitiesWithAvatarsField=as;e.DailySentCountField=Ps;e.MonthlySentCountField=Hs;e.ActionField=ws;e.MailboxNameField=zs;e.DiskAmountField=et;e.GridManager=se})(this.BX.Mail.MailboxList=this.BX.Mail.MailboxList||{},BX.UI,BX.Main,BX,BX.UI.System.Chip,BX.Main,BX.UI,BX,BX,BX.UI,BX.UI.Analytics,BX);
//# sourceMappingURL=grid.bundle.map.js