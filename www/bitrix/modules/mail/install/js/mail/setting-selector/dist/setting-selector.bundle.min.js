this.BX=this.BX||{};(function(e,s,t,l){"use strict";let a=e=>e,i,r,o,b,c;const d="setting";var n=babelHelpers.classPrivateFieldLooseKey("container");var v=babelHelpers.classPrivateFieldLooseKey("settingButtonTextNode");var p=babelHelpers.classPrivateFieldLooseKey("settingButton");var h=babelHelpers.classPrivateFieldLooseKey("hiddenInput");var P=babelHelpers.classPrivateFieldLooseKey("inputName");var u=babelHelpers.classPrivateFieldLooseKey("settingsMap");var H=babelHelpers.classPrivateFieldLooseKey("selectedOptionKey");var F=babelHelpers.classPrivateFieldLooseKey("dialogOptions");var L=babelHelpers.classPrivateFieldLooseKey("disabled");var B=babelHelpers.classPrivateFieldLooseKey("forbidOptionDeselect");var f=babelHelpers.classPrivateFieldLooseKey("createSelector");var g=babelHelpers.classPrivateFieldLooseKey("renderContainer");class y{constructor(e){Object.defineProperty(this,g,{value:w});Object.defineProperty(this,f,{value:O});Object.defineProperty(this,n,{writable:true,value:null});Object.defineProperty(this,v,{writable:true,value:null});Object.defineProperty(this,p,{writable:true,value:null});Object.defineProperty(this,h,{writable:true,value:null});Object.defineProperty(this,P,{writable:true,value:void 0});Object.defineProperty(this,u,{writable:true,value:new Map});Object.defineProperty(this,H,{writable:true,value:void 0});Object.defineProperty(this,F,{writable:true,value:void 0});Object.defineProperty(this,L,{writable:true,value:false});Object.defineProperty(this,B,{writable:true,value:true});const{settingsMap:s={},selectedOptionKey:t,inputName:l,dialogOptions:a={},disabled:i=false}=e;Object.entries(s).forEach((([e,s])=>{babelHelpers.classPrivateFieldLooseBase(this,u)[u].set(e,s)}));babelHelpers.classPrivateFieldLooseBase(this,F)[F]=a;babelHelpers.classPrivateFieldLooseBase(this,P)[P]=l;babelHelpers.classPrivateFieldLooseBase(this,H)[H]=t;babelHelpers.classPrivateFieldLooseBase(this,L)[L]=i;babelHelpers.classPrivateFieldLooseBase(this,n)[n]=babelHelpers.classPrivateFieldLooseBase(this,g)[g]();babelHelpers.classPrivateFieldLooseBase(this,f)[f]()}getSelected(){return babelHelpers.classPrivateFieldLooseBase(this,H)[H]}select(e){babelHelpers.classPrivateFieldLooseBase(this,H)[H]=e;babelHelpers.classPrivateFieldLooseBase(this,v)[v].textContent=babelHelpers.classPrivateFieldLooseBase(this,u)[u].get(this.getSelected());if(babelHelpers.classPrivateFieldLooseBase(this,h)[h]){babelHelpers.classPrivateFieldLooseBase(this,h)[h].setAttribute("value",e)}}renderTo(e){if(s.Type.isDomNode(e)){s.Dom.append(babelHelpers.classPrivateFieldLooseBase(this,n)[n],e)}}}function O(){const e=[];babelHelpers.classPrivateFieldLooseBase(this,u)[u].forEach(((s,t)=>{e.push({id:t,title:s,entityId:d,selected:t===this.getSelected(),tabs:"recents"})}));this.settingDialog=new l.Dialog({items:e,targetNode:babelHelpers.classPrivateFieldLooseBase(this,p)[p],width:170,height:37*e.length+15,multiple:false,enableSearch:false,dropdownMode:true,showAvatars:false,compactView:true,events:{"Item:onBeforeDeselect":e=>{if(babelHelpers.classPrivateFieldLooseBase(this,B)[B]){e.preventDefault()}},"Item:onBeforeSelect":()=>{babelHelpers.classPrivateFieldLooseBase(this,B)[B]=false},"Item:onSelect":e=>{const{item:s}=e.getData();this.select(s.getId())},"Item:onDeselect":()=>{babelHelpers.classPrivateFieldLooseBase(this,B)[B]=true}},...babelHelpers.classPrivateFieldLooseBase(this,F)[F]});s.Event.bind(babelHelpers.classPrivateFieldLooseBase(this,p)[p],"click",(()=>{if(!babelHelpers.classPrivateFieldLooseBase(this,L)[L]){this.settingDialog.show()}}))}function w(){const e=new t.Icon({icon:t.Actions.CHEVRON_DOWN,color:getComputedStyle(document.body).getPropertyValue("--ui-color-base-80"),size:16});this.icon=e.render();let l=babelHelpers.classPrivateFieldLooseBase(this,u)[u].get(babelHelpers.classPrivateFieldLooseBase(this,H)[H]);if(l===undefined){l=""}babelHelpers.classPrivateFieldLooseBase(this,v)[v]=s.Tag.render(i||(i=a`<div class="setting-selector-button-text"></div>`));babelHelpers.classPrivateFieldLooseBase(this,v)[v].setAttribute("title",l);babelHelpers.classPrivateFieldLooseBase(this,v)[v].textContent=l;babelHelpers.classPrivateFieldLooseBase(this,p)[p]=s.Tag.render(r||(r=a`
			<div class="setting-selector-button ${0}">
				${0}
				${0}
			</div>
		`),babelHelpers.classPrivateFieldLooseBase(this,L)[L]?"setting-selector-button--disabled":"",babelHelpers.classPrivateFieldLooseBase(this,v)[v],this.icon);if(babelHelpers.classPrivateFieldLooseBase(this,P)[P]===undefined){babelHelpers.classPrivateFieldLooseBase(this,h)[h]=s.Tag.render(o||(o=a``))}else{babelHelpers.classPrivateFieldLooseBase(this,h)[h]=s.Tag.render(b||(b=a`<input type="hidden">`));babelHelpers.classPrivateFieldLooseBase(this,h)[h].setAttribute("name",babelHelpers.classPrivateFieldLooseBase(this,P)[P]);babelHelpers.classPrivateFieldLooseBase(this,h)[h].setAttribute("value",babelHelpers.classPrivateFieldLooseBase(this,H)[H])}return s.Tag.render(c||(c=a`
			 <div class="setting-selector-container">
			${0}
			${0}
			 </div>
		`),babelHelpers.classPrivateFieldLooseBase(this,p)[p],babelHelpers.classPrivateFieldLooseBase(this,h)[h])}e.SettingSelector=y})(this.BX.Mail=this.BX.Mail||{},BX,BX.UI.IconSet,BX.UI.EntitySelector);
//# sourceMappingURL=setting-selector.bundle.map.js