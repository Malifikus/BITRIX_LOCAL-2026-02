{"version":3,"file":"massconnect-notification.bundle.js","sources":["../src/massconnect-notification.js"],"sourcesContent":["import { Type } from 'main.core';\nimport { BannerDispatcher } from 'ui.banner-dispatcher';\nimport { Popup, CloseIconSize, PopupManager } from 'main.popup';\nimport './style.css';\n\nexport type NotificationOptions = {\n\tcontentContainerId: string;\n\tokButtonText: string;\n\tskipButtonText: string;\n\tuserOptionName: string;\n}\n\nexport class MassConnectNotification\n{\n\t#popup: Popup = null;\n\t#options: NotificationOptions = null;\n\n\tconstructor(options: NotificationOptions)\n\t{\n\t\tif (Type.isObject(options))\n\t\t{\n\t\t\tthis.#options = options;\n\t\t}\n\t}\n\n\tcreatePopup(onDone: Function): Popup\n\t{\n\t\treturn PopupManager.create(\n\t\t\t{\n\t\t\t\tid: 'mass-connect-popup-id',\n\t\t\t\tcontent: BX(this.#options.contentContainerId),\n\t\t\t\tbuttons: [\n\t\t\t\t\tnew BX.UI.Button({\n\t\t\t\t\t\ttext: this.#options.okButtonText,\n\t\t\t\t\t\tsize: BX.UI.Button.Size.LARGE,\n\t\t\t\t\t\tstyle: BX.UI.AirButtonStyle.FILLED_SUCCESS,\n\t\t\t\t\t\tuseAirDesign: true,\n\t\t\t\t\t\tonclick: () => {\n\t\t\t\t\t\t\tonDone();\n\t\t\t\t\t\t\tthis.#popup.close();\n\t\t\t\t\t\t\tBX.SidePanel.Instance.open('/mail/massconnect', { width: 950 });\n\t\t\t\t\t\t},\n\t\t\t\t\t}),\n\t\t\t\t\tnew BX.UI.Button({\n\t\t\t\t\t\ttext: this.#options.skipButtonText,\n\t\t\t\t\t\tsize: BX.UI.Button.Size.LARGE,\n\t\t\t\t\t\tstyle: BX.UI.AirButtonStyle.PLAIN_NO_ACCENT,\n\t\t\t\t\t\tuseAirDesign: true,\n\t\t\t\t\t\tonclick: () => {\n\t\t\t\t\t\t\tonDone();\n\t\t\t\t\t\t\tthis.#popup.close();\n\t\t\t\t\t\t},\n\t\t\t\t\t}),\n\t\t\t\t],\n\t\t\t\tcloseByEsc: true,\n\t\t\t\tclassName: 'mass-connection-popup-container',\n\t\t\t\toverlay: { opacity: 40 },\n\t\t\t\tfixed: true,\n\t\t\t\tcloseIcon: true,\n\t\t\t\tcloseIconSize: CloseIconSize.LARGE,\n\t\t\t},\n\t\t);\n\t}\n\n\tshow(): void\n\t{\n\t\tBannerDispatcher.critical.toQueue((onDone) => {\n\t\t\tthis.#popup = this.createPopup(onDone);\n\t\t\tthis.#popup.show();\n\t\t\tthis.#popup.zIndexComponent.setZIndex(400);\n\n\t\t\tBX.userOptions.save('mail.guide', this.#options.userOptionName, null, 'Y');\n\t\t});\n\t}\n}\n"],"names":["MassConnectNotification","options","babelHelpers","_classPrivateFieldInitSpec","writable","value","Type","isObject","key","onDone","PopupManager","create","id","content","BX","contentContainerId","buttons","UI","Button","text","okButtonText","size","Size","LARGE","style","AirButtonStyle","FILLED_SUCCESS","useAirDesign","onclick","close","SidePanel","Instance","open","width","skipButtonText","PLAIN_NO_ACCENT","closeByEsc","className","overlay","opacity","fixed","closeIcon","closeIconSize","CloseIconSize","BannerDispatcher","critical","toQueue","this","createPopup","show","zIndexComponent","setZIndex","userOptions","save","userOptionName"],"mappings":"uMAGqB,oCASRA,aAKZ,WAAYC,GACZC,oCAAAC,UAAAC,YAAAC,MAJgB,OAAIF,UAAAC,YAAAC,MACY,OAI3BC,OAAKC,SAASN,IAEjBC,yCAAgBD,GAoDjB,OAlDAC,6BAAAM,kBAAAH,eAEWI,GAEX,OAAOC,eAAaC,OACnB,CACCC,GAAI,wBACJC,QAASC,GAAGZ,0CAAca,oBAC1BC,QAAS,CACR,IAAIF,GAAGG,GAAGC,OAAO,CAChBC,KAAMjB,0CAAckB,aACpBC,KAAMP,GAAGG,GAAGC,OAAOI,KAAKC,MACxBC,MAAOV,GAAGG,GAAGQ,eAAeC,eAC5BC,cAAc,EACdC,QAAS,KACRnB,IACAP,0CAAY2B,QACZf,GAAGgB,UAAUC,SAASC,KAAK,oBAAqB,CAAEC,MAAO,SAG3D,IAAInB,GAAGG,GAAGC,OAAO,CAChBC,KAAMjB,0CAAcgC,eACpBb,KAAMP,GAAGG,GAAGC,OAAOI,KAAKC,MACxBC,MAAOV,GAAGG,GAAGQ,eAAeU,gBAC5BR,cAAc,EACdC,QAAS,KACRnB,IACAP,0CAAY2B,YAIfO,YAAY,EACZC,UAAW,kCACXC,QAAS,CAAEC,QAAS,IACpBC,OAAO,EACPC,WAAW,EACXC,cAAeC,gBAAcpB,WAG/Bf,WAAAH,iBAIAuC,mBAAiBC,SAASC,QAASrC,IAClCP,yCAAc6C,KAAKC,YAAYvC,IAC/BP,0CAAY+C,OACZ/C,0CAAYgD,gBAAgBC,UAAU,KAEtCrC,GAAGsC,YAAYC,KAAK,aAAcnD,0CAAcoD,eAAgB,KAAM"}