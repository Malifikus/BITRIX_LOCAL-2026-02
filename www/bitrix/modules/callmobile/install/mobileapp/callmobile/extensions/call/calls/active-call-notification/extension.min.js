jn.define("call/calls/active-call-notification",((i,t,o)=>{class n{constructor(i={}){this.callbacks={onSwitchMicrophonesStatus:BX.type.isFunction(i.onSwitchMicrophonesStatus)?i.onSwitchMicrophonesStatus:BX.DoNothing,onHangup:BX.type.isFunction(i.onHangup)?i.onHangup:BX.DoNothing};this.bxNotification=null;this.onActiveCallNotificationSwitchMicrophoneStatusHandler=this.#i.bind(this);this.onActiveCallNotificationHangupHandler=this.#t.bind(this)}show(i){try{if(this.bxNotification==null){this.bxNotification=BXActiveCallNotification.getInstance();this.bxNotification.on(BXActiveCallNotification.Events.SwitchMicrophoneStatus,this.onActiveCallNotificationSwitchMicrophoneStatusHandler);this.bxNotification.on(BXActiveCallNotification.Events.Hangup,this.onActiveCallNotificationHangupHandler);this.bxNotification.show(i)}}catch(i){console.error("Unable to create notification",i)}}update(i){try{if(this.bxNotification!=null){this.bxNotification.update(i)}}catch(i){console.error("Unable to update microphone status",i)}}dismiss(){if(Application.getPlatform()==="android"&&this.bxNotification!=null){try{this.bxNotification.off(BXActiveCallNotification.Events.SwitchMicrophoneStatus,this.onActiveCallNotificationSwitchMicrophoneStatusHandler);this.bxNotification.off(BXActiveCallNotification.Events.Hangup,this.onActiveCallNotificationHangupHandler);this.bxNotification.dismiss();this.bxNotification=null}catch(i){console.error("Unable to dismiss notification",i)}}}destroy(){this.dismiss();this.callbacks.onSwitchMicrophonesStatus=BX.DoNothing;this.callbacks.onHangup=BX.DoNothing}#i(){this.callbacks.onSwitchMicrophonesStatus()}#t(){this.callbacks.onHangup()}}o.exports={ActiveCallNotification:n}}));
//# sourceMappingURL=extension.map.js