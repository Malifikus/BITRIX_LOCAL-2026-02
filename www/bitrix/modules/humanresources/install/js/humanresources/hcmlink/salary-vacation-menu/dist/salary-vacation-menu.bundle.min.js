this.BX=this.BX||{};this.BX.HumanResources=this.BX.HumanResources||{};(function(e,s,a,i){"use strict";var t=babelHelpers.classPrivateFieldLooseKey("settings");var l=babelHelpers.classPrivateFieldLooseKey("cache");var r=babelHelpers.classPrivateFieldLooseKey("mode");var o=babelHelpers.classPrivateFieldLooseKey("button");var n=babelHelpers.classPrivateFieldLooseKey("getMenu");var c=babelHelpers.classPrivateFieldLooseKey("openApplication");var b=babelHelpers.classPrivateFieldLooseKey("attachHintToButton");var d=babelHelpers.classPrivateFieldLooseKey("getDisabledHintHtml");class h{constructor(e="profile-menu"){Object.defineProperty(this,d,{value:H});Object.defineProperty(this,b,{value:v});Object.defineProperty(this,c,{value:p});Object.defineProperty(this,n,{value:u});Object.defineProperty(this,t,{writable:true,value:null});Object.defineProperty(this,l,{writable:true,value:new a.MemoryCache});Object.defineProperty(this,r,{writable:true,value:void 0});Object.defineProperty(this,o,{writable:true,value:null});babelHelpers.classPrivateFieldLooseBase(this,r)[r]=e;babelHelpers.classPrivateFieldLooseBase(this,t)[t]=s.Extension.getSettings("humanresources.hcmlink.salary-vacation-menu")}async load(){if(s.Type.isObject(babelHelpers.classPrivateFieldLooseBase(this,t)[t])){return}babelHelpers.classPrivateFieldLooseBase(this,t)[t]=await s.ajax.runAction("humanresources.hcmlink.placement.loadSalaryVacation").then((e=>e.data)).catch((()=>({show:false})))}isHidden(){var e;return((e=babelHelpers.classPrivateFieldLooseBase(this,t)[t])==null?void 0:e.show)!==true}isDisabled(){var e;return((e=babelHelpers.classPrivateFieldLooseBase(this,t)[t])==null?void 0:e.disabled)===true}show(e){if(this.isHidden()||this.isDisabled()){return}babelHelpers.classPrivateFieldLooseBase(this,n)[n]().getPopupWindow().setBindElement(e);babelHelpers.classPrivateFieldLooseBase(this,n)[n]().show();babelHelpers.classPrivateFieldLooseBase(this,n)[n]().getPopupWindow().adjustPosition()}bindButton(e){if(babelHelpers.classPrivateFieldLooseBase(this,r)[r]!=="ui-btn"){return}babelHelpers.classPrivateFieldLooseBase(this,o)[o]=e;if(!this.isHidden()&&!this.isDisabled()){s.Event.bind(babelHelpers.classPrivateFieldLooseBase(this,o)[o],"click",(()=>{this.show(babelHelpers.classPrivateFieldLooseBase(this,o)[o])}))}if(this.isDisabled()){s.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,o)[o],"ui-btn-disabled");babelHelpers.classPrivateFieldLooseBase(this,b)[b](babelHelpers.classPrivateFieldLooseBase(this,o)[o])}return this}setSettings(e){babelHelpers.classPrivateFieldLooseBase(this,t)[t]=e;return this}}function u(){return babelHelpers.classPrivateFieldLooseBase(this,l)[l].remember("hcmLinkSalaryVacationMenu",(()=>{const e=babelHelpers.classPrivateFieldLooseBase(this,t)[t].options.map((e=>({text:e.title,onclick:(a,i)=>{s.close();babelHelpers.classPrivateFieldLooseBase(this,c)[c](e)}})));const s=new i.Menu({id:"hcmLink-vacation-salary-menu",items:e,autoHide:true,fixed:babelHelpers.classPrivateFieldLooseBase(this,r)[r]==="profile-menu"});return s}))}function p(e){BX.rest.AppLayout.openApplication(e.appId,e.options,{PLACEMENT:e.code,PLACEMENT_ID:e.id})}function v(e){babelHelpers.classPrivateFieldLooseBase(this,o)[o].setAttribute("data-hint",babelHelpers.classPrivateFieldLooseBase(this,d)[d]());s.Dom.attr(babelHelpers.classPrivateFieldLooseBase(this,o)[o],"data-hint-no-icon","y");s.Dom.attr(babelHelpers.classPrivateFieldLooseBase(this,o)[o],"data-hint-html","y");s.Dom.attr(babelHelpers.classPrivateFieldLooseBase(this,o)[o],"data-hint-interactivity","y");if(BX.UI.Hint){BX.UI.Hint.init(e.parentElement)}}function H(){return s.Loc.getMessage("HUMANRESOURCES_HCMLINK_SALARY_VACATION_MENU_DISABLED_HINT",{"[LINK]":'<a target="_self" onclick="(() => { top.BX.Helper.show(\'redirect=detail&code=23343028\'); })()" style="cursor:pointer;">',"[/LINK]":"</a>"})}e.SalaryVacationMenu=h})(this.BX.HumanResources.HcmLink=this.BX.HumanResources.HcmLink||{},BX,BX.Cache,BX.Main);
//# sourceMappingURL=salary-vacation-menu.bundle.map.js