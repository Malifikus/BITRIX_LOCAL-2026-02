{"version":3,"file":"otp-info.bundle.js","sources":["../src/banner-type.js","../src/button-factory.js","../src/content/base-content.js","../src/content/admin-enable-mandatory.js","../src/content/enable-otp.js","../src/content/enable-push-otp.js","../src/content/mandatory-enable-otp.js","../src/content/mandatory-enable-push-otp.js","../src/banner-factory.js"],"sourcesContent":["export class BannerType\n{\n\tstatic DISABLED_ALL_2FA = 1;\n\tstatic MANDATORY_2FA = 2;\n\tstatic ENABLED_OLD_2FA = 3;\n\tstatic ENABLED_OLD_2FA_AND_NEED_PUSH_2FA = 4;\n\tstatic ONLY_ADMIN_ENABLED_NEW_2FA = 5;\n}\n","import { Loc, Type } from 'main.core';\nimport { Button } from 'ui.buttons';\nimport type { BaseContent } from './content/base-content';\n\nexport class ButtonFactory\n{\n\t#settingsUrl: string;\n\t#pushOtpPopupProvider: () => Promise;\n\t#content: BaseContent;\n\n\tconstructor(options: Object, content: BaseContent): void\n\t{\n\t\tthis.#settingsUrl = Type.isStringFilled(options.settingsUrl) ? options.settingsUrl : '';\n\t\tthis.#pushOtpPopupProvider = Type.isFunction(options.pushOtpPopupProvider)\n\t\t\t? options.pushOtpPopupProvider\n\t\t\t: () => new Promise()\n\t\t;\n\t\tthis.#content = content;\n\t}\n\n\tcreateEnableBtn(): Button\n\t{\n\t\treturn new Button({\n\t\t\ttext: Loc.getMessage('NOTIFY_BANNER_INFO_ENABLE_BTN'),\n\t\t\tsize: BX.UI.Button.Size.LARGE,\n\t\t\tstyle: BX.UI.AirButtonStyle.FILLED,\n\t\t\tuseAirDesign: true,\n\t\t\tonclick: this.clickEnableOtp.bind(this),\n\t\t\tprops: {\n\t\t\t\t'data-testid': 'bx-notify-banner-info-enable-otp-btn',\n\t\t\t},\n\t\t});\n\t}\n\n\tcreateLaterBtn(): Button\n\t{\n\t\treturn new Button({\n\t\t\ttext: Loc.getMessage('NOTIFY_BANNER_INFO_LATER_BTN'),\n\t\t\tsize: BX.UI.Button.Size.LARGE,\n\t\t\tstyle: BX.UI.AirButtonStyle.PLAIN_NO_ACCENT,\n\t\t\tuseAirDesign: true,\n\t\t\tonclick: (event) => {\n\t\t\t\tthis.#content.onClickLater();\n\t\t\t\tevent.context?.close();\n\t\t\t},\n\t\t\tprops: {\n\t\t\t\t'data-testid': 'bx-notify-banner-info-later-btn',\n\t\t\t},\n\t\t});\n\t}\n\n\tcreateEnableMandatoryBtn(): Button\n\t{\n\t\treturn new Button({\n\t\t\ttext: Loc.getMessage('NOTIFY_BANNER_INFO_ENABLE_ALL_BTN'),\n\t\t\tsize: BX.UI.Button.Size.LARGE,\n\t\t\tstyle: BX.UI.AirButtonStyle.FILLED,\n\t\t\tuseAirDesign: true,\n\t\t\tonclick: (event) => {\n\t\t\t\tevent.context?.close();\n\t\t\t\tthis.#content.onClickEnable();\n\t\t\t\tBX.SidePanel.Instance.open(`${this.#settingsUrl}?page=security&analyticContext=popup_push_otp`);\n\t\t\t},\n\t\t\tprops: {\n\t\t\t\t'data-testid': 'bx-notify-banner-info-enable-mandatory-otp-btn',\n\t\t\t},\n\t\t});\n\t}\n\n\tclickEnableOtp(event): void\n\t{\n\t\tif (event.isWaiting())\n\t\t{\n\t\t\treturn;\n\t\t}\n\t\tthis.#content.onClickEnable();\n\t\tevent.setWaiting(true);\n\t\tthis.#pushOtpPopupProvider(() => event.context?.close()).then(\n\t\t\t(popup) => {\n\t\t\t\tpopup.show();\n\t\t\t\tevent.setWaiting(false);\n\t\t\t},\n\t\t).catch(\n\t\t\t() => {\n\t\t\t\tevent.setWaiting(false);\n\t\t\t},\n\t\t);\n\t}\n}\n","import { Tag } from 'main.core';\nimport { ButtonFactory } from '../button-factory';\nimport { sendData } from 'ui.analytics';\n\nexport class BaseContent\n{\n\tbtnFactory: ButtonFactory;\n\n\tconstructor(options)\n\t{\n\t\tthis.btnFactory = new ButtonFactory(options, this);\n\t}\n\n\tgetId(): string\n\t{\n\t\treturn '';\n\t}\n\n\tgetTitle(): string\n\t{\n\t\treturn '';\n\t}\n\n\tgetFirstContentBlock(): string\n\t{\n\t\treturn '';\n\t}\n\n\tgetSecondContentBlock(): string\n\t{\n\t\treturn '';\n\t}\n\n\tgetButtons(): Array\n\t{\n\t\treturn [];\n\t}\n\n\tgetAlertContentBlock(): string\n\t{\n\t\treturn '';\n\t}\n\n\tgetMiddleBlock(): string\n\t{\n\t\treturn Tag.render``;\n\t}\n\n\tisTimeEnd(): boolean\n\t{\n\t\treturn false;\n\t}\n\n\tonShow(): void\n\t{\n\t\tthis.#sendAnalytics('show');\n\t}\n\n\tonClickEnable(): void\n\t{\n\t\tthis.#sendAnalytics('click', 'on');\n\t}\n\n\tonClickLater(): void\n\t{\n\t\tthis.#sendAnalytics('click', 'later');\n\t}\n\n\tgetAnalyticsType(): string\n\t{\n\t\treturn '';\n\t}\n\n\tgetAnalyticsCategory(): string\n\t{\n\t\treturn '';\n\t}\n\n\t#sendAnalytics(event: string, cSection: string = null): void\n\t{\n\t\tconst options = {\n\t\t\ttool: 'push',\n\t\t\tevent,\n\t\t};\n\n\t\tif (cSection)\n\t\t{\n\t\t\toptions.c_section = cSection;\n\t\t}\n\n\t\tif (this.getAnalyticsType())\n\t\t{\n\t\t\toptions.type = this.getAnalyticsType();\n\t\t}\n\n\t\tif (this.getAnalyticsCategory())\n\t\t{\n\t\t\toptions.category = this.getAnalyticsCategory();\n\t\t}\n\n\t\tsendData(options);\n\t}\n}\n","import { Loc, Tag } from 'main.core';\nimport { BaseContent } from './base-content';\n\nexport class AdminEnableMandatory extends BaseContent\n{\n\tgetId(): string\n\t{\n\t\treturn 'admin-enable-mandatory';\n\t}\n\n\tgetTitle(): string\n\t{\n\t\treturn Loc.getMessage('NOTIFY_BANNER_INFO_DEF_TITLE');\n\t}\n\n\tgetFirstContentBlock(): string\n\t{\n\t\treturn Loc.getMessage('NOTIFY_BANNER_INFO_ALL_EMPLOYEE_BLOCK');\n\t}\n\n\tgetSecondContentBlock(): string\n\t{\n\t\treturn Loc.getMessage('NOTIFY_BANNER_INFO_IS_PROJECT_BLOCK');\n\t}\n\n\tgetMiddleBlock(): string\n\t{\n\t\treturn Tag.render`\n\t\t\t<ul class=\"intranet-otp-motivating-popup__list ui-text --md\">\n\t\t\t\t<li class=\"intranet-otp-motivating-popup__list-item\">\n\t\t\t\t\t<span class=\"ui-icon-set --lock-l\"></span>\n\t\t\t\t\t${Loc.getMessage('NOTIFY_BANNER_INFO_LEAK_OPT')}\n\t\t\t\t</li>\n\t\t\t\t<li class=\"intranet-otp-motivating-popup__list-item\">\n\t\t\t\t\t<span class=\"ui-icon-set --o-trend-down\"></span>\n\t\t\t\t\t${Loc.getMessage('NOTIFY_BANNER_INFO_FIN_OPT')}\n\t\t\t\t</li>\n\t\t\t\t<li class=\"intranet-otp-motivating-popup__list-item\">\n\t\t\t\t\t<span class=\"ui-icon-set --o-suitcase\"></span>\n\t\t\t\t\t${Loc.getMessage('NOTIFY_BANNER_INFO_LEGAL_OPT')}\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t`;\n\t}\n\n\tgetButtons(): Array\n\t{\n\t\treturn [\n\t\t\tthis.btnFactory.createEnableMandatoryBtn(),\n\t\t\tthis.btnFactory.createLaterBtn(),\n\t\t];\n\t}\n\n\tgetAnalyticsCategory(): string\n\t{\n\t\treturn 'push_2fa_all';\n\t}\n}\n","import { Loc } from 'main.core';\nimport { BaseContent } from './base-content';\n\nexport class EnableOtp extends BaseContent\n{\n\tgetId(): string\n\t{\n\t\treturn 'enable-otp';\n\t}\n\n\tgetTitle(): string\n\t{\n\t\treturn Loc.getMessage('NOTIFY_BANNER_INFO_DEF_COMPANY_DATA_TITLE');\n\t}\n\n\tgetFirstContentBlock(): string\n\t{\n\t\treturn Loc.getMessage('NOTIFY_BANNER_INFO_WARNING_BLOCK');\n\t}\n\n\tgetSecondContentBlock(): string\n\t{\n\t\treturn Loc.getMessage('NOTIFY_BANNER_INFO_DESC_BLOCK');\n\t}\n\n\tgetButtons(): Array\n\t{\n\t\treturn [\n\t\t\tthis.btnFactory.createEnableBtn(),\n\t\t\tthis.btnFactory.createLaterBtn(),\n\t\t];\n\t}\n\n\tgetAnalyticsType(): string\n\t{\n\t\treturn 'new_2fa';\n\t}\n\n\tgetAnalyticsCategory(): string\n\t{\n\t\treturn 'push_2fa';\n\t}\n}\n","import { Loc } from 'main.core';\nimport { BaseContent } from './base-content';\n\nexport class EnablePushOtp extends BaseContent\n{\n\tgetId(): string\n\t{\n\t\treturn 'enable-push-otp';\n\t}\n\n\tgetTitle(): string\n\t{\n\t\treturn Loc.getMessage('NOTIFY_BANNER_INFO_CONFIRM_WITHOUT_TITLE_MSGVER_1', {\n\t\t\t'[SPAN]': '<span class=\"intranet-otp-motivating-popup__title--accent\">',\n\t\t\t'[/SPAN]': '</span>',\n\t\t});\n\t}\n\n\tgetFirstContentBlock(): string\n\t{\n\t\treturn Loc.getMessage('NOTIFY_BANNER_INFO_EXIST_BLOCK_MSGVER_1');\n\t}\n\n\tgetButtons(): Array\n\t{\n\t\treturn [\n\t\t\tthis.btnFactory.createEnableBtn(),\n\t\t\tthis.btnFactory.createLaterBtn(),\n\t\t];\n\t}\n\n\tgetAnalyticsType(): string\n\t{\n\t\treturn 'renew_2fa';\n\t}\n\n\tgetAnalyticsCategory(): string\n\t{\n\t\treturn 'push_2fa';\n\t}\n}\n","import { Loc } from 'main.core';\nimport { BaseContent } from './base-content';\nimport { DateTimeFormat } from 'main.date';\n\nexport class MandatoryEnableOtp extends BaseContent\n{\n\t#endDateTs: number;\n\t#promoteMode: string;\n\t#formatEndDate: string;\n\n\tconstructor(options: Object)\n\t{\n\t\tsuper(options);\n\t\tthis.#promoteMode = options.promoteMode;\n\t\tthis.#endDateTs = options.endDate;\n\t\tthis.#formatEndDate = options.formatEndDate;\n\t}\n\n\tgetId(): string\n\t{\n\t\treturn 'mandatory-enable-otp';\n\t}\n\n\tgetTitle(): string\n\t{\n\t\treturn Loc.getMessage('NOTIFY_BANNER_INFO_DEF_COMPANY_DATA_TITLE');\n\t}\n\n\tgetFirstContentBlock(): string\n\t{\n\t\treturn Loc.getMessage('NOTIFY_BANNER_INFO_WARNING_BLOCK');\n\t}\n\n\tgetSecondContentBlock(): string\n\t{\n\t\treturn Loc.getMessage('NOTIFY_BANNER_INFO_DESC_BLOCK');\n\t}\n\n\tgetAlertContentBlock(): string\n\t{\n\t\tif (!this.#endDateTs)\n\t\t{\n\t\t\treturn '';\n\t\t}\n\n\t\tif (this.#promoteMode === 'high')\n\t\t{\n\t\t\treturn Loc.getMessage('NOTIFY_BANNER_INFO_REQ_BLOCK_HIGH_PROMOTE', { '#END_DATE#': DateTimeFormat.format(this.#formatEndDate, this.#endDateTs) });\n\t\t}\n\n\t\treturn Loc.getMessage('NOTIFY_BANNER_INFO_REQ_BLOCK', { '#END_DATE#': DateTimeFormat.format(this.#formatEndDate, this.#endDateTs) });\n\t}\n\n\tisTimeEnd(): boolean\n\t{\n\t\tconst endDate = new Date(this.#endDateTs * 1000);\n\t\tconst now = new Date();\n\n\t\treturn endDate <= now;\n\t}\n\n\tgetButtons(): Array\n\t{\n\t\tconst buttons = [\n\t\t\tthis.btnFactory.createEnableBtn(),\n\t\t];\n\n\t\tif (!this.isTimeEnd() || !this.#endDateTs)\n\t\t{\n\t\t\tbuttons.push(this.btnFactory.createLaterBtn());\n\t\t}\n\n\t\treturn buttons;\n\t}\n\n\tgetAnalyticsType(): string\n\t{\n\t\treturn 'new_2fa';\n\t}\n\n\tgetAnalyticsCategory(): string\n\t{\n\t\treturn 'push_2fa_period';\n\t}\n}\n","import { Loc } from 'main.core';\nimport { BaseContent } from './base-content';\nimport { DateTimeFormat } from 'main.date';\n\nexport class MandatoryEnablePushOtp extends BaseContent\n{\n\t#endDateTs: string;\n\t#promoteMode: string;\n\t#formatEndDate: string;\n\n\tconstructor(options: Object)\n\t{\n\t\tsuper(options);\n\t\tthis.#promoteMode = options.promoteMode;\n\t\tthis.#endDateTs = options.endDate;\n\t\tthis.#formatEndDate = options.formatEndDate;\n\t}\n\n\tgetId(): string\n\t{\n\t\treturn 'mandatory-enable-push-otp';\n\t}\n\n\tgetTitle(): string\n\t{\n\t\treturn Loc.getMessage('NOTIFY_BANNER_INFO_CONFIRM_WITHOUT_TITLE_MSGVER_1', {\n\t\t\t'[SPAN]': '<span class=\"intranet-otp-motivating-popup__title--accent\">',\n\t\t\t'[/SPAN]': '</span>',\n\t\t});\n\t}\n\n\tgetFirstContentBlock(): string\n\t{\n\t\treturn Loc.getMessage('NOTIFY_BANNER_INFO_EXIST_BLOCK_MSGVER_1');\n\t}\n\n\tgetAlertContentBlock(): string\n\t{\n\t\tif (this.#promoteMode === 'high')\n\t\t{\n\t\t\treturn Loc.getMessage('NOTIFY_BANNER_INFO_REQ_BLOCK_HIGH_PROMOTE', { '#END_DATE#': DateTimeFormat.format(this.#formatEndDate, this.#endDateTs) });\n\t\t}\n\n\t\treturn Loc.getMessage('NOTIFY_BANNER_INFO_REQ_BLOCK', { '#END_DATE#': DateTimeFormat.format(this.#formatEndDate, this.#endDateTs) });\n\t}\n\n\tisTimeEnd(): boolean\n\t{\n\t\tconst endDate = new Date(this.#endDateTs * 1000);\n\t\tconst now = new Date();\n\n\t\treturn endDate <= now;\n\t}\n\n\tgetButtons(): Array\n\t{\n\t\tconst buttons = [\n\t\t\tthis.btnFactory.createEnableBtn(),\n\t\t];\n\n\t\tif (!this.isTimeEnd())\n\t\t{\n\t\t\tbuttons.push(this.btnFactory.createLaterBtn());\n\t\t}\n\n\t\treturn buttons;\n\t}\n\n\tgetAnalyticsType(): string\n\t{\n\t\treturn 'renew_2fa';\n\t}\n\n\tgetAnalyticsCategory(): string\n\t{\n\t\treturn 'push_2fa_period';\n\t}\n}\n","import { BannerType } from './banner-type';\nimport { Tag, Loc, Event } from 'main.core';\nimport { AdminEnableMandatory } from './content/admin-enable-mandatory';\nimport type { BaseContent } from './content/base-content';\nimport { EnableOtp } from './content/enable-otp';\nimport { Popup, PopupWindowManager } from 'main.popup';\nimport { EnablePushOtp } from './content/enable-push-otp';\nimport { MandatoryEnableOtp } from './content/mandatory-enable-otp';\nimport { MandatoryEnablePushOtp } from './content/mandatory-enable-push-otp';\n\nexport class BannerFactory\n{\n\tcreate(type: BannerType, options: Object = {}): Popup\n\t{\n\t\tconst content = this.#createContent(type, options);\n\n\t\treturn PopupWindowManager.create(\n\t\t\tcontent.getId(),\n\t\t\tnull,\n\t\t\t{\n\t\t\t\tcontent: this.#renderContent(content),\n\t\t\t\tbuttons: content.getButtons(),\n\t\t\t\tcloseByEsc: !content.isTimeEnd(),\n\t\t\t\tpadding: 24,\n\t\t\t\tclassName: 'intranet-otp-motivating-popup',\n\t\t\t\toverlay: true,\n\t\t\t\tevents: {\n\t\t\t\t\tonPopupShow: () => {\n\t\t\t\t\t\tBX.userOptions.save('intranet', 'push_otp_popup_last_show', null, BX.Main.DateTimeFormat.format('d.m.Y'));\n\t\t\t\t\t\tBX.userOptions.save('intranet', 'push_otp_popup_last_show_type', null, type);\n\t\t\t\t\t\tcontent.onShow();\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t);\n\t}\n\n\tcreateForBlockOtp(type: BannerType, options: Object = {}): Popup\n\t{\n\t\tconst content = this.#createContent(type, options);\n\n\t\treturn PopupWindowManager.create(\n\t\t\tcontent.getId(),\n\t\t\tnull,\n\t\t\t{\n\t\t\t\tcontent: this.#renderContent(content),\n\t\t\t\tbuttons: content.getButtons(),\n\t\t\t\tcloseByEsc: !content.isTimeEnd(),\n\t\t\t\tpadding: 24,\n\t\t\t\tclassName: 'intranet-otp-motivating-popup',\n\t\t\t\toverlay: true,\n\t\t\t},\n\t\t);\n\t}\n\n\t#renderContent(content: BaseContent): HTMLElement\n\t{\n\t\treturn Tag.render`\n\t\t\t<div id=\"popup-content-1\" class=\"intranet-otp-motivating-popup__content-wrapper\">\n\t\t\t\t<div class=\"intranet-otp-motivating-popup__content\">\n\t\t\t\t\t<div class=\"intranet-otp-motivating-popup__main-content\">\n\t\t\t\t\t\t<h2 class=\"intranet-otp-motivating-popup__title ui-headline --lg\">${content.getTitle()}</h2>\n\t\t\t\t\t\t<div class=\"intranet-otp-motivating-popup__text-wrapper\">\n\t\t\t\t\t\t\t<p class=\"intranet-otp-motivating-popup__text ui-text --md\">${content.getFirstContentBlock()}</p>\n\t\t\t\t\t\t\t${content.getMiddleBlock()}\n\t\t\t\t\t\t\t${this.#renderSecondContentBlock(content)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<a onclick=\"top.BX.Helper.show('redirect=detail&code=26676294')\" class=\"intranet-otp-motivating-popup__link ui-link ui-link-dashed\">${Loc.getMessage('NOTIFY_BANNER_INFO_MORE_BTN')}</a>\n\t\t\t\t\t\t${this.#renderAlertBlock(content.getAlertContentBlock())}\n\t\t\t\t\t</div>\n\t\t\t\t\t<aside class=\"intranet-otp-motivating-popup__animation\">\n\t\t\t\t\t\t${this.#renderVideo()}\n\t\t\t\t\t</aside>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`;\n\t}\n\n\t#renderVideo(): HTMLElement\n\t{\n\t\tconst videoElement = Tag.render`\n\t\t\t<video\n\t\t\t\tsrc=\"/bitrix/js/intranet/notify-banner/otp-info/video/2fa-animation.webm\"\n\t\t\t\tautoplay\n\t\t\t\tloop\n\t\t\t\tmuted\n\t\t\t\tplaysinline\n\t\t\t\twidth=\"286\"\n\t\t\t\theight=\"400\"\n\t\t\t></video>\n\t\t`;\n\n\t\tEvent.bindOnce(videoElement, 'canplay', () => {\n\t\t\tvideoElement.muted = true;\n\t\t\tvideoElement.play();\n\t\t});\n\n\t\treturn videoElement;\n\t}\n\n\t#renderAlertBlock(alertContent): ?HTMLElement\n\t{\n\t\tif (alertContent.length > 0)\n\t\t{\n\t\t\treturn Tag.render`\n\t\t\t\t<div data-testid=\"bx-notify-banner-otp-info-alert-block\" class=\"ui-alert ui-alert-danger\">\n\t\t\t\t\t<span class=\"ui-alert-message ui-text --md\">${alertContent}</span>\n\t\t\t\t</div>\n\t\t\t`;\n\t\t}\n\n\t\treturn null;\n\t}\n\n\t#renderSecondContentBlock(content: BaseContent): ?HTMLElement\n\t{\n\t\tif (!content.getSecondContentBlock())\n\t\t{\n\t\t\treturn null;\n\t\t}\n\n\t\treturn Tag.render`\n\t\t\t<p class=\"intranet-otp-motivating-popup__text ui-text --md\">${content.getSecondContentBlock()}</p>\n\t\t`;\n\t}\n\n\t#createContent(type: BannerType, options: Object = {}): BaseContent\n\t{\n\t\tif (type === BannerType.DISABLED_ALL_2FA)\n\t\t{\n\t\t\treturn new EnableOtp(options);\n\t\t}\n\n\t\tif (type === BannerType.MANDATORY_2FA)\n\t\t{\n\t\t\treturn new MandatoryEnableOtp(options);\n\t\t}\n\n\t\tif (type === BannerType.ENABLED_OLD_2FA)\n\t\t{\n\t\t\treturn new EnablePushOtp(options);\n\t\t}\n\n\t\tif (type === BannerType.ENABLED_OLD_2FA_AND_NEED_PUSH_2FA)\n\t\t{\n\t\t\treturn new MandatoryEnablePushOtp(options);\n\t\t}\n\n\t\tif (type === BannerType.ONLY_ADMIN_ENABLED_NEW_2FA)\n\t\t{\n\t\t\treturn new AdminEnableMandatory(options);\n\t\t}\n\n\t\tthrow new Error(`Unexpected banner type: ${type}`);\n\t}\n}\n"],"names":["BannerType","DISABLED_ALL_2FA","MANDATORY_2FA","ENABLED_OLD_2FA","ENABLED_OLD_2FA_AND_NEED_PUSH_2FA","ONLY_ADMIN_ENABLED_NEW_2FA","ButtonFactory","constructor","options","content","Object","writable","value","babelHelpers","Type","isStringFilled","settingsUrl","isFunction","pushOtpPopupProvider","Promise","createEnableBtn","Button","text","Loc","getMessage","size","BX","UI","Size","LARGE","style","AirButtonStyle","FILLED","useAirDesign","onclick","this","clickEnableOtp","bind","props","data-testid","createLaterBtn","PLAIN_NO_ACCENT","event","onClickLater","context","_event$context","close","createEnableMandatoryBtn","_event$context2","onClickEnable","SidePanel","Instance","open","isWaiting","setWaiting","_event$context3","then","popup","show","catch","BaseContent","btnFactory","getId","getTitle","getFirstContentBlock","getSecondContentBlock","getButtons","getAlertContentBlock","getMiddleBlock","Tag","render","isTimeEnd","onShow","getAnalyticsType","getAnalyticsCategory","cSection","tool","c_section","type","category","sendData","AdminEnableMandatory","EnableOtp","EnablePushOtp","[SPAN]","[/SPAN]","MandatoryEnableOtp","super","promoteMode","endDate","formatEndDate","#END_DATE#","DateTimeFormat","format","Date","buttons","push","MandatoryEnablePushOtp","videoElement","Event","bindOnce","muted","play","alertContent","length","Error","[object Object]","create","PopupWindowManager","closeByEsc","padding","className","overlay","events","onPopupShow","userOptions","save","Main","createForBlockOtp"],"mappings":"6FAAO,MAAMA,GAAAA,EAELC,iBAAmB,EAFdD,EAGLE,cAAgB,EAHXF,EAILG,gBAAkB,EAJbH,EAKLI,kCAAoC,EAL/BJ,EAMLK,2BAA6B,mLCF9B,MAAMC,EAMZC,YAAYC,EAAiBC,GAC7BC,8BAAAC,YAAAC,eAAAF,8BAAAC,YAAAC,eAAAF,8BAAAC,YAAAC,eACCC,mDAAoBC,OAAKC,eAAeP,EAAQQ,aAAeR,EAAQQ,YAAc,GACrFH,mDAA6BC,OAAKG,WAAWT,EAAQU,sBAClDV,EAAQU,qBACR,IAAM,IAAIC,QAEbN,mDAAgBJ,EAGjBW,kBAEC,OAAO,IAAIC,SAAO,CACjBC,KAAMC,MAAIC,WAAW,iCACrBC,KAAMC,GAAGC,GAAGN,OAAOO,KAAKC,MACxBC,MAAOJ,GAAGC,GAAGI,eAAeC,OAC5BC,cAAc,EACdC,QAASC,KAAKC,eAAeC,KAAKF,MAClCG,MAAO,CACNC,cAAe,0CAKlBC,iBAEC,OAAO,IAAInB,SAAO,CACjBC,KAAMC,MAAIC,WAAW,gCACrBC,KAAMC,GAAGC,GAAGN,OAAOO,KAAKC,MACxBC,MAAOJ,GAAGC,GAAGI,eAAeU,gBAC5BR,cAAc,EACdC,QAAUQ,IAAU,MACnB7B,mDAAc8B,wBACdD,EAAME,UAANC,EAAeC,SAEhBR,MAAO,CACNC,cAAe,qCAKlBQ,2BAEC,OAAO,IAAI1B,SAAO,CACjBC,KAAMC,MAAIC,WAAW,qCACrBC,KAAMC,GAAGC,GAAGN,OAAOO,KAAKC,MACxBC,MAAOJ,GAAGC,GAAGI,eAAeC,OAC5BC,cAAc,EACdC,QAAUQ,IAAU,eACnBA,EAAME,UAANI,EAAeF,QACfjC,mDAAcoC,gBACdvB,GAAGwB,UAAUC,SAASC,6CAAQjB,WAAF,kDAE7BG,MAAO,CACNC,cAAe,oDAKlBH,eAAeM,GAEVA,EAAMW,cAIVxC,mDAAcoC,gBACdP,EAAMY,YAAW,GACjBzC,mDAA2B,KAAA,MAAA,gBAAM6B,EAAME,gBAANW,EAAeT,UAASU,KACvDC,IACAA,EAAMC,OACNhB,EAAMY,YAAW,KAEjBK,MACD,KACCjB,EAAMY,YAAW,oBClFmB,8DAEjC,MAAMM,EAIZrD,YAAYC,GACZE,8BAAAE,UACCuB,KAAK0B,WAAa,IAAIvD,EAAcE,EAAS2B,MAG9C2B,QAEC,MAAO,GAGRC,WAEC,MAAO,GAGRC,uBAEC,MAAO,GAGRC,wBAEC,MAAO,GAGRC,aAEC,MAAO,GAGRC,uBAEC,MAAO,GAGRC,iBAEC,OAAOC,MAAIC,cAAO,KAGnBC,YAEC,OAAO,EAGRC,SAEC3D,mDAAoB,QAGrBoC,gBAECpC,mDAAoB,QAAS,MAG9B8B,eAEC9B,mDAAoB,QAAS,SAG9B4D,mBAEC,MAAO,GAGRC,uBAEC,MAAO,IA2BR,WAxBehC,EAAeiC,EAAmB,MAEhD,MAAMnE,EAAU,CACfoE,KAAM,OACNlC,MAAAA,GAGGiC,IAEHnE,EAAQqE,UAAYF,GAGjBxC,KAAKsC,qBAERjE,EAAQsE,KAAO3C,KAAKsC,oBAGjBtC,KAAKuC,yBAERlE,EAAQuE,SAAW5C,KAAKuC,wBAGzBM,WAASxE,gBCjGJ,MAAMyE,UAA6BrB,EAEzCE,QAEC,MAAO,yBAGRC,WAEC,OAAOxC,MAAIC,WAAW,gCAGvBwC,uBAEC,OAAOzC,MAAIC,WAAW,yCAGvByC,wBAEC,OAAO1C,MAAIC,WAAW,uCAGvB4C,iBAEC,OAAOC,MAAIC,cAAO;;;;OAIf;;;;OAIA;;;;OAIA;;;KARE/C,MAAIC,WAAW,+BAIfD,MAAIC,WAAW,8BAIfD,MAAIC,WAAW,iCAMrB0C,aAEC,MAAO,CACN/B,KAAK0B,WAAWd,2BAChBZ,KAAK0B,WAAWrB,kBAIlBkC,uBAEC,MAAO,gBCpDF,MAAMQ,UAAkBtB,EAE9BE,QAEC,MAAO,aAGRC,WAEC,OAAOxC,MAAIC,WAAW,6CAGvBwC,uBAEC,OAAOzC,MAAIC,WAAW,oCAGvByC,wBAEC,OAAO1C,MAAIC,WAAW,iCAGvB0C,aAEC,MAAO,CACN/B,KAAK0B,WAAWzC,kBAChBe,KAAK0B,WAAWrB,kBAIlBiC,mBAEC,MAAO,UAGRC,uBAEC,MAAO,YCrCF,MAAMS,UAAsBvB,EAElCE,QAEC,MAAO,kBAGRC,WAEC,OAAOxC,MAAIC,WAAW,oDAAqD,CAC1E4D,SAAU,8DACVC,UAAW,YAIbrB,uBAEC,OAAOzC,MAAIC,WAAW,2CAGvB0C,aAEC,MAAO,CACN/B,KAAK0B,WAAWzC,kBAChBe,KAAK0B,WAAWrB,kBAIlBiC,mBAEC,MAAO,YAGRC,uBAEC,MAAO,wLClCF,MAAMY,UAA2B1B,EAMvCrD,YAAYC,GAEX+E,MAAM/E,GAASE,8BAAAC,YAAAC,eAAAF,8BAAAC,YAAAC,eAAAF,8BAAAC,YAAAC,eACfC,mDAAoBL,EAAQgF,YAC5B3E,mDAAkBL,EAAQiF,QAC1B5E,mDAAsBL,EAAQkF,cAG/B5B,QAEC,MAAO,uBAGRC,WAEC,OAAOxC,MAAIC,WAAW,6CAGvBwC,uBAEC,OAAOzC,MAAIC,WAAW,oCAGvByC,wBAEC,OAAO1C,MAAIC,WAAW,iCAGvB2C,uBAEC,+CAAKhC,WAKqB,SAAtBtB,mDAEIU,MAAIC,WAAW,4CAA6C,CAAEmE,aAAcC,iBAAeC,+CAAO1D,mDAAqBA,cAGxHZ,MAAIC,WAAW,+BAAgC,CAAEmE,aAAcC,iBAAeC,+CAAO1D,mDAAqBA,cARzG,GAWToC,YAKC,OAHgB,IAAIuB,KAAuB,IAAlBjF,qDACb,IAAIiF,KAKjB5B,aAEC,MAAM6B,EAAU,CACf5D,KAAK0B,WAAWzC,mBAQjB,OALKe,KAAKoC,qDAAgBpC,YAEzB4D,EAAQC,KAAK7D,KAAK0B,WAAWrB,kBAGvBuD,EAGRtB,mBAEC,MAAO,UAGRC,uBAEC,MAAO,+LC9EF,MAAMuB,UAA+BrC,EAM3CrD,YAAYC,GAEX+E,MAAM/E,GAASE,8BAAAC,YAAAC,eAAAF,8BAAAC,YAAAC,eAAAF,8BAAAC,YAAAC,eACfC,mDAAoBL,EAAQgF,YAC5B3E,mDAAkBL,EAAQiF,QAC1B5E,mDAAsBL,EAAQkF,cAG/B5B,QAEC,MAAO,4BAGRC,WAEC,OAAOxC,MAAIC,WAAW,oDAAqD,CAC1E4D,SAAU,8DACVC,UAAW,YAIbrB,uBAEC,OAAOzC,MAAIC,WAAW,2CAGvB2C,uBAEC,MAA0B,SAAtBtD,mDAEIU,MAAIC,WAAW,4CAA6C,CAAEmE,aAAcC,iBAAeC,+CAAO1D,mDAAqBA,cAGxHZ,MAAIC,WAAW,+BAAgC,CAAEmE,aAAcC,iBAAeC,+CAAO1D,mDAAqBA,cAGlHoC,YAKC,OAHgB,IAAIuB,KAAuB,IAAlBjF,qDACb,IAAIiF,KAKjB5B,aAEC,MAAM6B,EAAU,CACf5D,KAAK0B,WAAWzC,mBAQjB,OALKe,KAAKoC,aAETwB,EAAQC,KAAK7D,KAAK0B,WAAWrB,kBAGvBuD,EAGRtB,mBAEC,MAAO,YAGRC,uBAEC,MAAO,sCCnEoE,kTAmJ5E,WApGejE,GAEd,OAAO4D,MAAIC,cAAO;;;;0EAIoD;;qEAEL;SAC5D;SACA;;4IAEmI;QACpI;;;QAGA;;;;KAVoE7D,EAAQsD,WAEbtD,EAAQuD,uBACpEvD,EAAQ2D,yDACRjC,WAA+B1B,GAEoGc,MAAIC,WAAW,uEACnJW,WAAuB1B,EAAQ0D,gEAG/BhC,cAKN,aAIA,MAAM+D,EAAe7B,MAAIC,cAAO;;;;;;;;;;MAiBhC,OALA6B,QAAMC,SAASF,EAAc,UAAW,KACvCA,EAAaG,OAAQ,EACrBH,EAAaI,SAGPJ,EACP,WAEiBK,GAEjB,OAAIA,EAAaC,OAAS,EAElBnC,MAAIC,cAAO;;mDAE4B;;MAAEiC,GAK1C,KACP,WAEyB9F,GAEzB,OAAKA,EAAQwD,wBAKNI,MAAIC,cAAO;iEAC2C;KAAE7D,EAAQwD,yBAJ/D,KAMR,WAEca,EAAkBtE,EAAkB,IAElD,GAAIsE,IAAS9E,EAAWC,iBAEvB,OAAO,IAAIiF,EAAU1E,GAGtB,GAAIsE,IAAS9E,EAAWE,cAEvB,OAAO,IAAIoF,EAAmB9E,GAG/B,GAAIsE,IAAS9E,EAAWG,gBAEvB,OAAO,IAAIgF,EAAc3E,GAG1B,GAAIsE,IAAS9E,EAAWI,kCAEvB,OAAO,IAAI6F,EAAuBzF,GAGnC,GAAIsE,IAAS9E,EAAWK,2BAEvB,OAAO,IAAI4E,EAAqBzE,GAGjC,MAAM,IAAIiG,MAAO,2BAA0B3B,mBA/ItC,MACP4B,cAAAhG,8BAAAE,UAAAF,8BAAAE,UAAAF,8BAAAE,UAAAF,8BAAAE,UAAAF,8BAAAE,UACC+F,OAAO7B,EAAkBtE,EAAkB,IAE1C,MAAMC,0CAAU0B,WAAoB2C,EAAMtE,GAE1C,OAAOoG,qBAAmBD,OACzBlG,EAAQqD,QACR,KACA,CACCrD,gDAAS0B,WAAoB1B,GAC7BsF,QAAStF,EAAQyD,aACjB2C,YAAapG,EAAQ8D,YACrBuC,QAAS,GACTC,UAAW,gCACXC,SAAS,EACTC,OAAQ,CACPC,YAAa,KACZxF,GAAGyF,YAAYC,KAAK,WAAY,2BAA4B,KAAM1F,GAAG2F,KAAKzB,eAAeC,OAAO,UAChGnE,GAAGyF,YAAYC,KAAK,WAAY,gCAAiC,KAAMtC,GACvErE,EAAQ+D,aAOb8C,kBAAkBxC,EAAkBtE,EAAkB,IAErD,MAAMC,0CAAU0B,WAAoB2C,EAAMtE,GAE1C,OAAOoG,qBAAmBD,OACzBlG,EAAQqD,QACR,KACA,CACCrD,gDAAS0B,WAAoB1B,GAC7BsF,QAAStF,EAAQyD,aACjB2C,YAAapG,EAAQ8D,YACrBuC,QAAS,GACTC,UAAW,gCACXC,SAAS"}