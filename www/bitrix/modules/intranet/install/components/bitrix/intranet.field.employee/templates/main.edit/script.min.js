(function(e,t,n){"use strict";function r(e,t){var n=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=i(e))||t&&e&&typeof e.length==="number"){if(n)e=n;var r=0;var a=function e(){};return{s:a,n:function t(){if(r>=e.length)return{done:true};return{done:false,value:e[r++]}},e:function e(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l=true,o=false,s;return{s:function t(){n=n.call(e)},n:function e(){var t=n.next();l=t.done;return t},e:function e(t){o=true;s=t},f:function e(){try{if(!l&&n["return"]!=null)n["return"]()}finally{if(o)throw s}}}}function i(e,t){if(!e)return;if(typeof e==="string")return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor)n=e.constructor.name;if(n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}function a(e,t){if(t==null||t>e.length)t=e.length;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var l=t.Reflection.namespace("BX.Intranet.UserField");var o=function(){function e(t){babelHelpers.classCallCheck(this,e);this.selectorName=t.selectorName||"";this.isMultiple=t.isMultiple===true;this.fieldNameJs=t.fieldNameJs||"";this.selectedItems=new Set(t.selectedItems||[]);this.initTagSelector(t)}babelHelpers.createClass(e,[{key:"initTagSelector",value:function e(){var t=this;var r=document.getElementById("cont_".concat(this.selectorName));if(!r){return}new n.TagSelector({multiple:this.isMultiple,dialogOptions:{context:"entity_selector_".concat(this.selectorName),width:450,height:300,preselectedItems:babelHelpers.toConsumableArray(this.selectedItems),entities:[{id:"user",options:{emailUsers:false,intranetUsersOnly:true,inviteEmployeeLink:false,inviteGuestLink:false}},{id:"structure-node",options:{selectMode:"usersOnly"}}]},events:{onAfterTagAdd:function e(n){return t.onAfterTagUpdate(n)},onAfterTagRemove:function e(n){return t.onAfterTagUpdate(n)}}}).renderTo(r)}},{key:"onAfterTagUpdate",value:function e(t){var n=t.getTarget().tags;var r=n.map((function(e){return e.id}));this.setData(r)}},{key:"setData",value:function e(n){var i=document.getElementById("value_".concat(this.selectorName));if(!i){return}var a="";if(n.length>0){if(this.isMultiple){var l=r(n),o;try{for(l.s();!(o=l.n()).done;){var s=o.value;a+='<input type="hidden" name="'.concat(this.fieldNameJs,'" value="').concat(BX.util.htmlspecialchars(s),'">')}}catch(e){l.e(e)}finally{l.f()}}else{a+='<input type="hidden" name="'.concat(this.fieldNameJs,'" value="').concat(BX.util.htmlspecialchars(n[0]),'">')}}if(a.length<=0){a='<input type="hidden" name="'.concat(this.fieldNameJs,'" value="">')}i.innerHTML=a;t.defer((function(){t.fireEvent(i.firstChild,"change")}))()}}]);return e}();l.EmployeeEditor=o})(this.window=this.window||{},BX,BX.UI.EntitySelector);
//# sourceMappingURL=script.map.js