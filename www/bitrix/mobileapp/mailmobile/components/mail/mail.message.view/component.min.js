(()=>{const{getChainPromise:e}=jn.require("mail/message/tools/connector");const{MessageChain:t}=jn.require("mail/chain");const{MailDialog:a}=jn.require("mail/dialog");layout.setTitle({text:BX.message("MESSAGE_VIEW_TITLE")});const s=BX.componentParameters.get("threadId",null);const o=Number(BX.componentParameters.get("isCrmMessage",1));const n=BX.componentParameters.get("startEmailSender",null);e(s,o).then((e=>{if((e?.data?.list?.length??0)===0){a.show({type:a.MAIL_TYPE_LOST_MESSAGE_TYPE,needsToCloseLayout:false,layoutWidget:this.layout})}else{BX.onViewLoaded((()=>{const a={isCrmMessage:o,threadId:s,chain:e.data,widget:this.layout};if(n){a.startEmailSender=n}layout.showComponent(new t(a))}))}}))})();
//# sourceMappingURL=component.map.js