jn.define("mail/statemanager/redux/slices/messages/observers/stateful-list",((e,t,s)=>{const{selectEntities:c,selectIsMultiSelectMode:d,selectSelectedIds:o}=e("mail/statemanager/redux/slices/messages/selector");const{isEqual:n}=e("utils/object");const a=(e,t)=>{let s=c(e.getState());let a=d(e.getState());let r=o(e.getState());return e.subscribe((()=>{const l=c(e.getState());const m=d(e.getState());const u=o(e.getState());const{moved:v,removed:g,added:h,created:f}=i(s,l);const S=a!==m;const b=!n(r,u);if(v.length>0||g.length>0||h.length>0||f.length>0||S||b){t({moved:v,removed:g,added:h,created:f,multiSelectMode:{changed:S,current:m,previous:a},selectedIds:{changed:b,current:u,previous:r}})}s=l;a=m;r=u}))};const i=(e,t)=>{const s=[];const c=[];const d=[];const o=[];if(e===t){return{moved:s,removed:c,added:d,created:o}}Object.values(e).forEach((e=>{if(!e.isRemoved){const s=t[e.id];if(!s||s.isRemoved){c.push(s||e)}}}));Object.values(t).forEach((t=>{if(!t.isRemoved){const s=e[t.id];if(!s||s.isRemoved){d.push(t)}}}));const a=new Set([...c,...d].map((({id:e})=>e)));Object.values(t).forEach((t=>{const c=e[t.id];if(!c||a.has(t.id)){return}const{isRemoved:d,...o}=c;const{isRemoved:i,...r}=t;if(!n(o,r)){s.push(t)}}));return{moved:s,removed:c,added:d,created:o}};s.exports={observeListChange:a}}));
//# sourceMappingURL=extension.map.js