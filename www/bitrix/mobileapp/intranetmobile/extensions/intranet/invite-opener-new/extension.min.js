jn.define("intranet/invite-opener-new",((e,n,t)=>{const{Notify:i}=e("notify");const{Invite:a,IntranetInviteAnalytics:o}=e("intranet/invite-new");const{Loc:r}=e("loc");const{StatusBox:l}=e("layout/ui/status-box");const{makeLibraryImagePath:s}=e("asset-manager");const{getInviteSettings:d,setUserVisitedInvitations:I}=e("intranet/invite-opener-new/api");const{InviteComponent:c}=e("intranet/invite-opener-new/src/component-opener");const u={POSSIBILITIES_RESTRICTED:"Invite possibilities restricted",PERMISSIONS_RESTRICTED:"Invite permissions restricted"};const p="intranet:invite";const E=e=>{if(env.isCollaber||env.extranet){return}i.showIndicatorLoading();d(e).then((n=>{if(!n){return}void I();if(!n.canCurrentUserInvite){m(e.onInviteError,e.parentLayout);return}const t=e?.openAsComponent?f:v;t({...n,...e})})).catch(console.error).finally((()=>i.hideCurrentIndicator()))};const m=(e,n=PageManager)=>{l.open({backdropTitle:r.getMessage("INTRANET_INVITE_OPENER_TITLE_MSGVER_1"),testId:"status-box-no-invitation",imageUri:s("no-invitation.svg","invite-status-box","intranet"),parentWidget:n,description:r.getMessage("INTRANET_INVITE_DISABLED_BOX_TEXT"),buttonText:r.getMessage("INTRANET_INVITE_DISABLED_BOX_BUTTON_TEXT")});if(e){e([new Error(u.PERMISSIONS_RESTRICTED)])}};const v=({parentLayout:e=null,openWidgetConfig:n={},analytics:t={},onInviteSentHandler:i=null,onInviteError:l=null,onViewHiddenWithoutInvitingHandler:s=null,canInviteBySMS:d=false,canInviteByLink:I=false,canInviteByEmail:c=false,creatorEmailConfirmed:u=false,multipleInvite:p=true,adminConfirm:E=false,isBitrix24Included:m=false,isInviteWithLocalEmailAppEnabled:v=true})=>{const f=new o({analytics:t});f.sendDrawerOpenEvent();f.setDepartmentParam(false);const g={enableNavigationBarBorder:false,titleParams:{text:r.getMessage("INTRANET_INVITE_OPENER_TITLE_MSGVER_1"),type:"dialog"},modal:true,backdrop:{showOnTop:false,onlyMediumPosition:false,mediumPositionHeight:530,bounceEnable:true,swipeAllowed:true,swipeContentAllowed:false,horizontalSwipeAllowed:false,shouldResizeContent:true,adoptHeightByKeyboard:true},...n,onReady:t=>{let o=false;let r=false;t.showComponent(new a({layout:t,parentLayout:e,openWidgetConfig:n,analytics:f,onInviteSentHandler:e=>{o=true;if(i){i(e)}},onInviteError:e=>{r=true;if(l){l(e)}},canInviteBySMS:d,canInviteByLink:I,canInviteByEmail:c,creatorEmailConfirmed:u,multipleInvite:p,adminConfirm:E,isBitrix24Included:m,isInviteWithLocalEmailAppEnabled:v}));t.on("onViewRemoved",(()=>{if(!o&&!r&&s){s()}}))}};if(e){e.openWidget("layout",g);return}PageManager.openWidget("layout",g)};const f=({parentLayout:e=null,openWidgetConfig:n={},analyticsSection:t,onInviteSentHandler:i=null,onInviteError:a=null,onViewHiddenWithoutInvitingHandler:o=null,canInviteBySMS:l=false,canInviteByLink:s=false,canInviteByEmail:d=false,creatorEmailConfirmed:I=false,multipleInvite:c=true,adminConfirm:u=false,isBitrix24Included:E=false,isInviteWithLocalEmailAppEnabled:m=true,onHidden:v=()=>{}})=>{if(!t){return}PageManager.openComponent("JSStackComponent",{name:"JSStackComponent",componentCode:p,scriptPath:availableComponents[p].publicUrl,canOpenInDefault:true,rootWidget:{name:"layout",settings:{objectName:"layout",modal:true,enableNavigationBarBorder:false,titleParams:{text:r.getMessage("INTRANET_INVITE_OPENER_TITLE_MSGVER_1"),type:"dialog"},backdrop:{showOnTop:false,onlyMediumPosition:false,mediumPositionHeight:530,bounceEnable:true,swipeAllowed:true,swipeContentAllowed:false,horizontalSwipeAllowed:false,shouldResizeContent:true,adoptHeightByKeyboard:true}}},params:{inviteSettings:{parentLayout:e,openWidgetConfig:n,onInviteSentHandler:i,onInviteError:a,onViewHiddenWithoutInvitingHandler:o,canInviteBySMS:l,canInviteByLink:s,canInviteByEmail:d,creatorEmailConfirmed:I,multipleInvite:c,adminConfirm:u,isBitrix24Included:E,isInviteWithLocalEmailAppEnabled:m,analyticsSection:t,onHidden:v}}})};t.exports={openIntranetInviteWidget:E,ErrorCode:u,InviteComponent:c}}));
//# sourceMappingURL=extension.map.js