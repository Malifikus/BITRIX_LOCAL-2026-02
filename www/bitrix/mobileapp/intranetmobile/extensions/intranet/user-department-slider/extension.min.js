jn.define("intranet/user-department-slider",((t,e,r)=>{const{SwipeSlider:s,SliderNavigationMode:i}=t("ui-system/layout/swipe-slider");const{createTestIdGenerator:n}=t("utils/test");const{Indent:h,Component:o}=t("tokens");const{ReduxDepartmentStructure:d}=t("intranet/department-structure");const{Card:u}=t("ui-system/layout/card");const{PropTypes:c}=t("utils/validation");class a extends LayoutComponent{constructor(t){super(t);this.getTestId=n({context:this});this.state={contentHeight:0,heights:[]};this.contentHeight=0;this.heights={};this.renderedStructuresCount=0}render(){const{sliderWidth:t}=this.props;const e=this.#t();const r=this.#e();if(r.length===1){return r[0]}return s({testId:this.getTestId("user-departments"),width:t,children:[...r],style:{marginBottom:e?0:o.cardPaddingB.toNumber()},navigationMode:this.#t()?i.SWIPE:i.BUTTON,...this.#r()})}#t=()=>Application.getPlatform()==="ios";#r=()=>{const{contentHeight:t}=this.state;return t>0?{contentHeight:t}:{}};onStructureLayout=(t,{height:e})=>{const{heights:r}=this.state;const{hierarchies:s}=this.props;if(r.length===0){this.heights[t]=e;this.contentHeight=e>this.contentHeight?e:this.contentHeight;this.renderedStructuresCount++;if(this.renderedStructuresCount===s.length){this.setState({contentHeight:this.contentHeight+h.XL.toNumber(),heights:this.heights})}}};#e=()=>{const{hierarchies:t}=this.props;const{heights:e}=this.state;return t.map(((t,r)=>({hierarchy:t,height:e[r]}))).sort(((t,e)=>e.height-t.height)).map((t=>t.hierarchy)).map(((t,e)=>this.#s(t,e)))};#s=(t,e)=>{const r=this.#i(t);const{userId:s,sliderWidth:i,chevron:n,onClick:h,withPressed:o}=this.props;const c=i?{width:i}:{};return u({style:c},d({testId:this.getTestId(`structure-${t?.[0]}`),departmentIds:r,onLayout:this.onStructureLayout.bind(this,e),userId:s,chevron:n,withPressed:o,onClick:h}))};#i=t=>{if(t.length<4){return[t[0],...t]}return t}}a.propTypes={userId:c.number.isRequired,hierarchies:c.arrayOf(c.arrayOf(c.number)).isRequired,sliderWidth:c.number.isRequired,chevron:c.bool,onClick:c.func};r.exports={UserDepartmentSlider:t=>new a(t)}}));
//# sourceMappingURL=extension.map.js