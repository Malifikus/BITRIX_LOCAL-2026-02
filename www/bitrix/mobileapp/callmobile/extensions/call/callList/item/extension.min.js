jn.define("call/callList/item",((e,t,i)=>{const{BadgeCounter:o,BadgeCounterSize:s,BadgeCounterDesign:n}=e("ui-system/blocks/badges/counter");const{formatDuration:r}=e("call/callList/utils");const{CallLogType:a}=e("call/const");const{Color:l}=e("tokens");const c=Object.freeze({incoming:"phone_in",outgoing:"phone_out",missed:"phone_broken"});const g=a.Type;const u=a.Status;class I extends LayoutComponent{constructor(e){super(e);this.state={pressed:false}}getSubtitleText(e){const t=e.duration>0?r(e.duration):"";if(e.status===u.MISSED){return BX.message("MOBILEAPP_CALL_LIST_MISSED_TYPE")}if(e.type===g.INCOMING){return t?BX.message("MOBILEAPP_CALL_LIST_MISSED_INCOMING_TIME").replace("#TIME#",t):BX.message("MOBILEAPP_CALL_LIST_MISSED_INCOMING")}if(e.type===g.OUTGOING){return t?BX.message("MOBILEAPP_CALL_LIST_MISSED_OUTGOING_TIME").replace("#TIME#",t):BX.message("MOBILEAPP_CALL_LIST_MISSED_OUTGOING")}return BX.message("MOBILEAPP_CALL_LIST_MISSED_OUTGOING")}getCallIcon(e){let t=c.outgoing;if(e.status===u.MISSED){t=c.missed}else if(e.type===g.INCOMING){t=c.incoming}else if(e.type===g.OUTGOING){t=c.outgoing}return`${currentDomain}/bitrix/images/mobile/icons/${t}.svg`}render(){const{item:e,timeLabel:t,titleColor:i,showMissedBadge:r,onClick:a}=this.props;const c=View({style:{flexDirection:"row",alignItems:"center"}},Image({style:{width:18,height:18,marginRight:2},tintColor:l.base3.toHex(),svg:{uri:this.getCallIcon(e)}}),Text({text:this.getSubtitleText(e),style:{color:l.base4.toHex(),fontSize:15}}));return View({style:{paddingTop:8,paddingBottom:1,paddingHorizontal:18,position:"relative"},onClick:()=>{this.setState({pressed:true});setTimeout((()=>this.setState({pressed:false})),300);if(typeof a==="function"){a()}}},View({style:{flexDirection:"row"}},this.renderAvatar(),View({style:{flex:1}},Text({text:e.phoneNumber||e.title,style:{color:i,fontSize:16,fontWeight:"600",marginBottom:4}}),c),View({style:{justifyContent:"flex-start",alignItems:"flex-end",paddingTop:2}},Text({text:t,style:{color:l.base3.toHex(),fontSize:13}}),r?View({style:{justifyContent:"flex-end",alignItems:"flex-end",marginTop:8}},o({value:"1",size:s.S,design:n.ALERT})):null)),View({style:{flexDirection:"row",alignItems:"center",marginTop:12}},View({style:{width:62,height:1}}),View({style:{flex:1,height:1,backgroundColor:l.bgSeparatorSecondary.toHex()}})),this.state.pressed?View({style:{position:"absolute",left:0,right:0,top:0,bottom:0,backgroundColor:l.base1.toHex(),opacity:.1,zIndex:1e3,pointerEvents:"none"}}):null)}renderAvatar(){const{item:e,avatarBg:t}=this.props;const i=e.sourceType==="voximplant"||e.phone;const o=String(e.avatar||"");const s=o===""||o.includes("/blank");const n=!s&&o?o.startsWith("http")?o:`${currentDomain}${o}`:"";const r={width:56,height:56,borderRadius:100,marginRight:10,backgroundColor:i?l.accentMainPrimary.toHex():t,justifyContent:"center",alignItems:"center"};if(i){return View({style:r},Image({style:{width:30,height:30},svg:{uri:`${currentDomain}/bitrix/images/mobile/icons/person.svg`},tintColor:l.baseWhiteFixed.toHex()}))}if(n){return Image({style:r,uri:n,resizeMode:"cover"})}return View({style:r},Text({text:e.title.slice(0,2).toUpperCase(),style:{color:l.baseWhiteFixed.toHex(),fontWeight:"600",fontSize:20}}))}}function d(e){return new I(e)}i.exports={CallListItem:d}}));
//# sourceMappingURL=extension.map.js