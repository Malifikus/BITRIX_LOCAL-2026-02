(function(e,t,s){"use strict";let a=e=>e,i,l;var d=babelHelpers.classPrivateFieldLooseKey("storageFieldsWrapper");var r=babelHelpers.classPrivateFieldLooseKey("getField");class o{constructor(){Object.defineProperty(this,r,{value:n});Object.defineProperty(this,d,{writable:true,value:void 0})}getControlRenderers(){return{"storage-fields":e=>{const s=t.Tag.render(i||(i=a`
					<div class="storage-fields">
						<a ref="addField" class="custom-fields__add-button" href="#" id="add_field">${0}</a>
					</div>
				`),t.Text.encode(e.property.Name));babelHelpers.classPrivateFieldLooseBase(this,d)[d]=s.root;t.Event.bind(s.addField,"click",this.handleAddFieldClick.bind(this));if(t.Type.isArrayFilled(e.value)){e.value.forEach((e=>{t.Dom.append(babelHelpers.classPrivateFieldLooseBase(this,r)[r](e),babelHelpers.classPrivateFieldLooseBase(this,d)[d])}))}return s.root}}}handleAddFieldClick(e){e.preventDefault();t.Runtime.loadExtension("bizproc.router").then((({Router:e})=>{e.openStorageFieldEdit({events:{onCloseComplete:e=>{const s=e.getSlider();const a=s?s.getData():null;let i=null;if(a&&a.has("data")){i=a.get("data");t.Dom.append(babelHelpers.classPrivateFieldLooseBase(this,r)[r](i),babelHelpers.classPrivateFieldLooseBase(this,d)[d])}}},requestMethod:"get",requestParams:{storageId:0,fieldId:null,skipSave:true}})})).catch((e=>{console.error(e)}))}}function n(e){const s=JSON.stringify(e);const i=t.Tag.render(l||(l=a`
			<div class="storage-fields__item">
				<input type="hidden" name="SelectedFields[]" value="${0}">
				<div class="storage-fields__item-content">
					<span class="storage-fields__item-name">
						${0}:${0}
					</span>
					<a ref="deleteField" class="storage-fields__delete-button" href="#">
						<div class="ui-icon-set --cross-m"></div>
					</a>
				</div>
			</div>
		`),t.Text.encode(s),t.Text.encode(e.name),t.Text.encode(e.code));t.Event.bind(i.deleteField,"click",(e=>{e.preventDefault();t.Dom.remove(i.root)}));return i.root}e.CreateStorageNodeRenderer=o})(this.window=this.window||{},BX,BX.Main);
//# sourceMappingURL=renderer.map.js