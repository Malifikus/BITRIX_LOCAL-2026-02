{"version":3,"file":"feature.bundle.js","sources":["../src/feature.js","../src/types.js"],"sourcesContent":["import { Extension, Type } from 'main.core';\nimport type { FeatureCodeType } from './types';\n\nexport class Feature\n{\n\tstatic #constructorGuard = true;\n\tstatic #instance: this | null = null;\n\n\t#availableFeatureCodes: Set<FeatureCodeType> = new Set();\n\n\tconstructor()\n\t{\n\t\tif (Feature.#constructorGuard === true)\n\t\t{\n\t\t\tthrow new Error('Feature class is a singleton and cannot be instantiated multiple times.');\n\t\t}\n\n\t\tthis.#init();\n\t}\n\n\tstatic instance(): this\n\t{\n\t\tif (!this.#instance)\n\t\t{\n\t\t\tthis.#constructorGuard = false;\n\t\t\tthis.#instance = new this();\n\n\t\t\tthis.#constructorGuard = true;\n\t\t}\n\n\t\treturn this.#instance;\n\t}\n\n\tisAvailable(featureCode: FeatureCodeType): boolean\n\t{\n\t\tif (!Type.isStringFilled(featureCode))\n\t\t{\n\t\t\treturn false;\n\t\t}\n\n\t\treturn this.#availableFeatureCodes.has(featureCode);\n\t}\n\n\t#init(): void\n\t{\n\t\tconst settings = Extension.getSettings('bizprocdesigner.feature') ?? null;\n\t\tconst featureCodes = settings?.featureCodes ?? [];\n\n\t\tfeatureCodes.forEach((code: string) => this.#availableFeatureCodes.add(code));\n\t}\n}\n","export type FeatureCodeType =\n\t'aiAssistant' | 'complexNodeConnections'\n;\n\nexport const FeatureCode: Record<string, FeatureCodeType> = Object.freeze({\n\taiAssistant: 'aiAssistant',\n\tcomplexNodeConnections: 'complexNodeConnections',\n});\n"],"names":["Feature","constructor","Object","value","writable","Set","babelHelpers","Error","[object Object]","this","isAvailable","featureCode","Type","isStringFilled","has","settings","Extension","getSettings","featureCodes","forEach","code","add","FeatureCode","freeze","aiAssistant","complexNodeConnections"],"mappings":"+CAA4C,yOAGrC,MAAMA,EAOZC,cAEC,GADDC,8BAAAC,UAAAD,8BAAAE,YAAAD,MAH+C,IAAIE,OAIhB,IAA9BC,wCAAAN,QAEH,MAAM,IAAIO,MAAM,2EAGjBD,qDAGDE,kBAUC,+CARKC,aAEJH,oDAAyB,EACzBA,mDAAiB,IAAIG,KAErBH,oDAAyB,2CAGnBG,WAGRC,YAAYC,GAEX,QAAKC,OAAKC,eAAeF,IAKlBL,mDAA4BQ,IAAIH,IAUxC,aANA,QACC,MAAMI,WAAWC,YAAUC,YAAY,8BAA8B,qBAChDF,SAAAA,EAAUG,gBAAgB,IAElCC,QAASC,GAAiBd,mDAA4Be,IAAID,IACvElB,sBA9CWF,KAAOI,YAAAD,OAEQ,IAAID,sBAFnBF,KAAOI,YAAAD,MAGa,aCFpBmB,EAA+CpB,OAAOqB,OAAO,CACzEC,YAAa,cACbC,uBAAwB"}