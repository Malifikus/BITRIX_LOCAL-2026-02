{"version":3,"file":"avatar-widget.bundle.js","sources":["../src/content/content.js","../src/analytics.js","../src/tools/base-tool.js","../src/tools/base-main-tool.js","../src/tools/extension-tool.js","../src/tools/security-tool.js","../src/tools/my-documents-tool.js","../src/tools/salary-vacation-tool.js","../src/content/main-content.js","../src/tools/base-footer-tool.js","../src/tools/theme-tool.js","../src/tools/pulse-tool.js","../src/tools/logout-tool.js","../src/content/footer-content.js","../src/tools/base-secondary-tool.js","../src/tools/account-changer-tool.js","../src/tools/administration-tool.js","../src/tools/performan-user-profile-tool.js","../src/tools/theme-secondary-tool.js","../src/content/secondary-content.js","../src/tools/install-mobile-tool.js","../src/tools/fast-mobile-auth-tool.js","../src/tools/applications-installer-tool.js","../src/content/application-content.js","../src/content/header-subsection-content.js","../src/content/mobile-auth-content.js","../src/tools/security-secondary-tool.js","../src/content/extranet-secondary-content.js","../src/content/annual-summary-content.js","../src/popup.js","../src/avatar-widget.js"],"sourcesContent":["import { EventEmitter } from 'main.core.events';\nimport { Cache } from 'main.core';\nimport type { ConfigOptions, BaseContentOptions } from '../types';\n\nexport class Content extends EventEmitter\n{\n\tcache = new Cache.MemoryCache();\n\n\tconstructor(options: BaseContentOptions)\n\t{\n\t\tsuper();\n\t\tthis.setOptions(options);\n\t\tthis.setEventNamespace('BX.Intranet.AvatarWidget.Content');\n\t}\n\n\tsetOptions(options: BaseContentOptions): Content\n\t{\n\t\tthis.cache.set('options', options);\n\n\t\treturn this;\n\t}\n\n\tgetOptions(): BaseContentOptions\n\t{\n\t\treturn this.cache.get('options', {});\n\t}\n\n\tgetLayout(): HTMLElement\n\t{\n\t\tthrow new Error('Must be implemented in a child class');\n\t}\n\n\tgetConfig(): ConfigOptions\n\t{\n\t\treturn {\n\t\t\thtml: this.getLayout(),\n\t\t\tminHeight: '50px',\n\t\t\tmargin: '0 13px',\n\t\t};\n\t}\n}\n","import { sendData } from 'ui.analytics';\n\nexport class Analytics\n{\n\tstatic TOOLS = 'intranet';\n\tstatic CATEGORY = 'ava_menu';\n\tstatic CATEGORY_PROFILE = 'user_profile';\n\tstatic EVENT_OPEN_WIDGET = 'menu_open';\n\tstatic EVENT_PROFILE_VIEW = 'profile_view';\n\tstatic EVENT_CLICK_SALARY = 'click_salary';\n\tstatic EVENT_CLICK_INSTALL_DESKTOP_APP = 'click_install_desktop_app';\n\tstatic EVENT_CLICK_INSTALL_MOBILE_APP = 'click_install_mobile_app';\n\tstatic EVENT_CLICK_FAST_MOBILE_AUTH = 'click_fast_mobile_auth';\n\tstatic EVENT_CLICK_2FA_SETUP = 'click_2fa_setup';\n\tstatic EVENT_CLICK_EXTENSION = 'click_extension';\n\tstatic EVENT_CLICK_LOGOUT = 'click_logout';\n\tstatic EVENT_CLICK_CHANGE_PORTAL_THEME = 'click_change_portal_theme';\n\tstatic EVENT_CLICK_NETWORK = 'click_network';\n\tstatic EVENT_CLICK_ACTIVITY_PORTAL_LIST = 'click_activity_portal_list';\n\tstatic EVENT_CLICK_PULSE = 'click_open_pulse';\n\tstatic EVENT_CLICK_MY_DOCUMENTS = 'click_open_my_documents';\n\n\tstatic send(event: string): void\n\t{\n\t\tsendData({\n\t\t\ttool: Analytics.TOOLS,\n\t\t\tcategory: Analytics.CATEGORY,\n\t\t\tevent,\n\t\t});\n\t}\n\n\tstatic sendOpenProfile(): void\n\t{\n\t\tsendData({\n\t\t\ttool: Analytics.TOOLS,\n\t\t\tcategory: Analytics.CATEGORY_PROFILE,\n\t\t\tevent: Analytics.EVENT_PROFILE_VIEW,\n\t\t\tc_section: Analytics.CATEGORY,\n\t\t});\n\t}\n\n\tstatic sendOpenCommonSecurity(): void\n\t{\n\t\tsendData({\n\t\t\ttool: 'settings',\n\t\t\tcategory: 'common_security',\n\t\t\tevent: 'start_page',\n\t\t\tc_section: Analytics.CATEGORY,\n\t\t});\n\t}\n}\n","import { Cache } from 'main.core';\n\nexport class BaseTool\n{\n\tcache = new Cache.MemoryCache();\n\n\tconstructor(options = {})\n\t{\n\t\tthis.options = options;\n\t}\n\n\tgetLayout(): HTMLElement\n\t{\n\t\tthrow new Error('Must be implemented in a child class');\n\t}\n\n\tgetIconClass(): string\n\t{\n\t\tthrow new Error('Must be implemented in a child class');\n\t}\n\n\tonClick(): void\n\t{\n\t\tthrow new Error('Must be implemented in a child class');\n\t}\n\n\tgetIconElement(): HTMLElement\n\t{\n\t\tthrow new Error('Must be implemented in a child class');\n\t}\n\n\tgetTitle(): string\n\t{\n\t\treturn this.options.title || this.options.text || '';\n\t}\n}\n","import { Tag } from 'main.core';\nimport { BaseTool } from './base-tool';\n\nexport class BaseMainTool extends BaseTool\n{\n\tgetLayout(): HTMLElement\n\t{\n\t\treturn this.cache.remember('layout', () => {\n\t\t\treturn Tag.render`\n\t\t\t\t<div data-testid=\"bx-avatar-widget-main-tool-${this.getId()}\" onclick=\"${this.onClick.bind(this)}\" class=\"intranet-avatar-widget-main-tool__wrapper\">\n\t\t\t\t\t<div class=\"intranet-avatar-widget-main-tool-icon__wrapper\">\n\t\t\t\t\t\t${this.getIconElement()}\n\t\t\t\t\t\t${this.#getCounterWrapper()}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"intranet-avatar-widget-main-tool__title\">\n\t\t\t\t\t\t${this.getTitle()}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`;\n\t\t});\n\t}\n\n\tgetIconElement(): HTMLElement\n\t{\n\t\treturn this.cache.remember('icon', () => {\n\t\t\treturn Tag.render`<i class=\"ui-icon-set ${this.getIconClass()} intranet-avatar-widget-main-tool__icon\"/>`;\n\t\t});\n\t}\n\n\tgetCounter(): ?Counter\n\t{\n\t\treturn null;\n\t}\n\n\tgetId(): string\n\t{\n\t\treturn '';\n\t}\n\n\t#getCounterWrapper(): ?HTMLElement\n\t{\n\t\treturn this.cache.remember('counterWrapper', () => {\n\t\t\tconst counter = this.getCounter();\n\n\t\t\treturn Tag.render`\n\t\t\t\t<div class=\"intranet-avatar-widget-main-tool__counter-wrapper\">\n\t\t\t\t\t${counter?.render()}\n\t\t\t\t</div>\n\t\t\t`;\n\t\t});\n\t}\n}\n","import { BaseMainTool } from './base-main-tool';\nimport { Menu } from 'main.popup';\nimport { EventEmitter } from 'main.core.events';\nimport { Analytics } from '../analytics';\n\nexport class ExtensionTool extends BaseMainTool\n{\n\tgetIconClass(): string\n\t{\n\t\treturn '--o-box';\n\t}\n\n\tonClick(): void\n\t{\n\t\tAnalytics.send(Analytics.EVENT_CLICK_EXTENSION);\n\t\tthis.#getMenu().toggle();\n\t}\n\n\t#getMenu(): Menu\n\t{\n\t\treturn this.cache.remember('menu', () => {\n\t\t\tconst menu = new Menu({\n\t\t\t\tbindElement: this.getIconElement(),\n\t\t\t\titems: this.options.items,\n\t\t\t\tangle: true,\n\t\t\t\tcachable: false,\n\t\t\t\toffsetLeft: 10,\n\t\t\t\tfixed: true,\n\t\t\t});\n\t\t\tEventEmitter.subscribe('SidePanel.Slider:onOpenStart', () => {\n\t\t\t\tmenu.close();\n\t\t\t});\n\n\t\t\treturn menu;\n\t\t});\n\t}\n\n\tgetId(): string\n\t{\n\t\treturn 'extension';\n\t}\n}\n","import { BaseMainTool } from './base-main-tool';\nimport { SidePanel } from 'main.sidepanel';\nimport { Analytics } from '../analytics';\nimport { Counter, CounterStyle } from 'ui.cnt';\nimport { PULL } from 'pull.client';\nimport { Dom } from 'main.core';\n\nexport class SecurityTool extends BaseMainTool\n{\n\tgetIconClass(): string\n\t{\n\t\treturn '--o-shield-checked';\n\t}\n\n\tonClick(): void\n\t{\n\t\tAnalytics.send(Analytics.EVENT_CLICK_2FA_SETUP);\n\t\tSidePanel.Instance.open(this.options.url, { width: 1100 });\n\t}\n\n\tgetCounter(): ?Counter\n\t{\n\t\treturn this.cache.remember('counter', () => {\n\t\t\tif (!this.options.hasCounter)\n\t\t\t{\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tPULL.subscribe({\n\t\t\t\tmoduleId: 'intranet',\n\t\t\t\tcommand: this.options.counterEventName,\n\t\t\t\tcallback: () => {\n\t\t\t\t\tthis.getCounter().destroy();\n\t\t\t\t\tconst icon = this.getLayout().querySelector('.intranet-avatar-widget-item__icon');\n\t\t\t\t\tDom.removeClass(icon, '--active');\n\t\t\t\t\tthis.cache.delete('counter');\n\t\t\t\t},\n\t\t\t});\n\n\t\t\treturn new Counter({\n\t\t\t\tcolor: Counter.Color.DANGER,\n\t\t\t\tsize: Counter.Size.MEDIUM,\n\t\t\t\tvalue: 1,\n\t\t\t\tstyle: CounterStyle.FILLED_ALERT,\n\t\t\t\tuseAirDesign: true,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetId(): string\n\t{\n\t\treturn 'security';\n\t}\n}\n","import { FeaturePromotersRegistry } from 'ui.info-helper';\nimport { Dom, Loc, Type } from 'main.core';\nimport { Router } from 'crm.router';\nimport { Counter, CounterStyle } from 'ui.cnt';\nimport { PULL } from 'pull.client';\nimport { BaseMainTool } from './base-main-tool';\nimport { Analytics } from '../analytics';\n\nexport class MyDocumentsTool extends BaseMainTool\n{\n\tgetIconClass(): string\n\t{\n\t\treturn '--o-file';\n\t}\n\n\tonClick(): void\n\t{\n\t\tAnalytics.send(Analytics.EVENT_CLICK_MY_DOCUMENTS);\n\t\tif (this.options.isLocked)\n\t\t{\n\t\t\tFeaturePromotersRegistry.getPromoter({ code: 'limit_office_e_signature' }).show();\n\n\t\t\treturn;\n\t\t}\n\n\t\tconst userId = Number(Loc.getMessage('USER_ID'));\n\n\t\tif (userId > 0)\n\t\t{\n\t\t\tRouter.openSlider(\n\t\t\t\t`${Loc.getMessage('SITE_DIR')}company/personal/user/${userId}/sign?noRedirect=Y`,\n\t\t\t\t{ width: 1000, cacheable: false },\n\t\t\t);\n\t\t}\n\t}\n\n\tgetCounter(): ?Counter\n\t{\n\t\treturn this.cache.remember('counter', () => {\n\t\t\tif (Number(this.options.counter) < 1)\n\t\t\t{\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tPULL.subscribe({\n\t\t\t\tmoduleId: 'sign',\n\t\t\t\tcommand: this.options.counterEventName,\n\t\t\t\tcallback: (params) => {\n\t\t\t\t\tif (!Type.isNumber(params?.needActionCount))\n\t\t\t\t\t{\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.options.counter = params.needActionCount;\n\n\t\t\t\t\tif (params?.needActionCount > 0)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.getCounter().update(params.needActionCount);\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.getCounter().destroy();\n\t\t\t\t\t\tconst icon = this.getLayout().querySelector('.intranet-avatar-widget-item__icon');\n\t\t\t\t\t\tDom.removeClass(icon, '--active');\n\t\t\t\t\t\tthis.cache.delete('counter');\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t});\n\n\t\t\treturn new Counter({\n\t\t\t\tcolor: Counter.Color.DANGER,\n\t\t\t\tsize: Counter.Size.MEDIUM,\n\t\t\t\tvalue: this.options.counter,\n\t\t\t\tstyle: CounterStyle.FILLED_ALERT,\n\t\t\t\tuseAirDesign: true,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetId(): string\n\t{\n\t\treturn 'my-documents';\n\t}\n}\n","import { BaseMainTool } from './base-main-tool';\nimport { Event, Dom } from 'main.core';\nimport { SalaryVacationMenu } from 'humanresources.hcmlink.salary-vacation-menu';\nimport { Analytics } from '../analytics';\n\nexport class SalaryVacationTool extends BaseMainTool\n{\n\tgetIconClass(): string\n\t{\n\t\treturn '--o-favorite';\n\t}\n\n\tgetLayout(): HTMLElement\n\t{\n\t\tconst container = super.getLayout();\n\n\t\tif (this.#getMenu().isHidden())\n\t\t{\n\t\t\treturn null;\n\t\t}\n\n\t\tif (this.#getMenu().isDisabled())\n\t\t{\n\t\t\tDom.attr(container, 'data-hint', '');\n\t\t\tDom.attr(container, 'data-hint-interactivity', '');\n\t\t\tEvent.bind(container, 'mouseenter', () => {\n\t\t\t\tthis.#getHintInstance().show(container, this.options.disabledHint);\n\t\t\t});\n\n\t\t\tEvent.bind(container, 'mouseleave', () => {\n\t\t\t\tthis.#getHintInstance().hide(container);\n\t\t\t});\n\t\t}\n\n\t\treturn super.getLayout();\n\t}\n\n\tonClick(): void\n\t{\n\t\tAnalytics.send(Analytics.EVENT_CLICK_SALARY);\n\t\tif (!this.#getMenu().isHidden() && !this.#getMenu().isDisabled())\n\t\t{\n\t\t\tthis.#getMenu().show(this.getLayout());\n\t\t}\n\t}\n\n\t#getMenu(): SalaryVacationMenu\n\t{\n\t\treturn this.cache.remember('salaryMenu', () => {\n\t\t\treturn new SalaryVacationMenu();\n\t\t});\n\t}\n\n\t#getHintInstance(): Manager\n\t{\n\t\treturn this.cache.remember('hint', () => {\n\t\t\treturn BX.UI.Hint.createInstance({\n\t\t\t\tpopupParameters: {\n\t\t\t\t\tfixed: true,\n\t\t\t\t},\n\t\t\t});\n\t\t});\n\t}\n\n\tgetId(): string\n\t{\n\t\treturn 'salary-vacation';\n\t}\n}\n","import { Tag, Dom } from 'main.core';\nimport { EventEmitter } from 'main.core.events';\nimport { AvatarRound, AvatarRoundExtranet, AvatarRoundGuest, AvatarBase } from 'ui.avatar';\nimport { WorkStatusControlPanel } from 'timeman.work-status-control-panel';\nimport { Content } from './content';\nimport { Analytics } from '../analytics';\nimport type { MainContentOptions } from '../types';\nimport { ExtensionTool } from '../tools/extension-tool';\nimport { SecurityTool } from '../tools/security-tool';\nimport type { BaseMainTool } from '../tools/base-main-tool';\nimport { MyDocumentsTool } from '../tools/my-documents-tool';\nimport { SalaryVacationTool } from '../tools/salary-vacation-tool';\n\nexport class MainContent extends Content\n{\n\t#activeOnclick: boolean = true;\n\n\tgetConfig(): Object\n\t{\n\t\treturn {\n\t\t\thtml: this.getLayout(),\n\t\t};\n\t}\n\n\tgetOptions(): MainContentOptions\n\t{\n\t\treturn super.getOptions();\n\t}\n\n\t#handleClickTaskStatus(event): void\n\t{\n\t\tevent.stopPropagation();\n\t\tevent.preventDefault();\n\t}\n\n\tgetLayout(): HTMLElement\n\t{\n\t\treturn this.cache.remember('layout', () => {\n\t\t\tthis.#setEventHandlers();\n\t\t\tconst onclick = () => {\n\t\t\t\tif (this.#activeOnclick)\n\t\t\t\t{\n\t\t\t\t\tBX.SidePanel.Instance.open(this.getOptions().url);\n\t\t\t\t\tAnalytics.sendOpenProfile();\n\t\t\t\t}\n\t\t\t};\n\n\t\t\treturn Tag.render`\n\t\t\t\t<div class=\"intranet-avatar-widget-item__wrapper\" data-testid=\"bx-avatar-widget-content-main\">\n\t\t\t\t\t<div onclick=\"${onclick}\" class=\"intranet-avatar-widget-item-main__wrapper-head\">\n\t\t\t\t\t\t<div class=\"intranet-avatar-widget-item__avatar\">\n\t\t\t\t\t\t\t${this.#getAvatar().getContainer()}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"intranet-avatar-widget-item__info-wrapper\">\n\t\t\t\t\t\t\t${this.#getFullName()}\n\t\t\t\t\t\t\t${this.#getWorkPosition()}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t${this.#getStatus()}\n\t\t\t\t\t${this.#getWorkStatusBlock()}\n\t\t\t\t\t${this.#getToolsContainer()}\n\t\t\t\t</div>\n\t\t\t`;\n\t\t});\n\t}\n\n\t#getFullName(): HTMLElement\n\t{\n\t\treturn this.cache.remember('title', () => {\n\t\t\treturn Tag.render`\n\t\t\t\t<span class=\"intranet-avatar-widget-item__title\">\n\t\t\t\t\t<span>${this.getOptions().fullName}</span>\n\t\t\t\t\t<i class=\"ui-icon-set --chevron-right-s intranet-avatar-widget-item__chevron\"/>\n\t\t\t\t</span>\n\t\t\t`;\n\t\t});\n\t}\n\n\t#getWorkPosition(): ?HTMLElement\n\t{\n\t\treturn this.cache.remember('workPosition', () => {\n\t\t\tif (!this.getOptions().workPosition)\n\t\t\t{\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\treturn Tag.render`\n\t\t\t\t<span class=\"intranet-avatar-widget-item__description\">${this.getOptions().workPosition}</span>\n\t\t\t`;\n\t\t});\n\t}\n\n\t#getAvatar(): AvatarBase\n\t{\n\t\treturn this.cache.remember('avatar', () => {\n\t\t\tconst options = {\n\t\t\t\tsize: 48,\n\t\t\t\tuserpicPath: encodeURI(this.getOptions().userPhotoSrc),\n\t\t\t};\n\t\t\tlet avatar = null;\n\n\t\t\tif (this.getOptions().role === 'extranet')\n\t\t\t{\n\t\t\t\tavatar = new AvatarRoundExtranet(options);\n\t\t\t}\n\t\t\telse if (this.getOptions().role === 'collaber')\n\t\t\t{\n\t\t\t\tavatar = new AvatarRoundGuest(options);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tavatar = new AvatarRound(options);\n\t\t\t}\n\n\t\t\treturn avatar;\n\t\t});\n\t}\n\n\t#getStatus(): ?HTMLElement\n\t{\n\t\treturn this.cache.remember('status', () => {\n\t\t\tif (!this.getOptions().status && !this.getOptions().vacation)\n\t\t\t{\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tconst wrapper = Tag.render`\n\t\t\t\t<div class=\"intranet-avatar-widget-main__status-wrapper\"></div>\n\t\t\t`;\n\n\t\t\tif (this.getOptions().vacation)\n\t\t\t{\n\t\t\t\tDom.append(Tag.render`\n\t\t\t\t\t<span class=\"intranet-avatar-widget-main__status --vacation\">\n\t\t\t\t\t\t${this.getOptions().vacation}\n\t\t\t\t\t</span>\n\t\t\t\t`, wrapper);\n\t\t\t}\n\n\t\t\tif (this.getOptions().status)\n\t\t\t{\n\t\t\t\tconst status = Tag.render`\n\t\t\t\t\t<span class=\"intranet-avatar-widget-main__status\">\n\t\t\t\t\t\t${this.getOptions().status}\n\t\t\t\t\t</span>\n\t\t\t\t`;\n\n\t\t\t\tif (this.getOptions().role === 'collaber')\n\t\t\t\t{\n\t\t\t\t\tDom.addClass(status, '--collaber');\n\t\t\t\t}\n\t\t\t\telse if (this.getOptions().role === 'extranet')\n\t\t\t\t{\n\t\t\t\t\tDom.addClass(status, '--extranet');\n\t\t\t\t}\n\n\t\t\t\tDom.append(status, wrapper);\n\t\t\t}\n\n\t\t\treturn wrapper;\n\t\t});\n\t}\n\n\t#getWorkStatusBlock(): ?HTMLElement\n\t{\n\t\treturn this.cache.remember('worktime', () => {\n\t\t\tif (!this.getOptions().isTimemanAvailable)\n\t\t\t{\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tif (!this.#getWorkStatusControlPanel())\n\t\t\t{\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\treturn Tag.render`\n\t\t\t\t<div\n\t\t\t\t\tclass=\"intranet-avatar-widget-item__task-status task-status\"\n\t\t\t\t\tonclick=\"${this.#handleClickTaskStatus}\"\n\t\t\t\t>\n\t\t\t\t\t${this.#getWorkStatusControlPanel()}\n\t\t\t\t</div>\n\t\t\t`;\n\t\t});\n\t}\n\n\t#getWorkStatusControlPanel(): ?HTMLElement\n\t{\n\t\treturn this.cache.remember('taskStatusActions', () => {\n\t\t\ttry\n\t\t\t{\n\t\t\t\treturn (new WorkStatusControlPanel()).renderWorkStatusControlPanel();\n\t\t\t}\n\t\t\tcatch (error)\n\t\t\t{\n\t\t\t\tconsole.error(error);\n\n\t\t\t\treturn null;\n\t\t\t}\n\t\t});\n\t}\n\n\t#getToolsContainer(): ?HTMLElement\n\t{\n\t\treturn this.cache.remember('tools-container', () => {\n\t\t\tif (!this.getOptions().tools || Object.keys(this.getOptions().tools).length === 0)\n\t\t\t{\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tconst container = Tag.render`\n\t\t\t\t<div class=\"intranet-avatar-widget-main-tools__wrapper\"></div>\n\t\t\t`;\n\t\t\tconst tools = this.#getTools();\n\n\t\t\tDom.style(container, 'grid-template-columns', `repeat(${tools.length}, 1fr)`);\n\n\t\t\ttools.forEach((tool) => {\n\t\t\t\tDom.append(tool.getLayout(), container);\n\t\t\t});\n\n\t\t\treturn container;\n\t\t});\n\t}\n\n\t#getTools(): Array<BaseMainTool>\n\t{\n\t\treturn this.cache.remember('tools', () => {\n\t\t\tconst tools = this.getOptions().tools;\n\n\t\t\treturn [\n\t\t\t\ttools.myDocuments ? new MyDocumentsTool(tools.myDocuments) : null,\n\t\t\t\ttools.salaryVacation ? new SalaryVacationTool(tools.salaryVacation) : null,\n\t\t\t\ttools.security ? new SecurityTool(tools.security) : null,\n\t\t\t\ttools.extension ? new ExtensionTool(tools.extension) : null,\n\t\t\t].filter(Boolean);\n\t\t});\n\t}\n\n\t#setEventHandlers(): void\n\t{\n\t\tEventEmitter.subscribe(\n\t\t\t'BX.Intranet.UserProfile:Avatar:changed',\n\t\t\t({ data: [{ url, userId }] }) => {\n\t\t\t\tif (this.getOptions().id > 0 && userId && this.getOptions().id.toString() === userId.toString())\n\t\t\t\t{\n\t\t\t\t\tconst preparedUrl = encodeURI(url);\n\t\t\t\t\tthis.getOptions().userPhotoSrc = preparedUrl;\n\t\t\t\t\tthis.#getAvatar().setUserPic(preparedUrl);\n\t\t\t\t}\n\t\t\t},\n\t\t);\n\t\tEventEmitter.subscribe(\n\t\t\t'BX.Intranet.UserProfile:Name:changed',\n\t\t\t({ data: [{ fullName }] }) => {\n\t\t\t\tthis.getOptions().fullName = fullName;\n\t\t\t\tthis.#getFullName().querySelector('span').innerHTML = fullName;\n\t\t\t},\n\t\t);\n\t\tEventEmitter.subscribe('BX.Intranet.AvatarWidget.Popup:enabledAutoHide', () => {\n\t\t\tthis.#activeOnclick = true;\n\t\t});\n\t\tEventEmitter.subscribe('BX.Intranet.AvatarWidget.Popup:disabledAutoHide', () => {\n\t\t\tthis.#activeOnclick = false;\n\t\t});\n\t}\n}\n","import { Cache, Tag } from 'main.core';\n\nexport class BaseFooterTool\n{\n\tcache = new Cache.MemoryCache();\n\n\tconstructor(options = {})\n\t{\n\t\tthis.options = options;\n\t}\n\n\tgetLayout(): HTMLElement\n\t{\n\t\treturn Tag.render`\n\t\t\t<div data-testid=\"bx-avatar-widget-footer-tool-${this.getId()}\" onclick=\"${this.onClick.bind(this)}\" class=\"intranet-avatar-widget-footer__item\">\n\t\t\t\t${this.getTitle()}\n\t\t\t</div>\n\t\t`;\n\t}\n\n\tonClick(): void\n\t{\n\t\tthrow new Error('Must be implemented in a child class');\n\t}\n\n\tgetTitle(): string\n\t{\n\t\treturn this.options.title || this.options.text || '';\n\t}\n\n\tgetId(): string\n\t{\n\t\treturn '';\n\t}\n}\n","import { BaseFooterTool } from './base-footer-tool';\nimport { Analytics } from '../analytics';\nimport { EventEmitter } from 'main.core.events';\n\nexport class ThemeTool extends BaseFooterTool\n{\n\tonClick(): void\n\t{\n\t\tAnalytics.send(Analytics.EVENT_CLICK_CHANGE_PORTAL_THEME);\n\t\tEventEmitter.emit('BX.Intranet.AvatarWidget.Popup:openChild');\n\t\tBX.Intranet.Bitrix24.ThemePicker.Singleton.showDialog(false);\n\t}\n\n\tgetId(): string\n\t{\n\t\treturn 'theme';\n\t}\n}\n","import { ajax, Runtime } from 'main.core';\nimport { EventEmitter } from 'main.core.events';\nimport { BaseFooterTool } from './base-footer-tool';\nimport { Analytics } from '../analytics';\n\nexport class PulseTool extends BaseFooterTool\n{\n\tonClick(): void\n\t{\n\t\tAnalytics.send(Analytics.EVENT_CLICK_PULSE);\n\t\tajax.runAction('intranet.user.widget.getUserStatComponent', {\n\t\t\tmode: 'class',\n\t\t}).then((response) => {\n\t\t\tRuntime.html(null, response.data.html).then(() => {\n\t\t\t\tif (window.openIntranetUStat)\n\t\t\t\t{\n\t\t\t\t\tEventEmitter.emit('BX.Intranet.AvatarWidget.Popup:openChild');\n\t\t\t\t\topenIntranetUStat();\n\t\t\t\t}\n\t\t\t}).catch(() => {});\n\t\t}).catch(() => {});\n\t}\n\n\tgetId(): string\n\t{\n\t\treturn 'pulse';\n\t}\n}\n","import { BaseFooterTool } from './base-footer-tool';\nimport { Type, Uri } from 'main.core';\nimport { DesktopApi } from 'im.v2.lib.desktop-api';\nimport { Analytics } from '../analytics';\n\nexport class LogoutTool extends BaseFooterTool\n{\n\tonClick(): void\n\t{\n\t\tAnalytics.send(Analytics.EVENT_CLICK_LOGOUT);\n\t\tif (!Type.isNil(DesktopApi) && DesktopApi.isDesktop())\n\t\t{\n\t\t\tDesktopApi.logout();\n\t\t}\n\t\telse\n\t\t{\n\t\t\tconst backUrl = new Uri(window.location.pathname);\n\t\t\tbackUrl.removeQueryParam(this.options.removeQueryParam);\n\t\t\tconst newUrl = new Uri(this.options.path);\n\t\t\tnewUrl.setQueryParam('sessid', BX.bitrix_sessid());\n\t\t\tnewUrl.setQueryParam('backurl', encodeURIComponent(backUrl.toString()));\n\t\t\tdocument.location.href = newUrl;\n\t\t}\n\t}\n\n\tgetId(): string\n\t{\n\t\treturn 'logout';\n\t}\n}\n","import { Dom, Tag } from 'main.core';\nimport { Content } from './content';\nimport { BaseFooterTool } from '../tools/base-footer-tool';\nimport { ThemeTool } from '../tools/theme-tool';\nimport { PulseTool } from '../tools/pulse-tool';\nimport { LogoutTool } from '../tools/logout-tool';\n\nexport class FooterContent extends Content\n{\n\tgetConfig(): Object\n\t{\n\t\treturn {\n\t\t\thtml: this.getLayout(),\n\t\t\twithoutBackground: true,\n\t\t\tmargin: '0 0 16px 0',\n\t\t};\n\t}\n\n\tgetLayout(): HTMLElement\n\t{\n\t\treturn this.cache.remember('layout', () => {\n\t\t\tconst container = Tag.render`\n\t\t\t\t<div data-testid=\"bx-avatar-widget-content-footer\" class=\"intranet-avatar-widget-footer__wrapper\"/>\n\t\t\t`;\n\t\t\tconst tools = this.#getTools();\n\n\t\t\ttools.forEach((tool) => {\n\t\t\t\tDom.append(tool.getLayout(), container);\n\t\t\t});\n\n\t\t\treturn container;\n\t\t});\n\t}\n\n\t#getTools(): Array<BaseFooterTool>\n\t{\n\t\treturn this.cache.remember('tools', () => {\n\t\t\tconst tools = this.getOptions().tools;\n\n\t\t\treturn [\n\t\t\t\ttools.theme ? new ThemeTool(tools.theme) : null,\n\t\t\t\ttools.pulse ? new PulseTool(tools.pulse) : null,\n\t\t\t\ttools.logout ? new LogoutTool(tools.logout) : null,\n\t\t\t].filter(Boolean);\n\t\t});\n\t}\n}\n","import { BaseTool } from './base-tool';\nimport { Tag } from 'main.core';\nimport { Counter } from 'ui.cnt';\n\nexport class BaseSecondaryTool extends BaseTool\n{\n\tgetLayout(): HTMLElement\n\t{\n\t\treturn this.cache.remember('layout', () => {\n\t\t\treturn Tag.render`\n\t\t\t\t<div data-testid=\"bx-avatar-widget-tool-${this.getId()}\" onclick=\"${this.onClick.bind(this)}\" class=\"intranet-avatar-widget-secondary-tool__wrapper\">\n\t\t\t\t\t${this.getIconElement()}\n\t\t\t\t\t<div class=\"intranet-avatar-widget-item__info-wrapper\">\n\t\t\t\t\t\t<span class=\"intranet-avatar-widget-item__title\">\n\t\t\t\t\t\t\t${this.getTitle()}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t${this.#getCounterWrapper()}\n\t\t\t\t\t${this.getActionElement()}\n\t\t\t\t</div>\n\t\t\t`;\n\t\t});\n\t}\n\n\tgetIconElement(): HTMLElement\n\t{\n\t\treturn this.cache.remember('icon', () => {\n\t\t\treturn Tag.render`<i class=\"ui-icon-set ${this.getIconClass()} intranet-avatar-widget-secondary-tool__icon\"/>`;\n\t\t});\n\t}\n\n\tgetActionElement(): HTMLElement\n\t{\n\t\treturn this.cache.remember('actionElement', () => {\n\t\t\treturn Tag.render`<i class=\"ui-icon-set --chevron-right-m intranet-avatar-widget-item__chevron\"/>`;\n\t\t});\n\t}\n\n\tgetCounter(): ?Counter\n\t{\n\t\treturn null;\n\t}\n\n\tgetId(): string\n\t{\n\t\treturn '';\n\t}\n\n\t#getCounterWrapper(): HTMLElement\n\t{\n\t\treturn this.cache.remember('counterWrapper', () => {\n\t\t\tconst counter = this.getCounter();\n\n\t\t\treturn Tag.render`\n\t\t\t\t<div class=\"intranet-avatar-widget-item__counter\">\n\t\t\t\t\t${counter?.render()}\n\t\t\t\t</div>\n\t\t\t`;\n\t\t});\n\t}\n}\n","import { BaseSecondaryTool } from './base-secondary-tool';\nimport { DesktopAccountList } from 'intranet.desktop-account-list';\nimport { EventEmitter } from 'main.core.events';\nimport { Analytics } from '../analytics';\n\nexport class AccountChangerTool extends BaseSecondaryTool\n{\n\tgetIconClass(): string\n\t{\n\t\treturn '--o-structure-vertical';\n\t}\n\n\tonClick(): void\n\t{\n\t\tif (this.options.type === 'desktop')\n\t\t{\n\t\t\tAnalytics.send(Analytics.EVENT_CLICK_ACTIVITY_PORTAL_LIST);\n\t\t\tEventEmitter.emit('BX.Intranet.AvatarWidget.Popup:openChild');\n\t\t\t(new DesktopAccountList({ bindElement: document.querySelector('[data-id=\"bx-avatar-widget\"]') })).show();\n\t\t}\n\t\telse if (this.options.type === 'network')\n\t\t{\n\t\t\tAnalytics.send(Analytics.EVENT_CLICK_NETWORK);\n\t\t\twindow.open(this.options.path, '_blank');\n\t\t}\n\t}\n\n\tgetId(): string\n\t{\n\t\treturn 'account-changer';\n\t}\n}\n","import { BaseSecondaryTool } from './base-secondary-tool';\n\nexport class AdministrationTool extends BaseSecondaryTool\n{\n\tgetIconClass(): string\n\t{\n\t\treturn '--o-filter-2-lines';\n\t}\n\n\tonClick(): void\n\t{\n\t\twindow.open(this.options.path, '_blank');\n\t}\n\n\tgetId(): string\n\t{\n\t\treturn 'administration';\n\t}\n}\n","import { BaseSecondaryTool } from './base-secondary-tool';\n\nexport class PerformanUserProfileTool extends BaseSecondaryTool\n{\n\tgetIconClass(): string\n\t{\n\t\treturn '--o-achievement';\n\t}\n\n\tonClick(): void\n\t{\n\t\tconst userId = this.options.userId;\n\n\t\tBX.Runtime.loadExtension('performan.application.user-profile')\n\t\t\t.then(() => {\n\t\t\t\t(new BX.Performan.Application.UserProfile({ userId })).show();\n\t\t\t});\n\t}\n\n\tgetId(): string\n\t{\n\t\treturn 'performan-user-profile';\n\t}\n}\n","import { BaseSecondaryTool } from './base-secondary-tool';\nimport { Analytics } from '../analytics';\nimport { EventEmitter } from 'main.core.events';\n\nexport class ThemeSecondaryTool extends BaseSecondaryTool\n{\n\tgetIconClass(): string\n\t{\n\t\treturn '--o-palette';\n\t}\n\n\tonClick(): void\n\t{\n\t\tAnalytics.send(Analytics.EVENT_CLICK_CHANGE_PORTAL_THEME);\n\t\tEventEmitter.emit('BX.Intranet.AvatarWidget.Popup:openChild');\n\t\tBX.Intranet.Bitrix24.ThemePicker.Singleton.showDialog(false);\n\t}\n\n\tgetId(): string\n\t{\n\t\treturn 'theme';\n\t}\n}\n","import { Content } from './content';\nimport { Tag, Dom } from 'main.core';\nimport { AccountChangerTool } from '../tools/account-changer-tool';\nimport type { BaseSecondaryTool } from '../tools/base-secondary-tool';\nimport { AdministrationTool } from '../tools/administration-tool';\nimport { PerformanUserProfileTool } from '../tools/performan-user-profile-tool';\nimport { ThemeSecondaryTool } from '../tools/theme-secondary-tool';\n\nexport class SecondaryContent extends Content\n{\n\tgetLayout(): HTMLElement\n\t{\n\t\treturn this.cache.remember('layout', () => {\n\t\t\tconst container = Tag.render`\n\t\t\t\t<div data-testid=\"bx-avatar-widget-content-${this.getId()}\" class=\"intranet-avatar-widget-item__wrapper\"></div>\n\t\t\t`;\n\t\t\tthis.getTools().forEach((tool) => {\n\t\t\t\tDom.append(tool.getLayout(), container);\n\t\t\t});\n\n\t\t\treturn container;\n\t\t});\n\t}\n\n\tgetTools(): Array<BaseSecondaryTool>\n\t{\n\t\treturn this.cache.remember('tools', () => {\n\t\t\tconst tools = this.getOptions().tools;\n\n\t\t\treturn [\n\t\t\t\ttools.theme ? new ThemeSecondaryTool(tools.theme) : null,\n\t\t\t\ttools.accountChanger ? new AccountChangerTool(tools.accountChanger) : null,\n\t\t\t\ttools.admin ? new AdministrationTool(tools.admin) : null,\n\t\t\t\ttools.performanUserProfile ? new PerformanUserProfileTool(tools.performanUserProfile) : null,\n\t\t\t].filter(Boolean);\n\t\t});\n\t}\n\n\tgetId(): string\n\t{\n\t\treturn 'secondary';\n\t}\n}\n","import { BaseSecondaryTool } from './base-secondary-tool';\nimport { EventEmitter } from 'main.core.events';\nimport { Analytics } from '../analytics';\n\nexport class InstallMobileTool extends BaseSecondaryTool\n{\n\tgetIconClass(): string\n\t{\n\t\treturn '--o-mobile';\n\t}\n\n\tonClick(): void\n\t{\n\t\tAnalytics.send(Analytics.EVENT_CLICK_INSTALL_MOBILE_APP);\n\t\tEventEmitter.emit('BX.Intranet.AvatarWidget.FastMobileAuthTool:onClick');\n\t}\n}\n","import { BaseSecondaryTool } from './base-secondary-tool';\nimport { EventEmitter } from 'main.core.events';\nimport { Analytics } from '../analytics';\n\nexport class FastMobileAuthTool extends BaseSecondaryTool\n{\n\tgetIconClass(): string\n\t{\n\t\treturn '--o-qr-code';\n\t}\n\n\tonClick(): void\n\t{\n\t\tAnalytics.send(Analytics.EVENT_CLICK_FAST_MOBILE_AUTH);\n\t\tEventEmitter.emit('BX.Intranet.AvatarWidget.FastMobileAuthTool:onClick');\n\t}\n\n\tgetId(): string\n\t{\n\t\treturn 'fast-mobile-auth';\n\t}\n}\n","import { Tag } from 'main.core';\nimport { Button, AirButtonStyle } from 'ui.buttons';\nimport { BaseSecondaryTool } from './base-secondary-tool';\nimport { Menu } from 'main.popup';\nimport { EventEmitter } from 'main.core.events';\nimport { Analytics } from '../analytics';\nimport { DesktopDownload } from 'intranet.desktop-download';\n\nexport class ApplicationsInstallerTool extends BaseSecondaryTool\n{\n\tgetIconElement(): HTMLElement\n\t{\n\t\treturn this.cache.remember('icon', () => {\n\t\t\tif (this.options.mobile.installed)\n\t\t\t{\n\t\t\t\treturn Tag.render`\n\t\t\t\t\t<span class=\"intranet-avatar-widget-secondary-tool-icons__wrapper\">\n\t\t\t\t\t\t${this.#getMobileIcon()}\n\t\t\t\t\t\t<div class=\"intranet-avatar-widget-secondary-tool-icons__seporator\"></div>\n\t\t\t\t\t\t${this.#getDesktopIcon()}\n\t\t\t\t\t</span>\n\t\t\t\t`;\n\t\t\t}\n\n\t\t\treturn this.#getDesktopIcon();\n\t\t});\n\t}\n\n\tgetActionElement(): HTMLElement\n\t{\n\t\treturn this.cache.remember('actionElement', () => {\n\t\t\tif (this.options.desktop.installed && this.options.menu)\n\t\t\t{\n\t\t\t\tconst onclick = (element) => {\n\t\t\t\t\tthis.#getInstallMenu(element.target).toggle();\n\t\t\t\t};\n\n\t\t\t\treturn Tag.render`\n\t\t\t\t\t<i onclick=\"${onclick}\" class=\"ui-icon-set --more-m intranet-avatar-widget-item__more\"/>\n\t\t\t\t`;\n\t\t\t}\n\n\t\t\tconst desktopDownload = new DesktopDownload();\n\n\t\t\tconst button = (new Button({\n\t\t\t\tsize: Button.Size.EXTRA_SMALL,\n\t\t\t\ttext: this.options.desktop.buttonName,\n\t\t\t\tuseAirDesign: true,\n\t\t\t\tstyle: AirButtonStyle.FILLED,\n\t\t\t\tnoCaps: true,\n\t\t\t\tonclick: () => {\n\t\t\t\t\tdesktopDownload.handleDownloadClick(button);\n\t\t\t\t},\n\t\t\t\twide: true,\n\t\t\t})).render();\n\n\t\t\treturn Tag.render`\n\t\t\t\t<span class=\"intranet-avatar-widget-secondary-tool-application__button-wrapper\">\n\t\t\t\t\t${button}\n\t\t\t\t</span>\n\t\t\t`;\n\t\t});\n\t}\n\n\t#getMobileIcon(): HTMLElement\n\t{\n\t\treturn this.cache.remember('mobileIcon', () => {\n\t\t\tlet className = 'ui-icon-set --mobile-selected intranet-avatar-widget-secondary-tool-application__icon';\n\n\t\t\tif (this.options.mobile.installed)\n\t\t\t{\n\t\t\t\tclassName += ' --installed';\n\t\t\t}\n\n\t\t\treturn Tag.render`\n\t\t\t\t<i class=\"${className}\"/>\n\t\t\t`;\n\t\t});\n\t}\n\n\t#getDesktopIcon(): HTMLElement\n\t{\n\t\treturn this.cache.remember('desktopIcon', () => {\n\t\t\tlet className = 'ui-icon-set intranet-avatar-widget-secondary-tool-application__icon';\n\n\t\t\tif (this.options.desktop.installed)\n\t\t\t{\n\t\t\t\tclassName += ' --screen-selected --installed';\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tclassName += ' --o-screen';\n\t\t\t}\n\n\t\t\treturn Tag.render`\n\t\t\t\t<i class=\"${className}\"/>\n\t\t\t`;\n\t\t});\n\t}\n\n\t#getInstallMenu(bindElement: HTMLElement): Menu\n\t{\n\t\treturn this.cache.remember('installMenu', () => {\n\t\t\tconst items = this.#getInstallMenuItems();\n\n\t\t\tif (items.length === 0)\n\t\t\t{\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\treturn new Menu({\n\t\t\t\tbindElement,\n\t\t\t\titems,\n\t\t\t\toffsetLeft: 5,\n\t\t\t\tangle: true,\n\t\t\t\tfixed: true,\n\t\t\t});\n\t\t});\n\t}\n\n\t#getInstallMenuItems(): Array\n\t{\n\t\tconst items = [];\n\n\t\tthis.options.menu.forEach((item) => {\n\t\t\tif (item.type === 'desktop')\n\t\t\t{\n\t\t\t\titems.push({\n\t\t\t\t\ttext: item.title,\n\t\t\t\t\thref: item.installLink,\n\t\t\t\t\tonclick: () => {\n\t\t\t\t\t\tAnalytics.send(Analytics.EVENT_CLICK_INSTALL_DESKTOP_APP);\n\t\t\t\t\t\tthis.#getInstallMenu().close();\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t}\n\t\t\telse if (item.type === 'mobile')\n\t\t\t{\n\t\t\t\titems.push({\n\t\t\t\t\ttext: item.title,\n\t\t\t\t\tonclick: () => {\n\t\t\t\t\t\tAnalytics.send(Analytics.EVENT_CLICK_INSTALL_MOBILE_APP);\n\t\t\t\t\t\tthis.#getInstallMenu().close();\n\t\t\t\t\t\tEventEmitter.emit('BX.Intranet.AvatarWidget.ApplicationInstallerTool:onClick');\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\treturn items;\n\t}\n\n\tonClick(): void\n\t{}\n\n\tgetId(): string\n\t{\n\t\treturn 'applications-installer';\n\t}\n}\n","import { Content } from './content';\nimport { Tag, Dom } from 'main.core';\nimport type { BaseSecondaryTool } from '../tools/base-secondary-tool';\nimport type { BaseTool } from '../tools/base-tool';\nimport { InstallMobileTool } from '../tools/install-mobile-tool';\nimport { FastMobileAuthTool } from '../tools/fast-mobile-auth-tool';\nimport { ApplicationsInstallerTool } from '../tools/applications-installer-tool';\n\nexport class ApplicationContent extends Content\n{\n\tgetLayout(): HTMLElement\n\t{\n\t\treturn this.cache.remember('layout', () => {\n\t\t\tconst container = Tag.render`\n\t\t\t\t<div data-testid=\"bx-avatar-widget-content-application\" class=\"intranet-avatar-widget-item__wrapper\"></div>\n\t\t\t`;\n\t\t\tthis.#getTools().forEach((tool) => {\n\t\t\t\tDom.append(tool.getLayout(), container);\n\t\t\t});\n\n\t\t\treturn container;\n\t\t});\n\t}\n\n\t#getTools(): Array<BaseSecondaryTool | BaseTool>\n\t{\n\t\treturn this.cache.remember('tools', () => {\n\t\t\tconst tools = this.getOptions().tools;\n\n\t\t\treturn [\n\t\t\t\ttools.installMobile ? new InstallMobileTool(tools.installMobile) : null,\n\t\t\t\ttools.fastMobileAuth ? new FastMobileAuthTool(tools.fastMobileAuth) : null,\n\t\t\t\ttools.applicationsInstaller ? new ApplicationsInstallerTool(tools.applicationsInstaller) : null,\n\t\t\t].filter(Boolean);\n\t\t});\n\t}\n}\n","import { Content } from './content';\nimport { Tag } from 'main.core';\nimport { AirButtonStyle, Button } from 'ui.buttons';\nimport { EventEmitter } from 'main.core.events';\n\nexport class HeaderSubsectionContent extends Content\n{\n\tgetConfig(): Object\n\t{\n\t\treturn {\n\t\t\thtml: this.getLayout(),\n\t\t};\n\t}\n\n\tgetLayout(): HTMLElement\n\t{\n\t\treturn this.cache.remember('layout', () => {\n\t\t\treturn Tag.render`\n\t\t\t\t<div data-testid=\"bx-avatar-widget-content-${this.getId()}\" class=\"intranet-avatar-widget-item__wrapper\">\n\t\t\t\t\t<div class=\"intranet-avatar-widget-item-subsection__header\">\n\t\t\t\t\t\t${this.#getBackButton().render()}\n\t\t\t\t\t\t<span class=\"intranet-avatar-widget-item-subsection__title\">\n\t\t\t\t\t\t\t${this.getOptions().title}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t${this.getContentWrapper()}\n\t\t\t\t</div>\n\t\t\t`;\n\t\t});\n\t}\n\n\t#getBackButton(): Button\n\t{\n\t\treturn this.cache.remember('backButton', () => {\n\t\t\tconst button = new Button({\n\t\t\t\ticon: 'chevron-left-l',\n\t\t\t\tsize: Button.Size.EXTRA_EXTRA_SMALL,\n\t\t\t\tstyle: AirButtonStyle.OUTLINE,\n\t\t\t\tuseAirDesign: true,\n\t\t\t\tonclick: () => {\n\t\t\t\t\tEventEmitter.emit('BX.Intranet.AvatarWidget.Subsection:back');\n\t\t\t\t},\n\t\t\t});\n\t\t\tbutton.setCollapsed(true);\n\n\t\t\treturn button;\n\t\t});\n\t}\n\n\tgetId(): string\n\t{\n\t\treturn '';\n\t}\n}\n","import { Tag } from 'main.core';\nimport { ShortQrAuth } from 'ui.short-qr-auth';\nimport { HeaderSubsectionContent } from './header-subsection-content';\n\nexport class MobileAuthContent extends HeaderSubsectionContent\n{\n\tgetContentWrapper(): HTMLElement\n\t{\n\t\treturn this.cache.remember('content', () => {\n\t\t\treturn Tag.render`\n\t\t\t\t<div class=\"intranet-avatar-widget-fast-mobile-auth__wrapper\">\n\t\t\t\t\t${this.#getQR().render()}\n\t\t\t\t\t${this.#getWarning()}\n\t\t\t\t</div>\n\t\t\t`;\n\t\t});\n\t}\n\n\tgetId(): string\n\t{\n\t\treturn 'mobile-auth';\n\t}\n\n\t#getQR(): ShortQrAuth\n\t{\n\t\treturn this.cache.remember('qr', () => {\n\t\t\treturn new ShortQrAuth({ intent: 'profile', small: false, stub: false });\n\t\t});\n\t}\n\n\t#getWarning(): HTMLElement\n\t{\n\t\treturn this.cache.remember('warning', () => {\n\t\t\treturn Tag.render`\n\t\t\t\t<div class=\"intranet-avatar-widget-fast-mobile-auth-tool__warning\">\n\t\t\t\t\t${this.getOptions().warning}\n\t\t\t\t</div>\n\t\t\t`;\n\t\t});\n\t}\n}\n","import { BaseSecondaryTool } from './base-secondary-tool';\nimport { SidePanel } from 'main.sidepanel';\nimport { Analytics } from '../analytics';\n\nexport class SecuritySecondaryTool extends BaseSecondaryTool\n{\n\tgetIconClass(): string\n\t{\n\t\treturn '--o-shield-checked';\n\t}\n\n\tonClick(): void\n\t{\n\t\tAnalytics.send(Analytics.EVENT_CLICK_2FA_SETUP);\n\t\tSidePanel.Instance.open(this.options.url, { width: 1100 });\n\t}\n\n\tgetId(): string\n\t{\n\t\treturn 'security';\n\t}\n}\n","import { SecondaryContent } from './secondary-content';\nimport type { BaseSecondaryTool } from '../tools/base-secondary-tool';\nimport { SecuritySecondaryTool } from '../tools/security-secondary-tool';\nimport { ThemeSecondaryTool } from '../tools/theme-secondary-tool';\n\nexport class ExtranetSecondaryContent extends SecondaryContent\n{\n\tgetTools(): Array<BaseSecondaryTool>\n\t{\n\t\treturn this.cache.remember('tools', () => {\n\t\t\tconst tools = this.getOptions().tools;\n\n\t\t\treturn [\n\t\t\t\ttools.security ? new SecuritySecondaryTool(tools.security) : null,\n\t\t\t\ttools.theme ? new ThemeSecondaryTool(tools.theme) : null,\n\t\t\t].filter(Boolean);\n\t\t});\n\t}\n\n\tgetId(): string\n\t{\n\t\treturn 'extranet-secondary';\n\t}\n}\n","import { Content } from './content';\nimport { Runtime, Tag, ajax, Dom } from 'main.core';\nimport { EventEmitter } from 'main.core.events';\n\nexport class AnnualSummaryContent extends Content\n{\n\t#annualSummaryPopup = null;\n\n\tgetLayout(): HTMLElement\n\t{\n\t\treturn this.cache.remember('layout', () => {\n\t\t\treturn Tag.render`\n\t\t\t\t<div\n\t\t\t\t\t\tdata-testid=\"bx-avatar-widget-tool-${this.getId()}\"\n\t\t\t\t\t\tonclick=\"${this.onClick.bind(this)}\"\n\t\t\t\t\t\tclass=\"intranet-avatar-widget-item__wrapper intranet-avatar-widget-annual-summary-tool__wrapper\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t<div class=\"intranet-avatar-widget-annual-summary-tool__background\"></div>\n\t\t\t\t\t\t<span class=\"intranet-avatar-widget-annual-summary-tool__title\">\n\t\t\t\t\t\t\t${this.getTitle()}\n\t\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t`;\n\t\t});\n\t}\n\n\tgetTitle(): string\n\t{\n\t\treturn this.getOptions().title;\n\t}\n\n\tonClick(): void\n\t{\n\t\tif (this.#annualSummaryPopup)\n\t\t{\n\t\t\tthis.#annualSummaryPopup.show();\n\t\t\tEventEmitter.emit('BX.Intranet.AvatarWidget.Popup:openChild');\n\n\t\t\treturn;\n\t\t}\n\n\t\tDom.addClass(this.getLayout(), 'intranet-avatar-widget-annual-summary-tool__wrapper--loading');\n\n\t\tPromise.all([\n\t\t\tajax.runAction('intranet.v2.AnnualSummary.load', {}),\n\t\t\tRuntime.loadExtension('intranet.notify-banner.annual-summary'),\n\t\t]).then(([response, { AnnualSummary }]) => {\n\t\t\tconst { topFeatures, options } = response.data;\n\t\t\tDom.removeClass(this.getLayout(), 'intranet-avatar-widget-annual-summary-tool__wrapper--loading');\n\t\t\tEventEmitter.emit('BX.Intranet.AvatarWidget.Popup:openChild');\n\t\t\tthis.#annualSummaryPopup = new AnnualSummary(topFeatures, { ...options, section: 'profile' });\n\t\t\tthis.#annualSummaryPopup.subscribe('onShow', () => BX.userOptions.save('intranet', 'annual_summary_25_last_show', null, Math.floor(Date.now() / 1000)));\n\t\t\tthis.#annualSummaryPopup.show();\n\t\t}).catch((error) => {\n\t\t\tconsole.error(error);\n\t\t});\n\t}\n\n\tgetId(): string\n\t{\n\t\treturn 'annual-summary';\n\t}\n}\n","import { Cache, Dom } from 'main.core';\nimport { EventEmitter } from 'main.core.events';\nimport { PopupComponentsMaker } from 'ui.popupcomponentsmaker';\nimport { MainContent } from './content/main-content';\nimport { FooterContent } from './content/footer-content';\nimport { SecondaryContent } from './content/secondary-content';\nimport { ApplicationContent } from './content/application-content';\nimport { MobileAuthContent } from './content/mobile-auth-content';\nimport { Analytics } from './analytics';\nimport type { ConfigOptions, PopupOptions } from './types';\nimport { ExtranetSecondaryContent } from './content/extranet-secondary-content';\nimport { AnnualSummaryContent } from './content/annual-summary-content';\n\nexport class Popup extends EventEmitter\n{\n\t#cache = new Cache.MemoryCache();\n\t#popupsShowAfterBasePopup: Array<Popup> = [];\n\n\tconstructor(options: PopupOptions)\n\t{\n\t\tsuper();\n\t\tthis.setOptions(options);\n\t\tthis.setEventNamespace('BX.Intranet.AvatarWidget.Popup');\n\t\tthis.setEventHandlers();\n\t}\n\n\tsetOptions(options: PopupOptions): void\n\t{\n\t\tthis.#cache.set('options', options);\n\t}\n\n\tgetOptions(): PopupOptions\n\t{\n\t\treturn this.#cache.get('options', {});\n\t}\n\n\tshow(): void\n\t{\n\t\tthis.getBasePopup().show();\n\t\tthis.emit('show');\n\t\tAnalytics.send(Analytics.EVENT_OPEN_WIDGET);\n\t}\n\n\tclose(): void\n\t{\n\t\tthis.getBasePopup().close();\n\t}\n\n\tgetBasePopup(): PopupComponentsMaker\n\t{\n\t\treturn this.#cache.remember('popup', () => {\n\t\t\tthis.emit('beforeInit');\n\n\t\t\tconst popup = new PopupComponentsMaker({\n\t\t\t\ttarget: this.getOptions().target,\n\t\t\t\twidth: 390,\n\t\t\t\tcontent: this.#getContent(),\n\t\t\t\tpopupLoader: this.getOptions().loader,\n\t\t\t\tpadding: 0,\n\t\t\t\toffsetTop: -50,\n\t\t\t\toffsetLeft: 0,\n\t\t\t});\n\t\t\tpopup.getPopup().setFixed(true);\n\t\t\tconst setOverlay = () => {\n\t\t\t\tif (BX.SidePanel.Instance.isOpen())\n\t\t\t\t{\n\t\t\t\t\tpopup.getPopup().setOverlay({\n\t\t\t\t\t\tbackgroundColor: 'transparent',\n\t\t\t\t\t});\n\t\t\t\t\tpopup.getPopup().showOverlay();\n\t\t\t\t}\n\t\t\t};\n\t\t\tsetOverlay();\n\t\t\tpopup.getPopup().subscribe('onClose', () => {\n\t\t\t\tthis.#popupsShowAfterBasePopup = [];\n\t\t\t\tpopup.getPopup().removeOverlay();\n\t\t\t});\n\t\t\tpopup.getPopup().subscribe('onBeforeShow', setOverlay);\n\t\t\tthis.#cache.set('popup', popup);\n\t\t\tthis.#cache.set('contentWrapper', popup.getContentWrapper());\n\n\t\t\tthis.emit('afterInit');\n\n\t\t\treturn popup;\n\t\t});\n\t}\n\n\t#getContent(): Array<ConfigOptions>\n\t{\n\t\treturn this.#cache.remember('content', () => {\n\t\t\tconst content = [\n\t\t\t\tthis.#getMainContent().getConfig(),\n\t\t\t];\n\n\t\t\tif (this.getOptions().content.promo)\n\t\t\t{\n\t\t\t\tcontent.push(this.#getAnnualSummaryContent().getConfig());\n\t\t\t}\n\n\t\t\tcontent.push(this.#getApplicationContent().getConfig());\n\n\t\t\tif (this.getOptions().content.extranetSecondary)\n\t\t\t{\n\t\t\t\tcontent.push(this.#getExtranetSecondaryContent().getConfig());\n\t\t\t}\n\n\t\t\tif (this.getOptions().content.secondary)\n\t\t\t{\n\t\t\t\tcontent.push(this.#getSecondaryContent().getConfig());\n\t\t\t}\n\n\t\t\tcontent.push(this.#getFooterContent().getConfig());\n\n\t\t\treturn content;\n\t\t});\n\t}\n\n\t#getAnnualSummaryContent(): MobileAuthContent\n\t{\n\t\treturn this.#cache.remember('annualSummaryContent', () => {\n\t\t\treturn new AnnualSummaryContent({\n\t\t\t\t...this.getOptions().content.promo.tools.annualSummary,\n\t\t\t});\n\t\t});\n\t}\n\n\n\t#getMainContent(): MainContent\n\t{\n\t\treturn this.#cache.remember('mainContent', () => {\n\t\t\treturn new MainContent({\n\t\t\t\t...this.getOptions().content.main,\n\t\t\t});\n\t\t});\n\t}\n\n\t#getSecondaryContent(): SecondaryContent\n\t{\n\t\treturn this.#cache.remember('secondaryContent', () => {\n\t\t\treturn new SecondaryContent({\n\t\t\t\t...this.getOptions().content.secondary,\n\t\t\t});\n\t\t});\n\t}\n\n\t#getApplicationContent(): ApplicationContent\n\t{\n\t\treturn this.#cache.remember('applicationContent', () => {\n\t\t\treturn new ApplicationContent({\n\t\t\t\t...this.getOptions().content.application,\n\t\t\t});\n\t\t});\n\t}\n\n\t#getFooterContent(): FooterContent\n\t{\n\t\treturn this.#cache.remember('footerContent', () => {\n\t\t\treturn new FooterContent({\n\t\t\t\t...this.getOptions().content.footer,\n\t\t\t});\n\t\t});\n\t}\n\n\t#getMobileAuthContent(): MobileAuthContent\n\t{\n\t\treturn this.#cache.remember('mobileAuthContent', () => {\n\t\t\treturn new MobileAuthContent({\n\t\t\t\t...this.getOptions().content.mobileAuth.tools.fastMobileAuth,\n\t\t\t});\n\t\t});\n\t}\n\n\t#getFastMobileAuthSubsection(): HTMLElement\n\t{\n\t\treturn this.#cache.remember('fastMobileAuthSubsection', () => {\n\t\t\treturn (new PopupComponentsMaker(\n\t\t\t\t{ content: [this.#getMobileAuthContent().getConfig()] },\n\t\t\t)).getContentWrapper();\n\t\t});\n\t}\n\n\t#getExtranetSecondaryContent(): ExtranetSecondaryContent\n\t{\n\t\treturn this.#cache.remember('extranetSecondaryContent', () => {\n\t\t\treturn new ExtranetSecondaryContent({\n\t\t\t\t...this.getOptions().content.extranetSecondary,\n\t\t\t});\n\t\t});\n\t}\n\n\tsetEventHandlers(): void\n\t{\n\t\tthis.subscribe('beforeInit', () => {\n\t\t\tEventEmitter.subscribe('BX.Intranet.AvatarWidget.Popup:makeWithHint', () => {\n\t\t\t\tthis.subscribe('afterInit', () => {\n\t\t\t\t\tBX.UI.Hint.init(this.getBasePopup().getPopup().getPopupContainer());\n\t\t\t\t});\n\t\t\t});\n\t\t\tthis.subscribe('afterInit', () => {\n\t\t\t\tthis.#setAutoHideEventHandlers();\n\t\t\t\tthis.#setSubsectionEventHandlers();\n\n\t\t\t\tconst close = () => {\n\t\t\t\t\tthis.close();\n\t\t\t\t};\n\n\t\t\t\tEventEmitter.subscribe('SidePanel.Slider:onOpenStart', close);\n\t\t\t\tEventEmitter.subscribe('BX.Intranet.AvatarWidget.Popup:openChild', close);\n\t\t\t});\n\t\t});\n\t}\n\n\t#setAutoHideEventHandlers(): void\n\t{\n\t\tEventEmitter.subscribe('BX.Main.Popup:onShow', (event) => {\n\t\t\tif (!this.getBasePopup().getPopup().isShown())\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tDom.style(this.getBasePopup().getPopup().getPopupContainer(), 'overflow-y', 'hidden');\n\n\t\t\tconst popup = event.getTarget();\n\n\t\t\tif (popup && popup.getId() === this.getBasePopup().getPopup().getId())\n\t\t\t{\n\t\t\t\tthis.getBasePopup().getPopup().setAutoHide(true);\n\t\t\t\tEventEmitter.emit('BX.Intranet.AvatarWidget.Popup:enabledAutoHide');\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.getBasePopup().getPopup().setAutoHide(false);\n\t\t\t\tEventEmitter.emit('BX.Intranet.AvatarWidget.Popup:disabledAutoHide');\n\n\t\t\t\tif (!this.#popupsShowAfterBasePopup.includes(popup))\n\t\t\t\t{\n\t\t\t\t\tthis.#popupsShowAfterBasePopup.push(popup);\n\t\t\t\t}\n\n\t\t\t\tconst handler = () => {\n\t\t\t\t\tthis.#popupsShowAfterBasePopup = this.#popupsShowAfterBasePopup.filter((item) => item !== popup);\n\n\t\t\t\t\tif (this.#popupsShowAfterBasePopup.length === 0)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.getBasePopup().getPopup().setAutoHide(true);\n\t\t\t\t\t\tDom.style(this.getBasePopup().getPopup().getPopupContainer(), 'overflow-y', 'auto');\n\t\t\t\t\t\tEventEmitter.emit('BX.Intranet.AvatarWidget.Popup:enabledAutoHide');\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tpopup.subscribeOnce('onClose', handler);\n\t\t\t\tpopup.subscribeOnce('onDestroy', handler);\n\t\t\t}\n\t\t});\n\t}\n\n\t#setSubsectionEventHandlers(): void\n\t{\n\t\tconst openFastMobileAuthSubsection = () => {\n\t\t\tconst subsection = this.#getFastMobileAuthSubsection();\n\t\t\tthis.getBasePopup().getPopup().setContent(subsection);\n\t\t};\n\t\tEventEmitter.subscribe('BX.Intranet.AvatarWidget.FastMobileAuthTool:onClick', openFastMobileAuthSubsection);\n\t\tEventEmitter.subscribe('BX.Intranet.AvatarWidget.ApplicationInstallerTool:onClick', openFastMobileAuthSubsection);\n\t\tEventEmitter.subscribe('BX.Intranet.AvatarWidget.Subsection:back', () => {\n\t\t\tthis.getBasePopup().getPopup().setContent(this.getBasePopup().getContentWrapper());\n\t\t});\n\t}\n}\n","import { Cache } from 'main.core';\nimport { Popup } from './popup';\nimport type { GeneralOptions } from './types';\nimport './style.css';\n\nexport class AvatarWidget\n{\n\t#cache = new Cache.MemoryCache();\n\tstatic #instance: AvatarWidget;\n\n\tstatic getInstance(): AvatarWidget\n\t{\n\t\tif (!this.#instance)\n\t\t{\n\t\t\tthis.#instance = new this();\n\t\t}\n\n\t\treturn this.#instance;\n\t}\n\n\tshow(): void\n\t{\n\t\tif (this.#getPopup().getBasePopup().isShown())\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tthis.#getPopup().show();\n\t}\n\n\tsetOptions(options: GeneralOptions): AvatarWidget\n\t{\n\t\tthis.#cache.set('options', options);\n\n\t\treturn this;\n\t}\n\n\tgetOptions(): GeneralOptions\n\t{\n\t\treturn this.#cache.get('options', {});\n\t}\n\n\t#getPopup(): Popup\n\t{\n\t\treturn this.#cache.remember('popup', () => {\n\t\t\treturn new Popup({\n\t\t\t\ttarget: this.getOptions().buttonWrapper,\n\t\t\t\tloader: this.getOptions().loader,\n\t\t\t\tcontent: {\n\t\t\t\t\t...this.getOptions().data,\n\t\t\t\t},\n\t\t\t});\n\t\t});\n\t}\n}\n"],"names":["Content","EventEmitter","constructor","options","cache","Cache","MemoryCache","setOptions","setEventNamespace","set","getOptions","get","getLayout","Error","getConfig","html","minHeight","margin","Analytics","send","event","sendData","tool","TOOLS","category","CATEGORY","sendOpenProfile","CATEGORY_PROFILE","EVENT_PROFILE_VIEW","c_section","sendOpenCommonSecurity","EVENT_OPEN_WIDGET","EVENT_CLICK_SALARY","EVENT_CLICK_INSTALL_DESKTOP_APP","EVENT_CLICK_INSTALL_MOBILE_APP","EVENT_CLICK_FAST_MOBILE_AUTH","EVENT_CLICK_2FA_SETUP","EVENT_CLICK_EXTENSION","EVENT_CLICK_LOGOUT","EVENT_CLICK_CHANGE_PORTAL_THEME","EVENT_CLICK_NETWORK","EVENT_CLICK_ACTIVITY_PORTAL_LIST","EVENT_CLICK_PULSE","EVENT_CLICK_MY_DOCUMENTS","BaseTool","getIconClass","onClick","getIconElement","getTitle","title","text","BaseMainTool","remember","Tag","render","getId","bind","getCounter","counter","ExtensionTool","toggle","menu","Menu","bindElement","items","angle","cachable","offsetLeft","fixed","subscribe","close","SecurityTool","SidePanel","Instance","open","url","width","hasCounter","PULL","moduleId","command","counterEventName","callback","destroy","icon","querySelector","Dom","removeClass","delete","Counter","color","Color","DANGER","size","Size","MEDIUM","value","style","CounterStyle","FILLED_ALERT","useAirDesign","MyDocumentsTool","isLocked","FeaturePromotersRegistry","getPromoter","code","show","userId","Number","Loc","getMessage","Router","openSlider","cacheable","params","Type","isNumber","needActionCount","update","SalaryVacationTool","container","isHidden","isDisabled","attr","Event","disabledHint","hide","SalaryVacationMenu","BX","UI","Hint","createInstance","popupParameters","MainContent","onclick","getContainer","stopPropagation","preventDefault","fullName","workPosition","userpicPath","encodeURI","userPhotoSrc","avatar","role","AvatarRoundExtranet","AvatarRoundGuest","AvatarRound","status","vacation","wrapper","append","addClass","isTimemanAvailable","WorkStatusControlPanel","renderWorkStatusControlPanel","error","console","tools","Object","keys","length","forEach","myDocuments","salaryVacation","security","extension","filter","Boolean","data","id","toString","preparedUrl","setUserPic","innerHTML","BaseFooterTool","ThemeTool","emit","Intranet","Bitrix24","ThemePicker","Singleton","showDialog","PulseTool","ajax","runAction","mode","then","response","Runtime","window","openIntranetUStat","catch","LogoutTool","isNil","DesktopApi","isDesktop","logout","backUrl","Uri","location","pathname","removeQueryParam","newUrl","path","setQueryParam","bitrix_sessid","encodeURIComponent","document","href","FooterContent","withoutBackground","theme","pulse","BaseSecondaryTool","getActionElement","AccountChangerTool","type","DesktopAccountList","AdministrationTool","PerformanUserProfileTool","loadExtension","Performan","Application","UserProfile","ThemeSecondaryTool","SecondaryContent","getTools","accountChanger","admin","performanUserProfile","InstallMobileTool","FastMobileAuthTool","ApplicationsInstallerTool","mobile","installed","desktop","element","target","desktopDownload","DesktopDownload","button","Button","EXTRA_SMALL","buttonName","AirButtonStyle","FILLED","noCaps","handleDownloadClick","wide","className","item","push","installLink","ApplicationContent","installMobile","fastMobileAuth","applicationsInstaller","HeaderSubsectionContent","getContentWrapper","EXTRA_EXTRA_SMALL","OUTLINE","setCollapsed","MobileAuthContent","ShortQrAuth","intent","small","stub","warning","SecuritySecondaryTool","ExtranetSecondaryContent","AnnualSummaryContent","Promise","all","AnnualSummary","topFeatures","section","userOptions","save","Math","floor","Date","now","Popup","setEventHandlers","getBasePopup","popup","PopupComponentsMaker","content","popupLoader","loader","padding","offsetTop","getPopup","setFixed","setOverlay","isOpen","backgroundColor","showOverlay","removeOverlay","init","getPopupContainer","promo","extranetSecondary","secondary","annualSummary","main","application","footer","mobileAuth","isShown","getTarget","setAutoHide","includes","handler","subscribeOnce","openFastMobileAuthSubsection","subsection","setContent","AvatarWidget","getInstance","buttonWrapper"],"mappings":";;;;;CAIO,MAAMA,OAAO,SAASC,6BAAY,CACzC;GAGCC,WAAW,CAACC,OAA2B,EACvC;KACC,KAAK,EAAE;KAAC,KAJTC,KAAK,GAAG,IAAIC,eAAK,CAACC,WAAW,EAAE;KAK9B,IAAI,CAACC,UAAU,CAACJ,OAAO,CAAC;KACxB,IAAI,CAACK,iBAAiB,CAAC,kCAAkC,CAAC;;GAG3DD,UAAU,CAACJ,OAA2B,EACtC;KACC,IAAI,CAACC,KAAK,CAACK,GAAG,CAAC,SAAS,EAAEN,OAAO,CAAC;KAElC,OAAO,IAAI;;GAGZO,UAAU,GACV;KACC,OAAO,IAAI,CAACN,KAAK,CAACO,GAAG,CAAC,SAAS,EAAE,EAAE,CAAC;;GAGrCC,SAAS,GACT;KACC,MAAM,IAAIC,KAAK,CAAC,sCAAsC,CAAC;;GAGxDC,SAAS,GACT;KACC,OAAO;OACNC,IAAI,EAAE,IAAI,CAACH,SAAS,EAAE;OACtBI,SAAS,EAAE,MAAM;OACjBC,MAAM,EAAE;MACR;;CAEH;;CCtCO,MAAMC,SAAS,CACtB;GAmBC,OAAOC,IAAI,CAACC,KAAa,EACzB;KACCC,qBAAQ,CAAC;OACRC,IAAI,EAAEJ,SAAS,CAACK,KAAK;OACrBC,QAAQ,EAAEN,SAAS,CAACO,QAAQ;OAC5BL;MACA,CAAC;;GAGH,OAAOM,eAAe,GACtB;KACCL,qBAAQ,CAAC;OACRC,IAAI,EAAEJ,SAAS,CAACK,KAAK;OACrBC,QAAQ,EAAEN,SAAS,CAACS,gBAAgB;OACpCP,KAAK,EAAEF,SAAS,CAACU,kBAAkB;OACnCC,SAAS,EAAEX,SAAS,CAACO;MACrB,CAAC;;GAGH,OAAOK,sBAAsB,GAC7B;KACCT,qBAAQ,CAAC;OACRC,IAAI,EAAE,UAAU;OAChBE,QAAQ,EAAE,iBAAiB;OAC3BJ,KAAK,EAAE,YAAY;OACnBS,SAAS,EAAEX,SAAS,CAACO;MACrB,CAAC;;CAEJ;CAhDaP,SAAS,CAEdK,KAAK,GAAG,UAAU;CAFbL,SAAS,CAGdO,QAAQ,GAAG,UAAU;CAHhBP,SAAS,CAIdS,gBAAgB,GAAG,cAAc;CAJ5BT,SAAS,CAKda,iBAAiB,GAAG,WAAW;CAL1Bb,SAAS,CAMdU,kBAAkB,GAAG,cAAc;CAN9BV,SAAS,CAOdc,kBAAkB,GAAG,cAAc;CAP9Bd,SAAS,CAQde,+BAA+B,GAAG,2BAA2B;CARxDf,SAAS,CASdgB,8BAA8B,GAAG,0BAA0B;CATtDhB,SAAS,CAUdiB,4BAA4B,GAAG,wBAAwB;CAVlDjB,SAAS,CAWdkB,qBAAqB,GAAG,iBAAiB;CAXpClB,SAAS,CAYdmB,qBAAqB,GAAG,iBAAiB;CAZpCnB,SAAS,CAadoB,kBAAkB,GAAG,cAAc;CAb9BpB,SAAS,CAcdqB,+BAA+B,GAAG,2BAA2B;CAdxDrB,SAAS,CAedsB,mBAAmB,GAAG,eAAe;CAfhCtB,SAAS,CAgBduB,gCAAgC,GAAG,4BAA4B;CAhB1DvB,SAAS,CAiBdwB,iBAAiB,GAAG,kBAAkB;CAjBjCxB,SAAS,CAkBdyB,wBAAwB,GAAG,yBAAyB;;CClBrD,MAAMC,QAAQ,CACrB;GAGC1C,WAAW,CAACC,OAAO,GAAG,EAAE,EACxB;KAAA,KAHAC,KAAK,GAAG,IAAIC,eAAK,CAACC,WAAW,EAAE;KAI9B,IAAI,CAACH,OAAO,GAAGA,OAAO;;GAGvBS,SAAS,GACT;KACC,MAAM,IAAIC,KAAK,CAAC,sCAAsC,CAAC;;GAGxDgC,YAAY,GACZ;KACC,MAAM,IAAIhC,KAAK,CAAC,sCAAsC,CAAC;;GAGxDiC,OAAO,GACP;KACC,MAAM,IAAIjC,KAAK,CAAC,sCAAsC,CAAC;;GAGxDkC,cAAc,GACd;KACC,MAAM,IAAIlC,KAAK,CAAC,sCAAsC,CAAC;;GAGxDmC,QAAQ,GACR;KACC,OAAO,IAAI,CAAC7C,OAAO,CAAC8C,KAAK,IAAI,IAAI,CAAC9C,OAAO,CAAC+C,IAAI,IAAI,EAAE;;CAEtD;;;;;;ACnCA,CACuC;AAEvC,CAAO,MAAMC,YAAY,SAASP,QAAQ,CAC1C;GAAA;KAAA;KAAA;OAAA;;;GACChC,SAAS,GACT;KACC,OAAO,IAAI,CAACR,KAAK,CAACgD,QAAQ,CAAC,QAAQ,EAAE,MAAM;OAC1C,OAAOC,aAAG,CAACC,MAAM,cAAC;mDAC4B,CAAe,cAAW,CAA0B;;QAE/F,CAAwB;QACxB,CAA4B;;;QAG5B,CAAkB;;;IAGrB,GATgD,IAAI,CAACC,KAAK,EAAE,EAAc,IAAI,CAACT,OAAO,CAACU,IAAI,CAAC,IAAI,CAAC,EAE5F,IAAI,CAACT,cAAc,EAAE,0CACrB,IAAI,6CAGJ,IAAI,CAACC,QAAQ,EAAE;MAIpB,CAAC;;GAGHD,cAAc,GACd;KACC,OAAO,IAAI,CAAC3C,KAAK,CAACgD,QAAQ,CAAC,MAAM,EAAE,MAAM;OACxC,OAAOC,aAAG,CAACC,MAAM,gBAAC,yBAAsB,CAAsB,4CAA0C,GAA9D,IAAI,CAACT,YAAY,EAAE;MAC7D,CAAC;;GAGHY,UAAU,GACV;KACC,OAAO,IAAI;;GAGZF,KAAK,GACL;KACC,OAAO,EAAE;;CAeX;CAAC,+BAXA;GACC,OAAO,IAAI,CAACnD,KAAK,CAACgD,QAAQ,CAAC,gBAAgB,EAAE,MAAM;KAClD,MAAMM,OAAO,GAAG,IAAI,CAACD,UAAU,EAAE;KAEjC,OAAOJ,aAAG,CAACC,MAAM,gBAAC;;OAEhB,CAAoB;;IAEtB,GAFII,OAAO,oBAAPA,OAAO,CAAEJ,MAAM,EAAE;IAGrB,CAAC;CACH;;CC/CwC;AAEzC,CAAO,MAAMK,aAAa,SAASR,YAAY,CAC/C;GAAA;KAAA;KAAA;OAAA;;;GACCN,YAAY,GACZ;KACC,OAAO,SAAS;;GAGjBC,OAAO,GACP;KACC5B,SAAS,CAACC,IAAI,CAACD,SAAS,CAACmB,qBAAqB,CAAC;KAC/C,4CAAI,wBAAYuB,MAAM,EAAE;;GAsBzBL,KAAK,GACL;KACC,OAAO,WAAW;;CAEpB;CAAC,qBAtBA;GACC,OAAO,IAAI,CAACnD,KAAK,CAACgD,QAAQ,CAAC,MAAM,EAAE,MAAM;KACxC,MAAMS,IAAI,GAAG,IAAIC,eAAI,CAAC;OACrBC,WAAW,EAAE,IAAI,CAAChB,cAAc,EAAE;OAClCiB,KAAK,EAAE,IAAI,CAAC7D,OAAO,CAAC6D,KAAK;OACzBC,KAAK,EAAE,IAAI;OACXC,QAAQ,EAAE,KAAK;OACfC,UAAU,EAAE,EAAE;OACdC,KAAK,EAAE;MACP,CAAC;KACFnE,6BAAY,CAACoE,SAAS,CAAC,8BAA8B,EAAE,MAAM;OAC5DR,IAAI,CAACS,KAAK,EAAE;MACZ,CAAC;KAEF,OAAOT,IAAI;IACX,CAAC;CACH;;CC5BM,MAAMU,YAAY,SAASpB,YAAY,CAC9C;GACCN,YAAY,GACZ;KACC,OAAO,oBAAoB;;GAG5BC,OAAO,GACP;KACC5B,SAAS,CAACC,IAAI,CAACD,SAAS,CAACkB,qBAAqB,CAAC;KAC/CoC,wBAAS,CAACC,QAAQ,CAACC,IAAI,CAAC,IAAI,CAACvE,OAAO,CAACwE,GAAG,EAAE;OAAEC,KAAK,EAAE;MAAM,CAAC;;GAG3DnB,UAAU,GACV;KACC,OAAO,IAAI,CAACrD,KAAK,CAACgD,QAAQ,CAAC,SAAS,EAAE,MAAM;OAC3C,IAAI,CAAC,IAAI,CAACjD,OAAO,CAAC0E,UAAU,EAC5B;SACC,OAAO,IAAI;;OAGZC,gBAAI,CAACT,SAAS,CAAC;SACdU,QAAQ,EAAE,UAAU;SACpBC,OAAO,EAAE,IAAI,CAAC7E,OAAO,CAAC8E,gBAAgB;SACtCC,QAAQ,EAAE,MAAM;WACf,IAAI,CAACzB,UAAU,EAAE,CAAC0B,OAAO,EAAE;WAC3B,MAAMC,IAAI,GAAG,IAAI,CAACxE,SAAS,EAAE,CAACyE,aAAa,CAAC,oCAAoC,CAAC;WACjFC,aAAG,CAACC,WAAW,CAACH,IAAI,EAAE,UAAU,CAAC;WACjC,IAAI,CAAChF,KAAK,CAACoF,MAAM,CAAC,SAAS,CAAC;;QAE7B,CAAC;OAEF,OAAO,IAAIC,cAAO,CAAC;SAClBC,KAAK,EAAED,cAAO,CAACE,KAAK,CAACC,MAAM;SAC3BC,IAAI,EAAEJ,cAAO,CAACK,IAAI,CAACC,MAAM;SACzBC,KAAK,EAAE,CAAC;SACRC,KAAK,EAAEC,mBAAY,CAACC,YAAY;SAChCC,YAAY,EAAE;QACd,CAAC;MACF,CAAC;;GAGH7C,KAAK,GACL;KACC,OAAO,UAAU;;CAEnB;;CC7CO,MAAM8C,eAAe,SAASlD,YAAY,CACjD;GACCN,YAAY,GACZ;KACC,OAAO,UAAU;;GAGlBC,OAAO,GACP;KACC5B,SAAS,CAACC,IAAI,CAACD,SAAS,CAACyB,wBAAwB,CAAC;KAClD,IAAI,IAAI,CAACxC,OAAO,CAACmG,QAAQ,EACzB;OACCC,sCAAwB,CAACC,WAAW,CAAC;SAAEC,IAAI,EAAE;QAA4B,CAAC,CAACC,IAAI,EAAE;OAEjF;;KAGD,MAAMC,MAAM,GAAGC,MAAM,CAACC,aAAG,CAACC,UAAU,CAAC,SAAS,CAAC,CAAC;KAEhD,IAAIH,MAAM,GAAG,CAAC,EACd;OACCI,iBAAM,CAACC,UAAU,CACf,GAAEH,aAAG,CAACC,UAAU,CAAC,UAAU,CAAE,yBAAwBH,MAAO,oBAAmB,EAChF;SAAE/B,KAAK,EAAE,IAAI;SAAEqC,SAAS,EAAE;QAAO,CACjC;;;GAIHxD,UAAU,GACV;KACC,OAAO,IAAI,CAACrD,KAAK,CAACgD,QAAQ,CAAC,SAAS,EAAE,MAAM;OAC3C,IAAIwD,MAAM,CAAC,IAAI,CAACzG,OAAO,CAACuD,OAAO,CAAC,GAAG,CAAC,EACpC;SACC,OAAO,IAAI;;OAGZoB,gBAAI,CAACT,SAAS,CAAC;SACdU,QAAQ,EAAE,MAAM;SAChBC,OAAO,EAAE,IAAI,CAAC7E,OAAO,CAAC8E,gBAAgB;SACtCC,QAAQ,EAAGgC,MAAM,IAAK;WACrB,IAAI,CAACC,cAAI,CAACC,QAAQ,CAACF,MAAM,oBAANA,MAAM,CAAEG,eAAe,CAAC,EAC3C;aACC;;WAGD,IAAI,CAAClH,OAAO,CAACuD,OAAO,GAAGwD,MAAM,CAACG,eAAe;WAE7C,IAAI,CAAAH,MAAM,oBAANA,MAAM,CAAEG,eAAe,IAAG,CAAC,EAC/B;aACC,IAAI,CAAC5D,UAAU,EAAE,CAAC6D,MAAM,CAACJ,MAAM,CAACG,eAAe,CAAC;YAChD,MAED;aACC,IAAI,CAAC5D,UAAU,EAAE,CAAC0B,OAAO,EAAE;aAC3B,MAAMC,IAAI,GAAG,IAAI,CAACxE,SAAS,EAAE,CAACyE,aAAa,CAAC,oCAAoC,CAAC;aACjFC,aAAG,CAACC,WAAW,CAACH,IAAI,EAAE,UAAU,CAAC;aACjC,IAAI,CAAChF,KAAK,CAACoF,MAAM,CAAC,SAAS,CAAC;;;QAG9B,CAAC;OAEF,OAAO,IAAIC,cAAO,CAAC;SAClBC,KAAK,EAAED,cAAO,CAACE,KAAK,CAACC,MAAM;SAC3BC,IAAI,EAAEJ,cAAO,CAACK,IAAI,CAACC,MAAM;SACzBC,KAAK,EAAE,IAAI,CAAC7F,OAAO,CAACuD,OAAO;SAC3BuC,KAAK,EAAEC,mBAAY,CAACC,YAAY;SAChCC,YAAY,EAAE;QACd,CAAC;MACF,CAAC;;GAGH7C,KAAK,GACL;KACC,OAAO,cAAc;;CAEvB;;CChFyC;CAAA;AAEzC,CAAO,MAAMgE,kBAAkB,SAASpE,YAAY,CACpD;GAAA;KAAA;KAAA;OAAA;;KAAA;OAAA;;;GACCN,YAAY,GACZ;KACC,OAAO,cAAc;;GAGtBjC,SAAS,GACT;KACC,MAAM4G,SAAS,GAAG,KAAK,CAAC5G,SAAS,EAAE;KAEnC,IAAI,4CAAI,4BAAY6G,QAAQ,EAAE,EAC9B;OACC,OAAO,IAAI;;KAGZ,IAAI,4CAAI,4BAAYC,UAAU,EAAE,EAChC;OACCpC,aAAG,CAACqC,IAAI,CAACH,SAAS,EAAE,WAAW,EAAE,EAAE,CAAC;OACpClC,aAAG,CAACqC,IAAI,CAACH,SAAS,EAAE,yBAAyB,EAAE,EAAE,CAAC;OAClDI,eAAK,CAACpE,IAAI,CAACgE,SAAS,EAAE,YAAY,EAAE,MAAM;SACzC,4CAAI,wCAAoBd,IAAI,CAACc,SAAS,EAAE,IAAI,CAACrH,OAAO,CAAC0H,YAAY,CAAC;QAClE,CAAC;OAEFD,eAAK,CAACpE,IAAI,CAACgE,SAAS,EAAE,YAAY,EAAE,MAAM;SACzC,4CAAI,wCAAoBM,IAAI,CAACN,SAAS,CAAC;QACvC,CAAC;;KAGH,OAAO,KAAK,CAAC5G,SAAS,EAAE;;GAGzBkC,OAAO,GACP;KACC5B,SAAS,CAACC,IAAI,CAACD,SAAS,CAACc,kBAAkB,CAAC;KAC5C,IAAI,CAAC,4CAAI,4BAAYyF,QAAQ,EAAE,IAAI,CAAC,4CAAI,4BAAYC,UAAU,EAAE,EAChE;OACC,4CAAI,4BAAYhB,IAAI,CAAC,IAAI,CAAC9F,SAAS,EAAE,CAAC;;;GAsBxC2C,KAAK,GACL;KACC,OAAO,iBAAiB;;CAE1B;CAAC,uBArBA;GACC,OAAO,IAAI,CAACnD,KAAK,CAACgD,QAAQ,CAAC,YAAY,EAAE,MAAM;KAC9C,OAAO,IAAI2E,4DAAkB,EAAE;IAC/B,CAAC;CACH;CAAC,6BAGD;GACC,OAAO,IAAI,CAAC3H,KAAK,CAACgD,QAAQ,CAAC,MAAM,EAAE,MAAM;KACxC,OAAO4E,EAAE,CAACC,EAAE,CAACC,IAAI,CAACC,cAAc,CAAC;OAChCC,eAAe,EAAE;SAChBhE,KAAK,EAAE;;MAER,CAAC;IACF,CAAC;CACH;;;;;;;;;;;AC9DD,CAWmE;CAAA;CAAA;CAAA;CAAA;CAAA;CAAA;CAAA;CAAA;CAAA;CAAA;AAEnE,CAAO,MAAMiE,WAAW,SAASrI,OAAO,CACxC;GAAA;KAAA;KAAA;OAAA;;KAAA;OAAA;;KAAA;OAAA;;KAAA;OAAA;;KAAA;OAAA;;KAAA;OAAA;;KAAA;OAAA;;KAAA;OAAA;;KAAA;OAAA;;KAAA;OAAA;;KAAA;OAAA;OAAA,OAC2B;;;GAE1Bc,SAAS,GACT;KACC,OAAO;OACNC,IAAI,EAAE,IAAI,CAACH,SAAS;MACpB;;GAGFF,UAAU,GACV;KACC,OAAO,KAAK,CAACA,UAAU,EAAE;;GAS1BE,SAAS,GACT;KACC,OAAO,IAAI,CAACR,KAAK,CAACgD,QAAQ,CAAC,QAAQ,EAAE,MAAM;OAC1C,4CAAI;OACJ,MAAMkF,OAAO,GAAG,MAAM;SACrB,4CAAI,IAAI,mCACR;WACCN,EAAE,CAACxD,SAAS,CAACC,QAAQ,CAACC,IAAI,CAAC,IAAI,CAAChE,UAAU,EAAE,CAACiE,GAAG,CAAC;WACjDzD,SAAS,CAACQ,eAAe,EAAE;;QAE5B;OAED,OAAO2B,aAAG,CAACC,MAAM,oBAAC;;qBAEF,CAAU;;SAEtB,CAAmC;;;SAGnC,CAAsB;SACtB,CAA0B;;;OAG5B,CAAoB;OACpB,CAA6B;OAC7B,CAA4B;;IAE9B,GAbkBgF,OAAO,EAEnB,4CAAI,4BAAcC,YAAY,EAAE,0CAGhC,IAAI,yEACJ,IAAI,iFAGN,IAAI,qEACJ,IAAI,uFACJ,IAAI;MAGR,CAAC;;CA4MJ;CAAC,iCA9OuBnH,KAAK,EAC5B;GACCA,KAAK,CAACoH,eAAe,EAAE;GACvBpH,KAAK,CAACqH,cAAc,EAAE;CACvB;CAAC,yBAkCD;GACC,OAAO,IAAI,CAACrI,KAAK,CAACgD,QAAQ,CAAC,OAAO,EAAE,MAAM;KACzC,OAAOC,aAAG,CAACC,MAAM,sBAAC;;aAEV,CAA6B;;;IAGrC,GAHU,IAAI,CAAC5C,UAAU,EAAE,CAACgI,QAAQ;IAIpC,CAAC;CACH;CAAC,6BAGD;GACC,OAAO,IAAI,CAACtI,KAAK,CAACgD,QAAQ,CAAC,cAAc,EAAE,MAAM;KAChD,IAAI,CAAC,IAAI,CAAC1C,UAAU,EAAE,CAACiI,YAAY,EACnC;OACC,OAAO,IAAI;;KAGZ,OAAOtF,aAAG,CAACC,MAAM,sBAAC;6DACsC,CAAiC;IACzF,GAD0D,IAAI,CAAC5C,UAAU,EAAE,CAACiI,YAAY;IAExF,CAAC;CACH;CAAC,uBAGD;GACC,OAAO,IAAI,CAACvI,KAAK,CAACgD,QAAQ,CAAC,QAAQ,EAAE,MAAM;KAC1C,MAAMjD,OAAO,GAAG;OACf0F,IAAI,EAAE,EAAE;OACR+C,WAAW,EAAEC,SAAS,CAAC,IAAI,CAACnI,UAAU,EAAE,CAACoI,YAAY;MACrD;KACD,IAAIC,MAAM,GAAG,IAAI;KAEjB,IAAI,IAAI,CAACrI,UAAU,EAAE,CAACsI,IAAI,KAAK,UAAU,EACzC;OACCD,MAAM,GAAG,IAAIE,6BAAmB,CAAC9I,OAAO,CAAC;MACzC,MACI,IAAI,IAAI,CAACO,UAAU,EAAE,CAACsI,IAAI,KAAK,UAAU,EAC9C;OACCD,MAAM,GAAG,IAAIG,0BAAgB,CAAC/I,OAAO,CAAC;MACtC,MAED;OACC4I,MAAM,GAAG,IAAII,qBAAW,CAAChJ,OAAO,CAAC;;KAGlC,OAAO4I,MAAM;IACb,CAAC;CACH;CAAC,uBAGD;GACC,OAAO,IAAI,CAAC3I,KAAK,CAACgD,QAAQ,CAAC,QAAQ,EAAE,MAAM;KAC1C,IAAI,CAAC,IAAI,CAAC1C,UAAU,EAAE,CAAC0I,MAAM,IAAI,CAAC,IAAI,CAAC1I,UAAU,EAAE,CAAC2I,QAAQ,EAC5D;OACC,OAAO,IAAI;;KAGZ,MAAMC,OAAO,GAAGjG,aAAG,CAACC,MAAM,kBAAC;;IAE3B,EAAC;KAED,IAAI,IAAI,CAAC5C,UAAU,EAAE,CAAC2I,QAAQ,EAC9B;OACC/D,aAAG,CAACiE,MAAM,CAAClG,aAAG,CAACC,MAAM,kBAAC;;QAEpB,CAA6B;;KAE/B,GAFI,IAAI,CAAC5C,UAAU,EAAE,CAAC2I,QAAQ,GAE3BC,OAAO,CAAC;;KAGZ,IAAI,IAAI,CAAC5I,UAAU,EAAE,CAAC0I,MAAM,EAC5B;OACC,MAAMA,MAAM,GAAG/F,aAAG,CAACC,MAAM,kBAAC;;QAExB,CAA2B;;KAE7B,GAFI,IAAI,CAAC5C,UAAU,EAAE,CAAC0I,MAAM,CAE3B;OAED,IAAI,IAAI,CAAC1I,UAAU,EAAE,CAACsI,IAAI,KAAK,UAAU,EACzC;SACC1D,aAAG,CAACkE,QAAQ,CAACJ,MAAM,EAAE,YAAY,CAAC;QAClC,MACI,IAAI,IAAI,CAAC1I,UAAU,EAAE,CAACsI,IAAI,KAAK,UAAU,EAC9C;SACC1D,aAAG,CAACkE,QAAQ,CAACJ,MAAM,EAAE,YAAY,CAAC;;OAGnC9D,aAAG,CAACiE,MAAM,CAACH,MAAM,EAAEE,OAAO,CAAC;;KAG5B,OAAOA,OAAO;IACd,CAAC;CACH;CAAC,gCAGD;GACC,OAAO,IAAI,CAAClJ,KAAK,CAACgD,QAAQ,CAAC,UAAU,EAAE,MAAM;KAC5C,IAAI,CAAC,IAAI,CAAC1C,UAAU,EAAE,CAAC+I,kBAAkB,EACzC;OACC,OAAO,IAAI;;KAGZ,IAAI,yCAAC,IAAI,2DAA6B,EACtC;OACC,OAAO,IAAI;;KAGZ,OAAOpG,aAAG,CAACC,MAAM,kBAAC;;;gBAGP,CAA8B;;OAEvC,CAAoC;;IAEtC,2CAJa,IAAI,2FAEb,IAAI;IAGR,CAAC;CACH;CAAC,uCAGD;GACC,OAAO,IAAI,CAAClD,KAAK,CAACgD,QAAQ,CAAC,mBAAmB,EAAE,MAAM;KACrD,IACA;OACC,OAAQ,IAAIsG,qDAAsB,EAAE,CAAEC,4BAA4B,EAAE;MACpE,CACD,OAAOC,KAAK,EACZ;OACCC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;OAEpB,OAAO,IAAI;;IAEZ,CAAC;CACH;CAAC,+BAGD;GACC,OAAO,IAAI,CAACxJ,KAAK,CAACgD,QAAQ,CAAC,iBAAiB,EAAE,MAAM;KACnD,IAAI,CAAC,IAAI,CAAC1C,UAAU,EAAE,CAACoJ,KAAK,IAAIC,MAAM,CAACC,IAAI,CAAC,IAAI,CAACtJ,UAAU,EAAE,CAACoJ,KAAK,CAAC,CAACG,MAAM,KAAK,CAAC,EACjF;OACC,OAAO,IAAI;;KAGZ,MAAMzC,SAAS,GAAGnE,aAAG,CAACC,MAAM,kBAAC;;IAE7B,EAAC;KACD,MAAMwG,KAAK,2CAAG,IAAI,yBAAY;KAE9BxE,aAAG,CAACW,KAAK,CAACuB,SAAS,EAAE,uBAAuB,EAAG,UAASsC,KAAK,CAACG,MAAO,QAAO,CAAC;KAE7EH,KAAK,CAACI,OAAO,CAAE5I,IAAI,IAAK;OACvBgE,aAAG,CAACiE,MAAM,CAACjI,IAAI,CAACV,SAAS,EAAE,EAAE4G,SAAS,CAAC;MACvC,CAAC;KAEF,OAAOA,SAAS;IAChB,CAAC;CACH;CAAC,sBAGD;GACC,OAAO,IAAI,CAACpH,KAAK,CAACgD,QAAQ,CAAC,OAAO,EAAE,MAAM;KACzC,MAAM0G,KAAK,GAAG,IAAI,CAACpJ,UAAU,EAAE,CAACoJ,KAAK;KAErC,OAAO,CACNA,KAAK,CAACK,WAAW,GAAG,IAAI9D,eAAe,CAACyD,KAAK,CAACK,WAAW,CAAC,GAAG,IAAI,EACjEL,KAAK,CAACM,cAAc,GAAG,IAAI7C,kBAAkB,CAACuC,KAAK,CAACM,cAAc,CAAC,GAAG,IAAI,EAC1EN,KAAK,CAACO,QAAQ,GAAG,IAAI9F,YAAY,CAACuF,KAAK,CAACO,QAAQ,CAAC,GAAG,IAAI,EACxDP,KAAK,CAACQ,SAAS,GAAG,IAAI3G,aAAa,CAACmG,KAAK,CAACQ,SAAS,CAAC,GAAG,IAAI,CAC3D,CAACC,MAAM,CAACC,OAAO,CAAC;IACjB,CAAC;CACH;CAAC,8BAGD;GACCvK,6BAAY,CAACoE,SAAS,CACrB,wCAAwC,EACxC,CAAC;KAAEoG,IAAI,EAAE,CAAC;OAAE9F,GAAG;OAAEgC;MAAQ;IAAG,KAAK;KAChC,IAAI,IAAI,CAACjG,UAAU,EAAE,CAACgK,EAAE,GAAG,CAAC,IAAI/D,MAAM,IAAI,IAAI,CAACjG,UAAU,EAAE,CAACgK,EAAE,CAACC,QAAQ,EAAE,KAAKhE,MAAM,CAACgE,QAAQ,EAAE,EAC/F;OACC,MAAMC,WAAW,GAAG/B,SAAS,CAAClE,GAAG,CAAC;OAClC,IAAI,CAACjE,UAAU,EAAE,CAACoI,YAAY,GAAG8B,WAAW;OAC5C,4CAAI,4BAAcC,UAAU,CAACD,WAAW,CAAC;;IAE1C,CACD;GACD3K,6BAAY,CAACoE,SAAS,CACrB,sCAAsC,EACtC,CAAC;KAAEoG,IAAI,EAAE,CAAC;OAAE/B;MAAU;IAAG,KAAK;KAC7B,IAAI,CAAChI,UAAU,EAAE,CAACgI,QAAQ,GAAGA,QAAQ;KACrC,4CAAI,gCAAgBrD,aAAa,CAAC,MAAM,CAAC,CAACyF,SAAS,GAAGpC,QAAQ;IAC9D,CACD;GACDzI,6BAAY,CAACoE,SAAS,CAAC,gDAAgD,EAAE,MAAM;KAC9E,4CAAI,oCAAkB,IAAI;IAC1B,CAAC;GACFpE,6BAAY,CAACoE,SAAS,CAAC,iDAAiD,EAAE,MAAM;KAC/E,4CAAI,oCAAkB,KAAK;IAC3B,CAAC;CACH;;;;AC1QD,CAEO,MAAM0G,cAAc,CAC3B;GAGC7K,WAAW,CAACC,OAAO,GAAG,EAAE,EACxB;KAAA,KAHAC,KAAK,GAAG,IAAIC,eAAK,CAACC,WAAW,EAAE;KAI9B,IAAI,CAACH,OAAO,GAAGA,OAAO;;GAGvBS,SAAS,GACT;KACC,OAAOyC,aAAG,CAACC,MAAM,oBAAC;oDAC8B,CAAe,cAAW,CAA0B;MAClG,CAAkB;;GAEpB,GAHkD,IAAI,CAACC,KAAK,EAAE,EAAc,IAAI,CAACT,OAAO,CAACU,IAAI,CAAC,IAAI,CAAC,EAC/F,IAAI,CAACR,QAAQ,EAAE;;GAKpBF,OAAO,GACP;KACC,MAAM,IAAIjC,KAAK,CAAC,sCAAsC,CAAC;;GAGxDmC,QAAQ,GACR;KACC,OAAO,IAAI,CAAC7C,OAAO,CAAC8C,KAAK,IAAI,IAAI,CAAC9C,OAAO,CAAC+C,IAAI,IAAI,EAAE;;GAGrDK,KAAK,GACL;KACC,OAAO,EAAE;;CAEX;;CC9BO,MAAMyH,SAAS,SAASD,cAAc,CAC7C;GACCjI,OAAO,GACP;KACC5B,SAAS,CAACC,IAAI,CAACD,SAAS,CAACqB,+BAA+B,CAAC;KACzDtC,6BAAY,CAACgL,IAAI,CAAC,0CAA0C,CAAC;KAC7DjD,EAAE,CAACkD,QAAQ,CAACC,QAAQ,CAACC,WAAW,CAACC,SAAS,CAACC,UAAU,CAAC,KAAK,CAAC;;GAG7D/H,KAAK,GACL;KACC,OAAO,OAAO;;CAEhB;;CCZO,MAAMgI,SAAS,SAASR,cAAc,CAC7C;GACCjI,OAAO,GACP;KACC5B,SAAS,CAACC,IAAI,CAACD,SAAS,CAACwB,iBAAiB,CAAC;KAC3C8I,cAAI,CAACC,SAAS,CAAC,2CAA2C,EAAE;OAC3DC,IAAI,EAAE;MACN,CAAC,CAACC,IAAI,CAAEC,QAAQ,IAAK;OACrBC,iBAAO,CAAC9K,IAAI,CAAC,IAAI,EAAE6K,QAAQ,CAACnB,IAAI,CAAC1J,IAAI,CAAC,CAAC4K,IAAI,CAAC,MAAM;SACjD,IAAIG,MAAM,CAACC,iBAAiB,EAC5B;WACC9L,6BAAY,CAACgL,IAAI,CAAC,0CAA0C,CAAC;WAC7Dc,iBAAiB,EAAE;;QAEpB,CAAC,CAACC,KAAK,CAAC,MAAM,EAAE,CAAC;MAClB,CAAC,CAACA,KAAK,CAAC,MAAM,EAAE,CAAC;;GAGnBzI,KAAK,GACL;KACC,OAAO,OAAO;;CAEhB;;CCtBO,MAAM0I,UAAU,SAASlB,cAAc,CAC9C;GACCjI,OAAO,GACP;KACC5B,SAAS,CAACC,IAAI,CAACD,SAAS,CAACoB,kBAAkB,CAAC;KAC5C,IAAI,CAAC6E,cAAI,CAAC+E,KAAK,CAACC,+BAAU,CAAC,IAAIA,+BAAU,CAACC,SAAS,EAAE,EACrD;OACCD,+BAAU,CAACE,MAAM,EAAE;MACnB,MAED;OACC,MAAMC,OAAO,GAAG,IAAIC,aAAG,CAACT,MAAM,CAACU,QAAQ,CAACC,QAAQ,CAAC;OACjDH,OAAO,CAACI,gBAAgB,CAAC,IAAI,CAACvM,OAAO,CAACuM,gBAAgB,CAAC;OACvD,MAAMC,MAAM,GAAG,IAAIJ,aAAG,CAAC,IAAI,CAACpM,OAAO,CAACyM,IAAI,CAAC;OACzCD,MAAM,CAACE,aAAa,CAAC,QAAQ,EAAE7E,EAAE,CAAC8E,aAAa,EAAE,CAAC;OAClDH,MAAM,CAACE,aAAa,CAAC,SAAS,EAAEE,kBAAkB,CAACT,OAAO,CAAC3B,QAAQ,EAAE,CAAC,CAAC;OACvEqC,QAAQ,CAACR,QAAQ,CAACS,IAAI,GAAGN,MAAM;;;GAIjCpJ,KAAK,GACL;KACC,OAAO,QAAQ;;CAEjB;;;;AC7BA,CAKkD;AAElD,CAAO,MAAM2J,aAAa,SAASlN,OAAO,CAC1C;GAAA;KAAA;KAAA;OAAA;;;GACCc,SAAS,GACT;KACC,OAAO;OACNC,IAAI,EAAE,IAAI,CAACH,SAAS,EAAE;OACtBuM,iBAAiB,EAAE,IAAI;OACvBlM,MAAM,EAAE;MACR;;GAGFL,SAAS,GACT;KACC,OAAO,IAAI,CAACR,KAAK,CAACgD,QAAQ,CAAC,QAAQ,EAAE,MAAM;OAC1C,MAAMoE,SAAS,GAAGnE,aAAG,CAACC,MAAM,oBAAC;;IAE7B,EAAC;OACD,MAAMwG,KAAK,2CAAG,IAAI,6BAAY;OAE9BA,KAAK,CAACI,OAAO,CAAE5I,IAAI,IAAK;SACvBgE,aAAG,CAACiE,MAAM,CAACjI,IAAI,CAACV,SAAS,EAAE,EAAE4G,SAAS,CAAC;QACvC,CAAC;OAEF,OAAOA,SAAS;MAChB,CAAC;;CAeJ;CAAC,wBAXA;GACC,OAAO,IAAI,CAACpH,KAAK,CAACgD,QAAQ,CAAC,OAAO,EAAE,MAAM;KACzC,MAAM0G,KAAK,GAAG,IAAI,CAACpJ,UAAU,EAAE,CAACoJ,KAAK;KAErC,OAAO,CACNA,KAAK,CAACsD,KAAK,GAAG,IAAIpC,SAAS,CAAClB,KAAK,CAACsD,KAAK,CAAC,GAAG,IAAI,EAC/CtD,KAAK,CAACuD,KAAK,GAAG,IAAI9B,SAAS,CAACzB,KAAK,CAACuD,KAAK,CAAC,GAAG,IAAI,EAC/CvD,KAAK,CAACuC,MAAM,GAAG,IAAIJ,UAAU,CAACnC,KAAK,CAACuC,MAAM,CAAC,GAAG,IAAI,CAClD,CAAC9B,MAAM,CAACC,OAAO,CAAC;IACjB,CAAC;CACH;;;;;;;AC7CD,CAEiC;AAEjC,CAAO,MAAM8C,iBAAiB,SAAS1K,QAAQ,CAC/C;GAAA;KAAA;KAAA;OAAA;;;GACChC,SAAS,GACT;KACC,OAAO,IAAI,CAACR,KAAK,CAACgD,QAAQ,CAAC,QAAQ,EAAE,MAAM;OAC1C,OAAOC,aAAG,CAACC,MAAM,oBAAC;8CACuB,CAAe,cAAW,CAA0B;OAC3F,CAAwB;;;SAGtB,CAAkB;;;OAGpB,CAA4B;OAC5B,CAA0B;;IAE5B,GAV2C,IAAI,CAACC,KAAK,EAAE,EAAc,IAAI,CAACT,OAAO,CAACU,IAAI,CAAC,IAAI,CAAC,EACxF,IAAI,CAACT,cAAc,EAAE,EAGnB,IAAI,CAACC,QAAQ,EAAE,0CAGjB,IAAI,iDACJ,IAAI,CAACuK,gBAAgB,EAAE;MAG3B,CAAC;;GAGHxK,cAAc,GACd;KACC,OAAO,IAAI,CAAC3C,KAAK,CAACgD,QAAQ,CAAC,MAAM,EAAE,MAAM;OACxC,OAAOC,aAAG,CAACC,MAAM,sBAAC,yBAAsB,CAAsB,iDAA+C,GAAnE,IAAI,CAACT,YAAY,EAAE;MAC7D,CAAC;;GAGH0K,gBAAgB,GAChB;KACC,OAAO,IAAI,CAACnN,KAAK,CAACgD,QAAQ,CAAC,eAAe,EAAE,MAAM;OACjD,OAAOC,aAAG,CAACC,MAAM,sBAAC,iFAA+E;MACjG,CAAC;;GAGHG,UAAU,GACV;KACC,OAAO,IAAI;;GAGZF,KAAK,GACL;KACC,OAAO,EAAE;;CAeX;CAAC,iCAXA;GACC,OAAO,IAAI,CAACnD,KAAK,CAACgD,QAAQ,CAAC,gBAAgB,EAAE,MAAM;KAClD,MAAMM,OAAO,GAAG,IAAI,CAACD,UAAU,EAAE;KAEjC,OAAOJ,aAAG,CAACC,MAAM,sBAAC;;OAEhB,CAAoB;;IAEtB,GAFII,OAAO,oBAAPA,OAAO,CAAEJ,MAAM,EAAE;IAGrB,CAAC;CACH;;CCtDM,MAAMkK,kBAAkB,SAASF,iBAAiB,CACzD;GACCzK,YAAY,GACZ;KACC,OAAO,wBAAwB;;GAGhCC,OAAO,GACP;KACC,IAAI,IAAI,CAAC3C,OAAO,CAACsN,IAAI,KAAK,SAAS,EACnC;OACCvM,SAAS,CAACC,IAAI,CAACD,SAAS,CAACuB,gCAAgC,CAAC;OAC1DxC,6BAAY,CAACgL,IAAI,CAAC,0CAA0C,CAAC;OAC5D,IAAIyC,8CAAkB,CAAC;SAAE3J,WAAW,EAAEiJ,QAAQ,CAAC3H,aAAa,CAAC,8BAA8B;QAAG,CAAC,CAAEqB,IAAI,EAAE;MACxG,MACI,IAAI,IAAI,CAACvG,OAAO,CAACsN,IAAI,KAAK,SAAS,EACxC;OACCvM,SAAS,CAACC,IAAI,CAACD,SAAS,CAACsB,mBAAmB,CAAC;OAC7CsJ,MAAM,CAACpH,IAAI,CAAC,IAAI,CAACvE,OAAO,CAACyM,IAAI,EAAE,QAAQ,CAAC;;;GAI1CrJ,KAAK,GACL;KACC,OAAO,iBAAiB;;CAE1B;;CC7BO,MAAMoK,kBAAkB,SAASL,iBAAiB,CACzD;GACCzK,YAAY,GACZ;KACC,OAAO,oBAAoB;;GAG5BC,OAAO,GACP;KACCgJ,MAAM,CAACpH,IAAI,CAAC,IAAI,CAACvE,OAAO,CAACyM,IAAI,EAAE,QAAQ,CAAC;;GAGzCrJ,KAAK,GACL;KACC,OAAO,gBAAgB;;CAEzB;;CChBO,MAAMqK,wBAAwB,SAASN,iBAAiB,CAC/D;GACCzK,YAAY,GACZ;KACC,OAAO,iBAAiB;;GAGzBC,OAAO,GACP;KACC,MAAM6D,MAAM,GAAG,IAAI,CAACxG,OAAO,CAACwG,MAAM;KAElCqB,EAAE,CAAC6D,OAAO,CAACgC,aAAa,CAAC,oCAAoC,CAAC,CAC5DlC,IAAI,CAAC,MAAM;OACV,IAAI3D,EAAE,CAAC8F,SAAS,CAACC,WAAW,CAACC,WAAW,CAAC;SAAErH;QAAQ,CAAC,CAAED,IAAI,EAAE;MAC7D,CAAC;;GAGJnD,KAAK,GACL;KACC,OAAO,wBAAwB;;CAEjC;;CCnBO,MAAM0K,kBAAkB,SAASX,iBAAiB,CACzD;GACCzK,YAAY,GACZ;KACC,OAAO,aAAa;;GAGrBC,OAAO,GACP;KACC5B,SAAS,CAACC,IAAI,CAACD,SAAS,CAACqB,+BAA+B,CAAC;KACzDtC,6BAAY,CAACgL,IAAI,CAAC,0CAA0C,CAAC;KAC7DjD,EAAE,CAACkD,QAAQ,CAACC,QAAQ,CAACC,WAAW,CAACC,SAAS,CAACC,UAAU,CAAC,KAAK,CAAC;;GAG7D/H,KAAK,GACL;KACC,OAAO,OAAO;;CAEhB;;;;ACtBA,CAQO,MAAM2K,gBAAgB,SAASlO,OAAO,CAC7C;GACCY,SAAS,GACT;KACC,OAAO,IAAI,CAACR,KAAK,CAACgD,QAAQ,CAAC,QAAQ,EAAE,MAAM;OAC1C,MAAMoE,SAAS,GAAGnE,aAAG,CAACC,MAAM,oBAAC;iDACe,CAAe;IAC3D,GAD8C,IAAI,CAACC,KAAK,EAAE,CACzD;OACD,IAAI,CAAC4K,QAAQ,EAAE,CAACjE,OAAO,CAAE5I,IAAI,IAAK;SACjCgE,aAAG,CAACiE,MAAM,CAACjI,IAAI,CAACV,SAAS,EAAE,EAAE4G,SAAS,CAAC;QACvC,CAAC;OAEF,OAAOA,SAAS;MAChB,CAAC;;GAGH2G,QAAQ,GACR;KACC,OAAO,IAAI,CAAC/N,KAAK,CAACgD,QAAQ,CAAC,OAAO,EAAE,MAAM;OACzC,MAAM0G,KAAK,GAAG,IAAI,CAACpJ,UAAU,EAAE,CAACoJ,KAAK;OAErC,OAAO,CACNA,KAAK,CAACsD,KAAK,GAAG,IAAIa,kBAAkB,CAACnE,KAAK,CAACsD,KAAK,CAAC,GAAG,IAAI,EACxDtD,KAAK,CAACsE,cAAc,GAAG,IAAIZ,kBAAkB,CAAC1D,KAAK,CAACsE,cAAc,CAAC,GAAG,IAAI,EAC1EtE,KAAK,CAACuE,KAAK,GAAG,IAAIV,kBAAkB,CAAC7D,KAAK,CAACuE,KAAK,CAAC,GAAG,IAAI,EACxDvE,KAAK,CAACwE,oBAAoB,GAAG,IAAIV,wBAAwB,CAAC9D,KAAK,CAACwE,oBAAoB,CAAC,GAAG,IAAI,CAC5F,CAAC/D,MAAM,CAACC,OAAO,CAAC;MACjB,CAAC;;GAGHjH,KAAK,GACL;KACC,OAAO,WAAW;;CAEpB;;CCtCO,MAAMgL,iBAAiB,SAASjB,iBAAiB,CACxD;GACCzK,YAAY,GACZ;KACC,OAAO,YAAY;;GAGpBC,OAAO,GACP;KACC5B,SAAS,CAACC,IAAI,CAACD,SAAS,CAACgB,8BAA8B,CAAC;KACxDjC,6BAAY,CAACgL,IAAI,CAAC,qDAAqD,CAAC;;CAE1E;;CCZO,MAAMuD,kBAAkB,SAASlB,iBAAiB,CACzD;GACCzK,YAAY,GACZ;KACC,OAAO,aAAa;;GAGrBC,OAAO,GACP;KACC5B,SAAS,CAACC,IAAI,CAACD,SAAS,CAACiB,4BAA4B,CAAC;KACtDlC,6BAAY,CAACgL,IAAI,CAAC,qDAAqD,CAAC;;GAGzE1H,KAAK,GACL;KACC,OAAO,kBAAkB;;CAE3B;;;;;;;;ACrBA,CAM4D;CAAA;CAAA;CAAA;AAE5D,CAAO,MAAMkL,yBAAyB,SAASnB,iBAAiB,CAChE;GAAA;KAAA;KAAA;OAAA;;KAAA;OAAA;;KAAA;OAAA;;KAAA;OAAA;;;GACCvK,cAAc,GACd;KACC,OAAO,IAAI,CAAC3C,KAAK,CAACgD,QAAQ,CAAC,MAAM,EAAE,MAAM;OACxC,IAAI,IAAI,CAACjD,OAAO,CAACuO,MAAM,CAACC,SAAS,EACjC;SACC,OAAOtL,aAAG,CAACC,MAAM,oBAAC;;QAEhB,CAAwB;;QAExB,CAAyB;;KAE3B,2CAJI,IAAI,6EAEJ,IAAI;;OAKT,+CAAO,IAAI;MACX,CAAC;;GAGHiK,gBAAgB,GAChB;KACC,OAAO,IAAI,CAACnN,KAAK,CAACgD,QAAQ,CAAC,eAAe,EAAE,MAAM;OACjD,IAAI,IAAI,CAACjD,OAAO,CAACyO,OAAO,CAACD,SAAS,IAAI,IAAI,CAACxO,OAAO,CAAC0D,IAAI,EACvD;SACC,MAAMyE,OAAO,GAAIuG,OAAO,IAAK;WAC5B,4CAAI,oCAAiBA,OAAO,CAACC,MAAM,EAAElL,MAAM,EAAE;UAC7C;SAED,OAAOP,aAAG,CAACC,MAAM,sBAAC;mBACL,CAAU;KACvB,GADegF,OAAO;;OAIvB,MAAMyG,eAAe,GAAG,IAAIC,wCAAe,EAAE;OAE7C,MAAMC,MAAM,GAAI,IAAIC,iBAAM,CAAC;SAC1BrJ,IAAI,EAAEqJ,iBAAM,CAACpJ,IAAI,CAACqJ,WAAW;SAC7BjM,IAAI,EAAE,IAAI,CAAC/C,OAAO,CAACyO,OAAO,CAACQ,UAAU;SACrChJ,YAAY,EAAE,IAAI;SAClBH,KAAK,EAAEoJ,yBAAc,CAACC,MAAM;SAC5BC,MAAM,EAAE,IAAI;SACZjH,OAAO,EAAE,MAAM;WACdyG,eAAe,CAACS,mBAAmB,CAACP,MAAM,CAAC;UAC3C;SACDQ,IAAI,EAAE;QACN,CAAC,CAAEnM,MAAM,EAAE;OAEZ,OAAOD,aAAG,CAACC,MAAM,sBAAC;;OAEhB,CAAS;;IAEX,GAFI2L,MAAM;MAGV,CAAC;;GA2FHnM,OAAO,GACP;GAEAS,KAAK,GACL;KACC,OAAO,wBAAwB;;CAEjC;CAAC,2BA9FA;GACC,OAAO,IAAI,CAACnD,KAAK,CAACgD,QAAQ,CAAC,YAAY,EAAE,MAAM;KAC9C,IAAIsM,SAAS,GAAG,uFAAuF;KAEvG,IAAI,IAAI,CAACvP,OAAO,CAACuO,MAAM,CAACC,SAAS,EACjC;OACCe,SAAS,IAAI,cAAc;;KAG5B,OAAOrM,aAAG,CAACC,MAAM,sBAAC;gBACP,CAAY;IACvB,GADaoM,SAAS;IAEtB,CAAC;CACH;CAAC,4BAGD;GACC,OAAO,IAAI,CAACtP,KAAK,CAACgD,QAAQ,CAAC,aAAa,EAAE,MAAM;KAC/C,IAAIsM,SAAS,GAAG,qEAAqE;KAErF,IAAI,IAAI,CAACvP,OAAO,CAACyO,OAAO,CAACD,SAAS,EAClC;OACCe,SAAS,IAAI,gCAAgC;MAC7C,MAED;OACCA,SAAS,IAAI,aAAa;;KAG3B,OAAOrM,aAAG,CAACC,MAAM,sBAAC;gBACP,CAAY;IACvB,GADaoM,SAAS;IAEtB,CAAC;CACH;CAAC,0BAEe3L,WAAwB,EACxC;GACC,OAAO,IAAI,CAAC3D,KAAK,CAACgD,QAAQ,CAAC,aAAa,EAAE,MAAM;KAC/C,MAAMY,KAAK,2CAAG,IAAI,+CAAuB;KAEzC,IAAIA,KAAK,CAACiG,MAAM,KAAK,CAAC,EACtB;OACC,OAAO,IAAI;;KAGZ,OAAO,IAAInG,eAAI,CAAC;OACfC,WAAW;OACXC,KAAK;OACLG,UAAU,EAAE,CAAC;OACbF,KAAK,EAAE,IAAI;OACXG,KAAK,EAAE;MACP,CAAC;IACF,CAAC;CACH;CAAC,iCAGD;GACC,MAAMJ,KAAK,GAAG,EAAE;GAEhB,IAAI,CAAC7D,OAAO,CAAC0D,IAAI,CAACqG,OAAO,CAAEyF,IAAI,IAAK;KACnC,IAAIA,IAAI,CAAClC,IAAI,KAAK,SAAS,EAC3B;OACCzJ,KAAK,CAAC4L,IAAI,CAAC;SACV1M,IAAI,EAAEyM,IAAI,CAAC1M,KAAK;SAChBgK,IAAI,EAAE0C,IAAI,CAACE,WAAW;SACtBvH,OAAO,EAAE,MAAM;WACdpH,SAAS,CAACC,IAAI,CAACD,SAAS,CAACe,+BAA+B,CAAC;WACzD,4CAAI,sCAAmBqC,KAAK,EAAE;;QAE/B,CAAC;MACF,MACI,IAAIqL,IAAI,CAAClC,IAAI,KAAK,QAAQ,EAC/B;OACCzJ,KAAK,CAAC4L,IAAI,CAAC;SACV1M,IAAI,EAAEyM,IAAI,CAAC1M,KAAK;SAChBqF,OAAO,EAAE,MAAM;WACdpH,SAAS,CAACC,IAAI,CAACD,SAAS,CAACgB,8BAA8B,CAAC;WACxD,4CAAI,sCAAmBoC,KAAK,EAAE;WAC9BrE,6BAAY,CAACgL,IAAI,CAAC,2DAA2D,CAAC;;QAE/E,CAAC;;IAEH,CAAC;GAEF,OAAOjH,KAAK;CACb;;;;ACtJD,CAMiF;AAEjF,CAAO,MAAM8L,kBAAkB,SAAS9P,OAAO,CAC/C;GAAA;KAAA;KAAA;OAAA;;;GACCY,SAAS,GACT;KACC,OAAO,IAAI,CAACR,KAAK,CAACgD,QAAQ,CAAC,QAAQ,EAAE,MAAM;OAC1C,MAAMoE,SAAS,GAAGnE,aAAG,CAACC,MAAM,oBAAC;;IAE7B,EAAC;OACD,4CAAI,8BAAa4G,OAAO,CAAE5I,IAAI,IAAK;SAClCgE,aAAG,CAACiE,MAAM,CAACjI,IAAI,CAACV,SAAS,EAAE,EAAE4G,SAAS,CAAC;QACvC,CAAC;OAEF,OAAOA,SAAS;MAChB,CAAC;;CAeJ;CAAC,wBAXA;GACC,OAAO,IAAI,CAACpH,KAAK,CAACgD,QAAQ,CAAC,OAAO,EAAE,MAAM;KACzC,MAAM0G,KAAK,GAAG,IAAI,CAACpJ,UAAU,EAAE,CAACoJ,KAAK;KAErC,OAAO,CACNA,KAAK,CAACiG,aAAa,GAAG,IAAIxB,iBAAiB,CAACzE,KAAK,CAACiG,aAAa,CAAC,GAAG,IAAI,EACvEjG,KAAK,CAACkG,cAAc,GAAG,IAAIxB,kBAAkB,CAAC1E,KAAK,CAACkG,cAAc,CAAC,GAAG,IAAI,EAC1ElG,KAAK,CAACmG,qBAAqB,GAAG,IAAIxB,yBAAyB,CAAC3E,KAAK,CAACmG,qBAAqB,CAAC,GAAG,IAAI,CAC/F,CAAC1F,MAAM,CAACC,OAAO,CAAC;IACjB,CAAC;CACH;;;;ACnCD,CAGgD;AAEhD,CAAO,MAAM0F,uBAAuB,SAASlQ,OAAO,CACpD;GAAA;KAAA;KAAA;OAAA;;;GACCc,SAAS,GACT;KACC,OAAO;OACNC,IAAI,EAAE,IAAI,CAACH,SAAS;MACpB;;GAGFA,SAAS,GACT;KACC,OAAO,IAAI,CAACR,KAAK,CAACgD,QAAQ,CAAC,QAAQ,EAAE,MAAM;OAC1C,OAAOC,aAAG,CAACC,MAAM,oBAAC;iDAC0B,CAAe;;QAExD,CAAiC;;SAEhC,CAA0B;;;OAG5B,CAA2B;;IAE7B,GAT8C,IAAI,CAACC,KAAK,EAAE,EAErD,4CAAI,oCAAkBD,MAAM,EAAE,EAE7B,IAAI,CAAC5C,UAAU,EAAE,CAACuC,KAAK,EAGzB,IAAI,CAACkN,iBAAiB,EAAE;MAG5B,CAAC;;GAqBH5M,KAAK,GACL;KACC,OAAO,EAAE;;CAEX;CAAC,2BArBA;GACC,OAAO,IAAI,CAACnD,KAAK,CAACgD,QAAQ,CAAC,YAAY,EAAE,MAAM;KAC9C,MAAM6L,MAAM,GAAG,IAAIC,iBAAM,CAAC;OACzB9J,IAAI,EAAE,gBAAgB;OACtBS,IAAI,EAAEqJ,iBAAM,CAACpJ,IAAI,CAACsK,iBAAiB;OACnCnK,KAAK,EAAEoJ,yBAAc,CAACgB,OAAO;OAC7BjK,YAAY,EAAE,IAAI;OAClBkC,OAAO,EAAE,MAAM;SACdrI,6BAAY,CAACgL,IAAI,CAAC,0CAA0C,CAAC;;MAE9D,CAAC;KACFgE,MAAM,CAACqB,YAAY,CAAC,IAAI,CAAC;KAEzB,OAAOrB,MAAM;IACb,CAAC;CACH;;;;;AC/CD,CAEsE;CAAA;AAEtE,CAAO,MAAMsB,iBAAiB,SAASL,uBAAuB,CAC9D;GAAA;KAAA;KAAA;OAAA;;KAAA;OAAA;;;GACCC,iBAAiB,GACjB;KACC,OAAO,IAAI,CAAC/P,KAAK,CAACgD,QAAQ,CAAC,SAAS,EAAE,MAAM;OAC3C,OAAOC,aAAG,CAACC,MAAM,oBAAC;;OAEhB,CAAyB;OACzB,CAAqB;;IAEvB,GAHI,4CAAI,oBAAUA,MAAM,EAAE,0CACtB,IAAI;MAGR,CAAC;;GAGHC,KAAK,GACL;KACC,OAAO,aAAa;;CAoBtB;CAAC,mBAhBA;GACC,OAAO,IAAI,CAACnD,KAAK,CAACgD,QAAQ,CAAC,IAAI,EAAE,MAAM;KACtC,OAAO,IAAIoN,0BAAW,CAAC;OAAEC,MAAM,EAAE,SAAS;OAAEC,KAAK,EAAE,KAAK;OAAEC,IAAI,EAAE;MAAO,CAAC;IACxE,CAAC;CACH;CAAC,wBAGD;GACC,OAAO,IAAI,CAACvQ,KAAK,CAACgD,QAAQ,CAAC,SAAS,EAAE,MAAM;KAC3C,OAAOC,aAAG,CAACC,MAAM,sBAAC;;OAEhB,CAA4B;;IAE9B,GAFI,IAAI,CAAC5C,UAAU,EAAE,CAACkQ,OAAO;IAG7B,CAAC;CACH;;CCnCM,MAAMC,qBAAqB,SAASvD,iBAAiB,CAC5D;GACCzK,YAAY,GACZ;KACC,OAAO,oBAAoB;;GAG5BC,OAAO,GACP;KACC5B,SAAS,CAACC,IAAI,CAACD,SAAS,CAACkB,qBAAqB,CAAC;KAC/CoC,wBAAS,CAACC,QAAQ,CAACC,IAAI,CAAC,IAAI,CAACvE,OAAO,CAACwE,GAAG,EAAE;OAAEC,KAAK,EAAE;MAAM,CAAC;;GAG3DrB,KAAK,GACL;KACC,OAAO,UAAU;;CAEnB;;CChBO,MAAMuN,wBAAwB,SAAS5C,gBAAgB,CAC9D;GACCC,QAAQ,GACR;KACC,OAAO,IAAI,CAAC/N,KAAK,CAACgD,QAAQ,CAAC,OAAO,EAAE,MAAM;OACzC,MAAM0G,KAAK,GAAG,IAAI,CAACpJ,UAAU,EAAE,CAACoJ,KAAK;OAErC,OAAO,CACNA,KAAK,CAACO,QAAQ,GAAG,IAAIwG,qBAAqB,CAAC/G,KAAK,CAACO,QAAQ,CAAC,GAAG,IAAI,EACjEP,KAAK,CAACsD,KAAK,GAAG,IAAIa,kBAAkB,CAACnE,KAAK,CAACsD,KAAK,CAAC,GAAG,IAAI,CACxD,CAAC7C,MAAM,CAACC,OAAO,CAAC;MACjB,CAAC;;GAGHjH,KAAK,GACL;KACC,OAAO,oBAAoB;;CAE7B;;;;ACvBA,CAEgD;AAEhD,CAAO,MAAMwN,oBAAoB,SAAS/Q,OAAO,CACjD;GAAA;KAAA;KAAA;OAAA;OAAA,OACuB;;;GAEtBY,SAAS,GACT;KACC,OAAO,IAAI,CAACR,KAAK,CAACgD,QAAQ,CAAC,QAAQ,EAAE,MAAM;OAC1C,OAAOC,aAAG,CAACC,MAAM,oBAAC;;2CAEoB,CAAe;iBACzC,CAA0B;;;;;SAKlC,CAAkB;;;IAGtB,GATwC,IAAI,CAACC,KAAK,EAAE,EACtC,IAAI,CAACT,OAAO,CAACU,IAAI,CAAC,IAAI,CAAC,EAK/B,IAAI,CAACR,QAAQ,EAAE;MAIrB,CAAC;;GAGHA,QAAQ,GACR;KACC,OAAO,IAAI,CAACtC,UAAU,EAAE,CAACuC,KAAK;;GAG/BH,OAAO,GACP;KACC,4CAAI,IAAI,6CACR;OACC,4CAAI,4CAAqB4D,IAAI,EAAE;OAC/BzG,6BAAY,CAACgL,IAAI,CAAC,0CAA0C,CAAC;OAE7D;;KAGD3F,aAAG,CAACkE,QAAQ,CAAC,IAAI,CAAC5I,SAAS,EAAE,EAAE,8DAA8D,CAAC;KAE9FoQ,OAAO,CAACC,GAAG,CAAC,CACXzF,cAAI,CAACC,SAAS,CAAC,gCAAgC,EAAE,EAAE,CAAC,EACpDI,iBAAO,CAACgC,aAAa,CAAC,uCAAuC,CAAC,CAC9D,CAAC,CAAClC,IAAI,CAAC,CAAC,CAACC,QAAQ,EAAE;OAAEsF;MAAe,CAAC,KAAK;OAC1C,MAAM;SAAEC,WAAW;SAAEhR;QAAS,GAAGyL,QAAQ,CAACnB,IAAI;OAC9CnF,aAAG,CAACC,WAAW,CAAC,IAAI,CAAC3E,SAAS,EAAE,EAAE,8DAA8D,CAAC;OACjGX,6BAAY,CAACgL,IAAI,CAAC,0CAA0C,CAAC;OAC7D,4CAAI,8CAAuB,IAAIiG,aAAa,CAACC,WAAW,EAAE;SAAE,GAAGhR,OAAO;SAAEiR,OAAO,EAAE;QAAW,CAAC;OAC7F,4CAAI,4CAAqB/M,SAAS,CAAC,QAAQ,EAAE,MAAM2D,EAAE,CAACqJ,WAAW,CAACC,IAAI,CAAC,UAAU,EAAE,6BAA6B,EAAE,IAAI,EAAEC,IAAI,CAACC,KAAK,CAACC,IAAI,CAACC,GAAG,EAAE,GAAG,IAAI,CAAC,CAAC,CAAC;OACvJ,4CAAI,4CAAqBhL,IAAI,EAAE;MAC/B,CAAC,CAACsF,KAAK,CAAEpC,KAAK,IAAK;OACnBC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;MACpB,CAAC;;GAGHrG,KAAK,GACL;KACC,OAAO,gBAAgB;;CAEzB;;CCnDwE;CAAA;CAAA;CAAA;CAAA;CAAA;CAAA;CAAA;CAAA;CAAA;CAAA;CAAA;CAAA;AAExE,CAAO,MAAMoO,KAAK,SAAS1R,6BAAY,CACvC;GAICC,WAAW,CAACC,OAAqB,EACjC;KACC,KAAK,EAAE;KAAC;OAAA;;KAAA;OAAA;;KAAA;OAAA;;KAAA;OAAA;;KAAA;OAAA;;KAAA;OAAA;;KAAA;OAAA;;KAAA;OAAA;;KAAA;OAAA;;KAAA;OAAA;;KAAA;OAAA;;KAAA;OAAA;OAAA,OALA,IAAIE,eAAK,CAACC,WAAW;;KAAE;OAAA;OAAA,OACU;;KAKzC,IAAI,CAACC,UAAU,CAACJ,OAAO,CAAC;KACxB,IAAI,CAACK,iBAAiB,CAAC,gCAAgC,CAAC;KACxD,IAAI,CAACoR,gBAAgB,EAAE;;GAGxBrR,UAAU,CAACJ,OAAqB,EAChC;KACC,4CAAI,kBAAQM,GAAG,CAAC,SAAS,EAAEN,OAAO,CAAC;;GAGpCO,UAAU,GACV;KACC,OAAO,4CAAI,kBAAQC,GAAG,CAAC,SAAS,EAAE,EAAE,CAAC;;GAGtC+F,IAAI,GACJ;KACC,IAAI,CAACmL,YAAY,EAAE,CAACnL,IAAI,EAAE;KAC1B,IAAI,CAACuE,IAAI,CAAC,MAAM,CAAC;KACjB/J,SAAS,CAACC,IAAI,CAACD,SAAS,CAACa,iBAAiB,CAAC;;GAG5CuC,KAAK,GACL;KACC,IAAI,CAACuN,YAAY,EAAE,CAACvN,KAAK,EAAE;;GAG5BuN,YAAY,GACZ;KACC,OAAO,4CAAI,kBAAQzO,QAAQ,CAAC,OAAO,EAAE,MAAM;OAC1C,IAAI,CAAC6H,IAAI,CAAC,YAAY,CAAC;OAEvB,MAAM6G,KAAK,GAAG,IAAIC,4CAAoB,CAAC;SACtCjD,MAAM,EAAE,IAAI,CAACpO,UAAU,EAAE,CAACoO,MAAM;SAChClK,KAAK,EAAE,GAAG;SACVoN,OAAO,0CAAE,IAAI,6BAAc;SAC3BC,WAAW,EAAE,IAAI,CAACvR,UAAU,EAAE,CAACwR,MAAM;SACrCC,OAAO,EAAE,CAAC;SACVC,SAAS,EAAE,CAAC,EAAE;SACdjO,UAAU,EAAE;QACZ,CAAC;OACF2N,KAAK,CAACO,QAAQ,EAAE,CAACC,QAAQ,CAAC,IAAI,CAAC;OAC/B,MAAMC,UAAU,GAAG,MAAM;SACxB,IAAIvK,EAAE,CAACxD,SAAS,CAACC,QAAQ,CAAC+N,MAAM,EAAE,EAClC;WACCV,KAAK,CAACO,QAAQ,EAAE,CAACE,UAAU,CAAC;aAC3BE,eAAe,EAAE;YACjB,CAAC;WACFX,KAAK,CAACO,QAAQ,EAAE,CAACK,WAAW,EAAE;;QAE/B;OACDH,UAAU,EAAE;OACZT,KAAK,CAACO,QAAQ,EAAE,CAAChO,SAAS,CAAC,SAAS,EAAE,MAAM;SAC3C,4CAAI,0DAA6B,EAAE;SACnCyN,KAAK,CAACO,QAAQ,EAAE,CAACM,aAAa,EAAE;QAChC,CAAC;OACFb,KAAK,CAACO,QAAQ,EAAE,CAAChO,SAAS,CAAC,cAAc,EAAEkO,UAAU,CAAC;OACtD,4CAAI,kBAAQ9R,GAAG,CAAC,OAAO,EAAEqR,KAAK,CAAC;OAC/B,4CAAI,kBAAQrR,GAAG,CAAC,gBAAgB,EAAEqR,KAAK,CAAC3B,iBAAiB,EAAE,CAAC;OAE5D,IAAI,CAAClF,IAAI,CAAC,WAAW,CAAC;OAEtB,OAAO6G,KAAK;MACZ,CAAC;;GA0GHF,gBAAgB,GAChB;KACC,IAAI,CAACvN,SAAS,CAAC,YAAY,EAAE,MAAM;OAClCpE,6BAAY,CAACoE,SAAS,CAAC,6CAA6C,EAAE,MAAM;SAC3E,IAAI,CAACA,SAAS,CAAC,WAAW,EAAE,MAAM;WACjC2D,EAAE,CAACC,EAAE,CAACC,IAAI,CAAC0K,IAAI,CAAC,IAAI,CAACf,YAAY,EAAE,CAACQ,QAAQ,EAAE,CAACQ,iBAAiB,EAAE,CAAC;UACnE,CAAC;QACF,CAAC;OACF,IAAI,CAACxO,SAAS,CAAC,WAAW,EAAE,MAAM;SACjC,4CAAI;SACJ,4CAAI;SAEJ,MAAMC,KAAK,GAAG,MAAM;WACnB,IAAI,CAACA,KAAK,EAAE;UACZ;SAEDrE,6BAAY,CAACoE,SAAS,CAAC,8BAA8B,EAAEC,KAAK,CAAC;SAC7DrE,6BAAY,CAACoE,SAAS,CAAC,0CAA0C,EAAEC,KAAK,CAAC;QACzE,CAAC;MACF,CAAC;;CA2DJ;CAAC,wBApLA;GACC,OAAO,4CAAI,kBAAQlB,QAAQ,CAAC,SAAS,EAAE,MAAM;KAC5C,MAAM4O,OAAO,GAAG,CACf,4CAAI,sCAAmBlR,SAAS,EAAE,CAClC;KAED,IAAI,IAAI,CAACJ,UAAU,EAAE,CAACsR,OAAO,CAACc,KAAK,EACnC;OACCd,OAAO,CAACpC,IAAI,CAAC,4CAAI,wDAA4B9O,SAAS,EAAE,CAAC;;KAG1DkR,OAAO,CAACpC,IAAI,CAAC,4CAAI,oDAA0B9O,SAAS,EAAE,CAAC;KAEvD,IAAI,IAAI,CAACJ,UAAU,EAAE,CAACsR,OAAO,CAACe,iBAAiB,EAC/C;OACCf,OAAO,CAACpC,IAAI,CAAC,4CAAI,gEAAgC9O,SAAS,EAAE,CAAC;;KAG9D,IAAI,IAAI,CAACJ,UAAU,EAAE,CAACsR,OAAO,CAACgB,SAAS,EACvC;OACChB,OAAO,CAACpC,IAAI,CAAC,4CAAI,gDAAwB9O,SAAS,EAAE,CAAC;;KAGtDkR,OAAO,CAACpC,IAAI,CAAC,4CAAI,0CAAqB9O,SAAS,EAAE,CAAC;KAElD,OAAOkR,OAAO;IACd,CAAC;CACH;CAAC,qCAGD;GACC,OAAO,4CAAI,kBAAQ5O,QAAQ,CAAC,sBAAsB,EAAE,MAAM;KACzD,OAAO,IAAI2N,oBAAoB,CAAC;OAC/B,GAAG,IAAI,CAACrQ,UAAU,EAAE,CAACsR,OAAO,CAACc,KAAK,CAAChJ,KAAK,CAACmJ;MACzC,CAAC;IACF,CAAC;CACH;CAAC,4BAID;GACC,OAAO,4CAAI,kBAAQ7P,QAAQ,CAAC,aAAa,EAAE,MAAM;KAChD,OAAO,IAAIiF,WAAW,CAAC;OACtB,GAAG,IAAI,CAAC3H,UAAU,EAAE,CAACsR,OAAO,CAACkB;MAC7B,CAAC;IACF,CAAC;CACH;CAAC,iCAGD;GACC,OAAO,4CAAI,kBAAQ9P,QAAQ,CAAC,kBAAkB,EAAE,MAAM;KACrD,OAAO,IAAI8K,gBAAgB,CAAC;OAC3B,GAAG,IAAI,CAACxN,UAAU,EAAE,CAACsR,OAAO,CAACgB;MAC7B,CAAC;IACF,CAAC;CACH;CAAC,mCAGD;GACC,OAAO,4CAAI,kBAAQ5P,QAAQ,CAAC,oBAAoB,EAAE,MAAM;KACvD,OAAO,IAAI0M,kBAAkB,CAAC;OAC7B,GAAG,IAAI,CAACpP,UAAU,EAAE,CAACsR,OAAO,CAACmB;MAC7B,CAAC;IACF,CAAC;CACH;CAAC,8BAGD;GACC,OAAO,4CAAI,kBAAQ/P,QAAQ,CAAC,eAAe,EAAE,MAAM;KAClD,OAAO,IAAI8J,aAAa,CAAC;OACxB,GAAG,IAAI,CAACxM,UAAU,EAAE,CAACsR,OAAO,CAACoB;MAC7B,CAAC;IACF,CAAC;CACH;CAAC,kCAGD;GACC,OAAO,4CAAI,kBAAQhQ,QAAQ,CAAC,mBAAmB,EAAE,MAAM;KACtD,OAAO,IAAImN,iBAAiB,CAAC;OAC5B,GAAG,IAAI,CAAC7P,UAAU,EAAE,CAACsR,OAAO,CAACqB,UAAU,CAACvJ,KAAK,CAACkG;MAC9C,CAAC;IACF,CAAC;CACH;CAAC,yCAGD;GACC,OAAO,4CAAI,kBAAQ5M,QAAQ,CAAC,0BAA0B,EAAE,MAAM;KAC7D,OAAQ,IAAI2O,4CAAoB,CAC/B;OAAEC,OAAO,EAAE,CAAC,4CAAI,kDAAyBlR,SAAS,EAAE;MAAG,CACvD,CAAEqP,iBAAiB,EAAE;IACtB,CAAC;CACH;CAAC,yCAGD;GACC,OAAO,4CAAI,kBAAQ/M,QAAQ,CAAC,0BAA0B,EAAE,MAAM;KAC7D,OAAO,IAAI0N,wBAAwB,CAAC;OACnC,GAAG,IAAI,CAACpQ,UAAU,EAAE,CAACsR,OAAO,CAACe;MAC7B,CAAC;IACF,CAAC;CACH;CAAC,sCAyBD;GACC9S,6BAAY,CAACoE,SAAS,CAAC,sBAAsB,EAAGjD,KAAK,IAAK;KACzD,IAAI,CAAC,IAAI,CAACyQ,YAAY,EAAE,CAACQ,QAAQ,EAAE,CAACiB,OAAO,EAAE,EAC7C;OACC;;KAGDhO,aAAG,CAACW,KAAK,CAAC,IAAI,CAAC4L,YAAY,EAAE,CAACQ,QAAQ,EAAE,CAACQ,iBAAiB,EAAE,EAAE,YAAY,EAAE,QAAQ,CAAC;KAErF,MAAMf,KAAK,GAAG1Q,KAAK,CAACmS,SAAS,EAAE;KAE/B,IAAIzB,KAAK,IAAIA,KAAK,CAACvO,KAAK,EAAE,KAAK,IAAI,CAACsO,YAAY,EAAE,CAACQ,QAAQ,EAAE,CAAC9O,KAAK,EAAE,EACrE;OACC,IAAI,CAACsO,YAAY,EAAE,CAACQ,QAAQ,EAAE,CAACmB,WAAW,CAAC,IAAI,CAAC;OAChDvT,6BAAY,CAACgL,IAAI,CAAC,gDAAgD,CAAC;MACnE,MAED;OACC,IAAI,CAAC4G,YAAY,EAAE,CAACQ,QAAQ,EAAE,CAACmB,WAAW,CAAC,KAAK,CAAC;OACjDvT,6BAAY,CAACgL,IAAI,CAAC,iDAAiD,CAAC;OAEpE,IAAI,CAAC,4CAAI,wDAA2BwI,QAAQ,CAAC3B,KAAK,CAAC,EACnD;SACC,4CAAI,wDAA2BlC,IAAI,CAACkC,KAAK,CAAC;;OAG3C,MAAM4B,OAAO,GAAG,MAAM;SACrB,4CAAI,0DAA6B,4CAAI,wDAA2BnJ,MAAM,CAAEoF,IAAI,IAAKA,IAAI,KAAKmC,KAAK,CAAC;SAEhG,IAAI,4CAAI,wDAA2B7H,MAAM,KAAK,CAAC,EAC/C;WACC,IAAI,CAAC4H,YAAY,EAAE,CAACQ,QAAQ,EAAE,CAACmB,WAAW,CAAC,IAAI,CAAC;WAChDlO,aAAG,CAACW,KAAK,CAAC,IAAI,CAAC4L,YAAY,EAAE,CAACQ,QAAQ,EAAE,CAACQ,iBAAiB,EAAE,EAAE,YAAY,EAAE,MAAM,CAAC;WACnF5S,6BAAY,CAACgL,IAAI,CAAC,gDAAgD,CAAC;;QAEpE;OAED6G,KAAK,CAAC6B,aAAa,CAAC,SAAS,EAAED,OAAO,CAAC;OACvC5B,KAAK,CAAC6B,aAAa,CAAC,WAAW,EAAED,OAAO,CAAC;;IAE1C,CAAC;CACH;CAAC,wCAGD;GACC,MAAME,4BAA4B,GAAG,MAAM;KAC1C,MAAMC,UAAU,2CAAG,IAAI,+DAA+B;KACtD,IAAI,CAAChC,YAAY,EAAE,CAACQ,QAAQ,EAAE,CAACyB,UAAU,CAACD,UAAU,CAAC;IACrD;GACD5T,6BAAY,CAACoE,SAAS,CAAC,qDAAqD,EAAEuP,4BAA4B,CAAC;GAC3G3T,6BAAY,CAACoE,SAAS,CAAC,2DAA2D,EAAEuP,4BAA4B,CAAC;GACjH3T,6BAAY,CAACoE,SAAS,CAAC,0CAA0C,EAAE,MAAM;KACxE,IAAI,CAACwN,YAAY,EAAE,CAACQ,QAAQ,EAAE,CAACyB,UAAU,CAAC,IAAI,CAACjC,YAAY,EAAE,CAAC1B,iBAAiB,EAAE,CAAC;IAClF,CAAC;CACH;;CCxQoB;CAAA;CAAA;AAErB,CAAO,MAAM4D,YAAY,CACzB;GAAA;KAAA;OAAA;;KAAA;OAAA;OAAA,OACU,IAAI1T,eAAK,CAACC,WAAW;;;GAG9B,OAAO0T,WAAW,GAClB;KACC,IAAI,yCAAC,IAAI,uBAAU,EACnB;OACC,4CAAI,0BAAa,IAAI,IAAI,EAAE;;KAG5B,+CAAO,IAAI;;GAGZtN,IAAI,GACJ;KACC,IAAI,4CAAI,0BAAamL,YAAY,EAAE,CAACyB,OAAO,EAAE,EAC7C;OACC;;KAGD,4CAAI,0BAAa5M,IAAI,EAAE;;GAGxBnG,UAAU,CAACJ,OAAuB,EAClC;KACC,4CAAI,sBAAQM,GAAG,CAAC,SAAS,EAAEN,OAAO,CAAC;KAEnC,OAAO,IAAI;;GAGZO,UAAU,GACV;KACC,OAAO,4CAAI,sBAAQC,GAAG,CAAC,SAAS,EAAE,EAAE,CAAC;;CAevC;CAAC,sBAXA;GACC,OAAO,4CAAI,sBAAQyC,QAAQ,CAAC,OAAO,EAAE,MAAM;KAC1C,OAAO,IAAIuO,KAAK,CAAC;OAChB7C,MAAM,EAAE,IAAI,CAACpO,UAAU,EAAE,CAACuT,aAAa;OACvC/B,MAAM,EAAE,IAAI,CAACxR,UAAU,EAAE,CAACwR,MAAM;OAChCF,OAAO,EAAE;SACR,GAAG,IAAI,CAACtR,UAAU,EAAE,CAAC+J;;MAEtB,CAAC;IACF,CAAC;CACH;CAAC,sBAhDWsJ,YAAY;GAAA;GAAA;CAAA;;;;;;;;"}