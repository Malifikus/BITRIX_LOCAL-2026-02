this.BX=this.BX||{},this.BX.Intranet=this.BX.Intranet||{},function(e,s,t,a,i,l,r,o){"use strict";var n=babelHelpers.classPrivateFieldLooseKey("section");class p{constructor(e){var s;Object.defineProperty(this,n,{writable:!0,value:void 0}),babelHelpers.classPrivateFieldLooseBase(this,n)[n]=null!=(s=e.section)?s:""}send(e){s.sendData({...e,category:"year_summary",tool:"intranet",c_section:babelHelpers.classPrivateFieldLooseBase(this,n)[n]})}next(e,s){this.send({event:"next_click",p1:e,type:s})}prev(e,s){this.send({event:"prev_click",p1:e,type:s})}share(e,s){this.send({event:"share_click",p1:e,type:s})}save(e,s){this.send({event:"save_click",p1:e,type:s})}close(e,s){this.send({event:"close_click",p1:e,type:s})}show(e,s){this.send({event:"popup_show",p1:e,type:s})}}let c,d,b,u,v=e=>e;var h=babelHelpers.classPrivateFieldLooseKey("position"),L=babelHelpers.classPrivateFieldLooseKey("popup"),P=babelHelpers.classPrivateFieldLooseKey("container"),y=babelHelpers.classPrivateFieldLooseKey("leftControl"),B=babelHelpers.classPrivateFieldLooseKey("rightControl"),_=babelHelpers.classPrivateFieldLooseKey("navigation"),H=babelHelpers.classPrivateFieldLooseKey("canClose"),F=babelHelpers.classPrivateFieldLooseKey("userpicPath"),g=babelHelpers.classPrivateFieldLooseKey("showOverlay"),f=babelHelpers.classPrivateFieldLooseKey("analytic"),w=babelHelpers.classPrivateFieldLooseKey("showCard"),T=babelHelpers.classPrivateFieldLooseKey("middleCardTo"),A=babelHelpers.classPrivateFieldLooseKey("addCardToRight"),m=babelHelpers.classPrivateFieldLooseKey("addCardToLeft"),S=babelHelpers.classPrivateFieldLooseKey("createWrapper"),N=babelHelpers.classPrivateFieldLooseKey("createPopup"),C=babelHelpers.classPrivateFieldLooseKey("createAvatar"),O=babelHelpers.classPrivateFieldLooseKey("createRightControl"),R=babelHelpers.classPrivateFieldLooseKey("createLeftControl"),I=babelHelpers.classPrivateFieldLooseKey("updateControls");class E{constructor(e={}){var s;Object.defineProperty(this,I,{value:Y}),Object.defineProperty(this,R,{value:W}),Object.defineProperty(this,O,{value:$}),Object.defineProperty(this,C,{value:k}),Object.defineProperty(this,N,{value:K}),Object.defineProperty(this,S,{value:D}),Object.defineProperty(this,m,{value:j}),Object.defineProperty(this,A,{value:x}),Object.defineProperty(this,T,{value:M}),Object.defineProperty(this,w,{value:U}),Object.defineProperty(this,h,{writable:!0,value:{left:1,right:-1}}),Object.defineProperty(this,L,{writable:!0,value:void 0}),Object.defineProperty(this,P,{writable:!0,value:void 0}),Object.defineProperty(this,y,{writable:!0,value:void 0}),Object.defineProperty(this,B,{writable:!0,value:void 0}),Object.defineProperty(this,_,{writable:!0,value:void 0}),Object.defineProperty(this,H,{writable:!0,value:void 0}),Object.defineProperty(this,F,{writable:!0,value:void 0}),Object.defineProperty(this,g,{writable:!0,value:void 0}),Object.defineProperty(this,f,{writable:!0,value:void 0}),babelHelpers.classPrivateFieldLooseBase(this,P)[P]=o.Tag.render(c||(c=v`<div class="intranet-year-results-popup__slide-wrapper"></div>`)),babelHelpers.classPrivateFieldLooseBase(this,H)[H]=!1!==e.canClose,babelHelpers.classPrivateFieldLooseBase(this,g)[g]=null==(s=e.showOverlay)||s,babelHelpers.classPrivateFieldLooseBase(this,y)[y]=o.Tag.render(d||(d=v`<div class="intranet-year-results-popup__sidepanel-wrapper"></div>`)),babelHelpers.classPrivateFieldLooseBase(this,B)[B]=o.Tag.render(b||(b=v`<div class="intranet-year-results-popup__sidepanel-wrapper"></div>`)),babelHelpers.classPrivateFieldLooseBase(this,F)[F]=e.userpicPath,babelHelpers.classPrivateFieldLooseBase(this,L)[L]=babelHelpers.classPrivateFieldLooseBase(this,N)[N](),babelHelpers.classPrivateFieldLooseBase(this,_)[_]=e.navigation,babelHelpers.classPrivateFieldLooseBase(this,f)[f]=e.analytic,!1!==(null==e?void 0:e.isUseArrowNavigation)&&o.Event.bind(document,"keydown",(e=>{babelHelpers.classPrivateFieldLooseBase(this,L)[L].isShown()&&"ArrowLeft"===e.key?(this.left(),e.preventDefault()):babelHelpers.classPrivateFieldLooseBase(this,L)[L].isShown()&&"ArrowRight"===e.key&&(this.right(),e.preventDefault())})),this.subscribe("onShow",(()=>{var e;null==(e=babelHelpers.classPrivateFieldLooseBase(this,f)[f])||e.show(babelHelpers.classPrivateFieldLooseBase(this,_)[_].position().index(),babelHelpers.classPrivateFieldLooseBase(this,_)[_].position().featureType())})),this.subscribe("onClose",(()=>{var e;null==(e=babelHelpers.classPrivateFieldLooseBase(this,f)[f])||e.close(babelHelpers.classPrivateFieldLooseBase(this,_)[_].position().index(),babelHelpers.classPrivateFieldLooseBase(this,_)[_].position().featureType())}))}hasLeft(){return!o.Type.isNil(babelHelpers.classPrivateFieldLooseBase(this,_)[_].position(-1))}hasRight(){return!o.Type.isNil(babelHelpers.classPrivateFieldLooseBase(this,_)[_].position(1))}left(){var e;this.hasLeft()&&(babelHelpers.classPrivateFieldLooseBase(this,T)[T](babelHelpers.classPrivateFieldLooseBase(this,h)[h].left),babelHelpers.classPrivateFieldLooseBase(this,w)[w](babelHelpers.classPrivateFieldLooseBase(this,h)[h].right),babelHelpers.classPrivateFieldLooseBase(this,m)[m](),babelHelpers.classPrivateFieldLooseBase(this,_)[_].previous(),babelHelpers.classPrivateFieldLooseBase(this,I)[I](),null==(e=babelHelpers.classPrivateFieldLooseBase(this,f)[f])||e.prev(babelHelpers.classPrivateFieldLooseBase(this,_)[_].position().index(),babelHelpers.classPrivateFieldLooseBase(this,_)[_].position().featureType()))}right(){var e;this.hasRight()&&(babelHelpers.classPrivateFieldLooseBase(this,T)[T](babelHelpers.classPrivateFieldLooseBase(this,h)[h].right),babelHelpers.classPrivateFieldLooseBase(this,w)[w](babelHelpers.classPrivateFieldLooseBase(this,h)[h].left),babelHelpers.classPrivateFieldLooseBase(this,A)[A](),babelHelpers.classPrivateFieldLooseBase(this,_)[_].next(),babelHelpers.classPrivateFieldLooseBase(this,I)[I](),null==(e=babelHelpers.classPrivateFieldLooseBase(this,f)[f])||e.next(babelHelpers.classPrivateFieldLooseBase(this,_)[_].position().index(),babelHelpers.classPrivateFieldLooseBase(this,_)[_].position().featureType()))}show(){var e,s,t,a,i;babelHelpers.classPrivateFieldLooseBase(this,L)[L].show(),null==(e=babelHelpers.classPrivateFieldLooseBase(this,_)[_].position(-1))||e.addClassToContent("intranet-year-results-popup__slide--slide-out-left"),o.Dom.append(null==(s=babelHelpers.classPrivateFieldLooseBase(this,_)[_].position(-1))?void 0:s.cachedContent(),babelHelpers.classPrivateFieldLooseBase(this,P)[P]),o.Dom.append(null==(t=babelHelpers.classPrivateFieldLooseBase(this,_)[_].position())?void 0:t.cachedContent(),babelHelpers.classPrivateFieldLooseBase(this,P)[P]),null==(a=babelHelpers.classPrivateFieldLooseBase(this,_)[_].position(1))||a.addClassToContent("intranet-year-results-popup__slide--slide-out-right"),o.Dom.append(null==(i=babelHelpers.classPrivateFieldLooseBase(this,_)[_].position(1))?void 0:i.cachedContent(),babelHelpers.classPrivateFieldLooseBase(this,P)[P]),babelHelpers.classPrivateFieldLooseBase(this,I)[I]()}close(){babelHelpers.classPrivateFieldLooseBase(this,L)[L].close()}subscribe(e,s){babelHelpers.classPrivateFieldLooseBase(this,L)[L].subscribe(e,s)}closeButton(){return new a.Button({size:a.Button.Size.SMALL,style:a.AirButtonStyle.OUTLINE,useAirDesign:!0,icon:BX.UI.IconSet.Outline.CROSS_L,className:"--ui-context-edge-dark intranet-year-results-popup__navigation-button",onclick:()=>this.close()}).render()}}function U(e){var s;null==(s=babelHelpers.classPrivateFieldLooseBase(this,_)[_].position(e))||s.removeClassFromContent(["intranet-year-results-popup__slide--slide-out-left","intranet-year-results-popup__slide--slide-out-right"])}function M(e){var s,t;if(null==(s=babelHelpers.classPrivateFieldLooseBase(this,_)[_].position(e))||s.destroy(),e===babelHelpers.classPrivateFieldLooseBase(this,h)[h].left)null==(t=babelHelpers.classPrivateFieldLooseBase(this,_)[_].position())||t.addClassToContent("intranet-year-results-popup__slide--slide-out-right");else if(e===babelHelpers.classPrivateFieldLooseBase(this,h)[h].right){var a;null==(a=babelHelpers.classPrivateFieldLooseBase(this,_)[_].position())||a.addClassToContent("intranet-year-results-popup__slide--slide-out-left")}}function x(){var e,s;null==(e=babelHelpers.classPrivateFieldLooseBase(this,_)[_].position(2))||e.addClassToContent("intranet-year-results-popup__slide--slide-out-right"),o.Dom.append(null==(s=babelHelpers.classPrivateFieldLooseBase(this,_)[_].position(2))?void 0:s.cachedContent(),babelHelpers.classPrivateFieldLooseBase(this,P)[P])}function j(){var e,s;null==(e=babelHelpers.classPrivateFieldLooseBase(this,_)[_].position(-2))||e.addClassToContent("intranet-year-results-popup__slide--slide-out-left"),o.Dom.prepend(null==(s=babelHelpers.classPrivateFieldLooseBase(this,_)[_].position(-2))?void 0:s.cachedContent(),babelHelpers.classPrivateFieldLooseBase(this,P)[P])}function D(){return o.Tag.render(u||(u=v`
			<div id="popup-content-base">
				<div class="intranet-year-results-popup__content">
					<div class="intranet-year-results-popup__header">
						<div class="intranet-year-results-popup__user">
							${0}
						</div>
						<div class="intranet-year-results-popup__header-wrapper">
							${0}
						</div>
					</div>
					${0}
					${0}
					${0}
				</div>
			</div>
		`),babelHelpers.classPrivateFieldLooseBase(this,C)[C](),babelHelpers.classPrivateFieldLooseBase(this,H)[H]?this.closeButton():"",babelHelpers.classPrivateFieldLooseBase(this,y)[y],babelHelpers.classPrivateFieldLooseBase(this,P)[P],babelHelpers.classPrivateFieldLooseBase(this,B)[B])}function K(){const e=new r.Popup({closeByEsc:babelHelpers.classPrivateFieldLooseBase(this,H)[H],content:babelHelpers.classPrivateFieldLooseBase(this,S)[S](),padding:0,className:"intranet-year-results-popup",fixed:!0,overlay:!!babelHelpers.classPrivateFieldLooseBase(this,g)[g]&&{opacity:100,backgroundColor:"rgba(0, 32, 78, 0.46)"},animation:{showClassName:"intranet-year-results-popup__show-animation",closeAnimationType:"transition"}});return o.Event.bindOnce(e.getPopupContainer(),"animationend",(()=>{o.Dom.addClass(e.getPopupContainer(),"intranet-year-results-popup__show-animation-end")})),e}function k(){if(o.Type.isStringFilled(babelHelpers.classPrivateFieldLooseBase(this,F)[F])){return new t.AvatarRound({size:84,userpicPath:babelHelpers.classPrivateFieldLooseBase(this,F)[F]}).getContainer()}return""}function $(){return new a.Button({size:a.Button.Size.LARGE,style:a.AirButtonStyle.OUTLINE,useAirDesign:!0,icon:BX.UI.IconSet.Outline.ARROW_RIGHT_M,className:"--ui-context-edge-dark intranet-year-results-popup__navigation-button",onclick:()=>this.right()}).render()}function W(){return new a.Button({size:a.Button.Size.LARGE,style:a.AirButtonStyle.OUTLINE,useAirDesign:!0,icon:BX.UI.IconSet.Outline.ARROW_LEFT_M,className:"--ui-context-edge-dark intranet-year-results-popup__navigation-button",onclick:()=>this.left()}).render()}function Y(){o.Dom.clean(babelHelpers.classPrivateFieldLooseBase(this,y)[y]),o.Dom.clean(babelHelpers.classPrivateFieldLooseBase(this,B)[B]),babelHelpers.classPrivateFieldLooseBase(this,_)[_].position(-1)&&o.Dom.append(babelHelpers.classPrivateFieldLooseBase(this,R)[R](),babelHelpers.classPrivateFieldLooseBase(this,y)[y]),babelHelpers.classPrivateFieldLooseBase(this,_)[_].position(1)&&o.Dom.append(babelHelpers.classPrivateFieldLooseBase(this,O)[O](),babelHelpers.classPrivateFieldLooseBase(this,B)[B])}let X,V=e=>e;var z=babelHelpers.classPrivateFieldLooseKey("content");class G{constructor(){Object.defineProperty(this,z,{writable:!0,value:void 0})}content(){return o.Tag.render(X||(X=V``))}cachedContent(){return babelHelpers.classPrivateFieldLooseBase(this,z)[z]||(babelHelpers.classPrivateFieldLooseBase(this,z)[z]=this.content()),babelHelpers.classPrivateFieldLooseBase(this,z)[z]}destroy(){o.Dom.remove(babelHelpers.classPrivateFieldLooseBase(this,z)[z]),babelHelpers.classPrivateFieldLooseBase(this,z)[z]=null}addClassToContent(e){o.Dom.addClass(this.cachedContent(),e)}removeClassFromContent(e){o.Dom.removeClass(this.cachedContent(),e)}featureType(){return null}index(){return null}}var q=babelHelpers.classPrivateFieldLooseKey("views"),J=babelHelpers.classPrivateFieldLooseKey("current"),Q=babelHelpers.classPrivateFieldLooseKey("show");class Z{constructor(e){Object.defineProperty(this,q,{writable:!0,value:[]}),Object.defineProperty(this,J,{writable:!0,value:0}),Object.defineProperty(this,Q,{writable:!0,value:void 0}),o.Type.isArray(e.views)&&(babelHelpers.classPrivateFieldLooseBase(this,q)[q]=e.views.filter((e=>e instanceof G))),babelHelpers.classPrivateFieldLooseBase(this,J)[J]=o.Type.isInteger(e.start)?e.start:0}get(e){return babelHelpers.classPrivateFieldLooseBase(this,q)[q][e]}next(){this.move(babelHelpers.classPrivateFieldLooseBase(this,J)[J]+1)}position(e=0){return this.get(babelHelpers.classPrivateFieldLooseBase(this,J)[J]+e)}current(){return this.get(babelHelpers.classPrivateFieldLooseBase(this,J)[J])}previous(){this.move(babelHelpers.classPrivateFieldLooseBase(this,J)[J]-1)}move(e){this.get(e)&&(babelHelpers.classPrivateFieldLooseBase(this,J)[J]=e)}offset(e){babelHelpers.classPrivateFieldLooseBase(this,J)[J]+=e}index(){return babelHelpers.classPrivateFieldLooseBase(this,J)[J]}}class ee{constructor(e){this.title=e.title,this.description=e.description}}var se=babelHelpers.classPrivateFieldLooseKey("linkToShare"),te=babelHelpers.classPrivateFieldLooseKey("screenshotToShare");class ae{constructor(e){var s,t;Object.defineProperty(this,se,{writable:!0,value:void 0}),Object.defineProperty(this,te,{writable:!0,value:void 0}),this.signedUserId=null!=(s=null==e?void 0:e.signedUserId)?s:null,this.signedType=null!=(t=null==e?void 0:e.signedType)?t:null}isShareApiAvailable(){return window.isSecureContext&&navigator.share&&navigator.canShare}getLinkToShare(){return babelHelpers.classPrivateFieldLooseBase(this,se)[se]||(babelHelpers.classPrivateFieldLooseBase(this,se)[se]=o.ajax.runAction("intranet.v2.AnnualSummary.getLink",{data:{signedUserId:this.signedUserId,signedType:this.signedType}}).then((e=>e.data.link)).catch((e=>{throw babelHelpers.classPrivateFieldLooseBase(this,se)[se]=null,e}))),babelHelpers.classPrivateFieldLooseBase(this,se)[se]}getScreenshot(e){if(!babelHelpers.classPrivateFieldLooseBase(this,te)[te]){const s=e.cloneNode(!0);o.Dom.addClass(s,"intranet-year-results-popup__slide--screenshot"),o.Dom.append(s,document.querySelector(".intranet-year-results-popup__slide-wrapper")),l.PageObject.getEditorWindow=()=>window,babelHelpers.classPrivateFieldLooseBase(this,te)[te]=l.Screenshoter.makeElementScreenshot(s).then((e=>i.ImageCompressor.compress(e,{maxWidth:900,maxHeight:1600}))).then((e=>new File([e],"bitrix24.png",{type:"image/png"}))).catch((e=>{throw babelHelpers.classPrivateFieldLooseBase(this,te)[te]=null,e})).finally((()=>{s.remove()}))}return babelHelpers.classPrivateFieldLooseBase(this,te)[te]}async copyToClipboard(e){var s;return o.Type.isString(e)?window.isSecureContext&&navigator.clipboard?new Promise(((s,t)=>{setTimeout((()=>navigator.clipboard.writeText(e).then((()=>s())).catch((e=>t(e)))),0)})):null!=(s=BX.clipboard)&&s.copy(e)?Promise.resolve():Promise.reject():Promise.reject()}shareContent(e){return e.title=o.Loc.getMessage("INTRANET_ANNUAL_SUMMARY_CARD_SHARE_TITLE"),window.isSecureContext&&navigator.share&&navigator.canShare&&navigator.canShare(e)?navigator.share(e):Promise.reject()}downloadFile(e){const s=URL.createObjectURL(e),t=document.createElement("a");t.href=s,t.download=e.name,t.click(),URL.revokeObjectURL(s)}}let ie,le,re=e=>e;var oe=babelHelpers.classPrivateFieldLooseKey("click"),ne=babelHelpers.classPrivateFieldLooseKey("text"),pe=babelHelpers.classPrivateFieldLooseKey("hideBtn"),ce=babelHelpers.classPrivateFieldLooseKey("analytic"),de=babelHelpers.classPrivateFieldLooseKey("shareService"),be=babelHelpers.classPrivateFieldLooseKey("menu");class ue extends G{constructor(e){var s,t,a,i;super(e),Object.defineProperty(this,oe,{writable:!0,value:void 0}),Object.defineProperty(this,ne,{writable:!0,value:void 0}),Object.defineProperty(this,pe,{writable:!0,value:void 0}),Object.defineProperty(this,ce,{writable:!0,value:void 0}),Object.defineProperty(this,de,{writable:!0,value:void 0}),Object.defineProperty(this,be,{writable:!0,value:void 0}),babelHelpers.classPrivateFieldLooseBase(this,oe)[oe]=o.Type.isFunction(null==e||null==(s=e.btn)?void 0:s.click)?null==e||null==(t=e.btn)?void 0:t.click:this.onShare,babelHelpers.classPrivateFieldLooseBase(this,ne)[ne]=(null==e||null==(a=e.btn)?void 0:a.text)||"",this.message=null!=(i=e.message)?i:null,babelHelpers.classPrivateFieldLooseBase(this,pe)[pe]=!0===e.hideBtn,babelHelpers.classPrivateFieldLooseBase(this,ce)[ce]=e.analytic instanceof p?e.analytic:null,babelHelpers.classPrivateFieldLooseBase(this,de)[de]=e.shareService instanceof ae?e.shareService:null}shareButton(){if(babelHelpers.classPrivateFieldLooseBase(this,pe)[pe])return o.Tag.render(ie||(ie=re``));return new a.Button({useAirDesign:!0,className:"intranet-year-results-popup__footer-button",onclick:e=>{var s;e.isWaiting()||(e.setWaiting(),Promise.all([babelHelpers.classPrivateFieldLooseBase(this,oe)[oe](e)]).then((()=>e.setWaiting(!1))).catch((()=>e.setWaiting(!1))),null==(s=babelHelpers.classPrivateFieldLooseBase(this,ce)[ce])||s.share(this.index(),this.featureType()))},text:babelHelpers.classPrivateFieldLooseBase(this,ne)[ne],wide:!0}).render()}downloadButton(){if(babelHelpers.classPrivateFieldLooseBase(this,pe)[pe])return o.Tag.render(le||(le=re``));return new a.Button({useAirDesign:!0,className:"intranet-year-results-popup__footer-button intranet-year-results-popup__footer-button--white",onclick:e=>{var s;e.isWaiting()||(e.setWaiting(),null==(s=babelHelpers.classPrivateFieldLooseBase(this,ce)[ce])||s.save(this.index(),this.featureType()),babelHelpers.classPrivateFieldLooseBase(this,de)[de].getScreenshot(this.cachedContent()).then((e=>{babelHelpers.classPrivateFieldLooseBase(this,de)[de].downloadFile(e)})).catch((e=>console.error(e))).finally((()=>{e.setWaiting(!1)})))},text:o.Loc.getMessage("INTRANET_ANNUAL_SUMMARY_CARD_DOWNLOAD_BTN"),wide:!0}).render()}onShare(e){return babelHelpers.classPrivateFieldLooseBase(this,de)[de].isShareApiAvailable()?this.openShareOptionsPopup(e.button):this.copyLink()}openShareOptionsPopup(e){return babelHelpers.classPrivateFieldLooseBase(this,be)[be]||(babelHelpers.classPrivateFieldLooseBase(this,be)[be]=new r.Menu({autoHide:!0,closeByEsc:!0,fixed:!0,angle:{offset:o.Dom.getPosition(e).height/2,position:"left"},items:[{text:o.Loc.getMessage("INTRANET_ANNUAL_SUMMARY_CARD_COPY_LINK"),onclick:async()=>this.copyLink()},{text:o.Loc.getMessage("INTRANET_ANNUAL_SUMMARY_CARD_SHARE_SCREENSHOT_TITLE"),onclick:async()=>{try{const e=await babelHelpers.classPrivateFieldLooseBase(this,de)[de].getScreenshot(this.cachedContent());await babelHelpers.classPrivateFieldLooseBase(this,de)[de].shareContent({files:[e]})}catch(e){throw console.error(e),e}}}]}),babelHelpers.classPrivateFieldLooseBase(this,be)[be].getPopupWindow().setBindElement(e),babelHelpers.classPrivateFieldLooseBase(this,be)[be].getPopupWindow().setOffset({offsetLeft:o.Dom.getPosition(e).width+14,offsetTop:-(o.Dom.getPosition(e).height+16)})),babelHelpers.classPrivateFieldLooseBase(this,be)[be].toggle(),Promise.resolve()}async copyLink(){try{const e=await babelHelpers.classPrivateFieldLooseBase(this,de)[de].getLinkToShare();await babelHelpers.classPrivateFieldLooseBase(this,de)[de].copyToClipboard(e),top.BX.UI.Notification.Center.notify({content:o.Loc.getMessage("INTRANET_ANNUAL_SUMMARY_CARD_NOTIFY_COPY"),autoHideDelay:2500})}catch(e){throw console.error(e),e}}}let ve,he=e=>e;class Le extends ue{content(){return o.Tag.render(ve||(ve=he`
			<div class="intranet-year-results-popup__slide intranet-year-results-popup__slide--start">
				<div class="intranet-year-results-popup__slide-image"></div>
				<div class="intranet-year-results-popup__slide-content">
					<div class="intranet-year-results-popup__logo"></div>
					<h2 class="intranet-year-results-popup__title intranet-year-results-popup__title--bold">${0}</h2>
					<div class="intranet-year-results-popup__description-container">
						<p class="intranet-year-results-popup__description">${0}</p>
						<p class="intranet-year-results-popup__description">${0}</p>
					</div>
					<p class="intranet-year-results-popup__postscript">${0}</p>
				</div>
				${0}
			</div>
		`),o.Loc.getMessage("INTRANET_ANNUAL_SUMMARY_CARD_START_VIEW_TITLE"),o.Loc.getMessage("INTRANET_ANNUAL_SUMMARY_CARD_START_VIEW_DESCRIPTION"),o.Loc.getMessage("INTRANET_ANNUAL_SUMMARY_CARD_START_VIEW_DESCRIPTION_2"),o.Loc.getMessage("INTRANET_ANNUAL_SUMMARY_CARD_START_VIEW_EPILOGUE"),this.shareButton())}featureType(){return"intro"}index(){return 0}}const Pe=Object.freeze({REACTION:"reaction",BOARD:"board",CHANNEL:"channel",CHECKIN:"checkin",COLLAB:"collab",COPILOT:"copilot",DEAL:"deal",SITE:"site",MESSAGE:"message",TASK:"task",WORKFLOW:"workflow"});let ye,Be=e=>e;class _e extends ue{constructor(e){super(e),this.message=e.message,this.feature=e.feature,this.progressBar=e.progressBar}content(){var e,s,t;return o.Tag.render(ye||(ye=Be`
			<div class="intranet-year-results-popup__slide intranet-year-results-popup__slide--${0}">
				<div class="intranet-year-results-popup__slide-image"></div>
				<div class="intranet-year-results-popup__slide-content">
					${0}
					<div class="intranet-year-results-popup__logo"></div>
					<h2 class="intranet-year-results-popup__title">${0}</h2>
					<div class="intranet-year-results-popup__description-container">
						<p class="intranet-year-results-popup__description">${0}</p>
					</div>
				</div>
				<div class="intranet-year-results-popup__slide-footer">
					${0}
					${0}
				</div>
			</div>
		`),this.feature,null==(e=this.progressBar)?void 0:e.render(),null==(s=this.message)?void 0:s.title,null==(t=this.message)?void 0:t.description,this.downloadButton(),this.shareButton())}featureType(){return this.feature}index(){var e,s;return(null!=(e=null==(s=this.progressBar)?void 0:s.currentStep)?e:0)+1}}let He,Fe,ge,fe=e=>e;class we{constructor(e){this.currentStep=e.currentStep,this.totalStep=e.totalStep}render(){const e=o.Tag.render(He||(He=fe`
			<div class="intranet-year-results-popup__progress-bar"></div>
		`));for(let s=0;s<=this.currentStep;s++)o.Dom.append(o.Tag.render(Fe||(Fe=fe`<div class="intranet-year-results-popup__progress-bar-step intranet-year-results-popup__progress-bar-step--active"></div>`)),e);for(let s=this.currentStep+1;s<this.totalStep;s++)o.Dom.append(o.Tag.render(ge||(ge=fe`<div class="intranet-year-results-popup__progress-bar-step"></div>`)),e);return e}}let Te,Ae=e=>e;var me=babelHelpers.classPrivateFieldLooseKey("message"),Se=babelHelpers.classPrivateFieldLooseKey("featureClass");class Ne extends ue{constructor(e){var s;super(e),Object.defineProperty(this,me,{writable:!0,value:void 0}),Object.defineProperty(this,Se,{writable:!0,value:void 0}),babelHelpers.classPrivateFieldLooseBase(this,me)[me]=e.message,babelHelpers.classPrivateFieldLooseBase(this,Se)[Se]=null!=(s=e.featureClass)?s:"",this.progressBar=e.progressBar,this.feature=e.feature}content(){var e;return o.Tag.render(Te||(Te=Ae`
			<div class="intranet-year-results-popup__slide ${0} intranet-year-results-popup__slide--character">
				<div class="intranet-year-results-popup__slide-image"></div>
				<div class="intranet-year-results-popup__slide-content">
					${0}
					<div class="intranet-year-results-popup__logo"></div>
					<h3 class="intranet-year-results-popup__subtitle">${0}</h3>
					<h2 class="intranet-year-results-popup__title intranet-year-results-popup__title--bold">${0}</h2>
					<p class="intranet-year-results-popup__description--character">${0}</p>
				</div>
				<div class="intranet-year-results-popup__slide-footer">
					${0}
					${0}
				</div>
			</div>
		`),babelHelpers.classPrivateFieldLooseBase(this,Se)[Se],null==(e=this.progressBar)?void 0:e.render(),babelHelpers.classPrivateFieldLooseBase(this,me)[me].title,babelHelpers.classPrivateFieldLooseBase(this,me)[me].name,babelHelpers.classPrivateFieldLooseBase(this,me)[me].description,this.downloadButton(),this.shareButton())}featureType(){return this.feature}index(){var e,s;return(null!=(e=null==(s=this.progressBar)?void 0:s.currentStep)?e:0)+1}}var Ce=babelHelpers.classPrivateFieldLooseKey("signedUserId"),Oe=babelHelpers.classPrivateFieldLooseKey("isShowStartView"),Re=babelHelpers.classPrivateFieldLooseKey("hideBtn"),Ie=babelHelpers.classPrivateFieldLooseKey("showProgressBar"),Ee=babelHelpers.classPrivateFieldLooseKey("analytic");class Ue{constructor(e={}){var s;Object.defineProperty(this,Ce,{writable:!0,value:void 0}),Object.defineProperty(this,Oe,{writable:!0,value:!0}),Object.defineProperty(this,Re,{writable:!0,value:!1}),Object.defineProperty(this,Ie,{writable:!0,value:void 0}),Object.defineProperty(this,Ee,{writable:!0,value:void 0}),babelHelpers.classPrivateFieldLooseBase(this,Ce)[Ce]=e.signedUserId,babelHelpers.classPrivateFieldLooseBase(this,Oe)[Oe]=!1!==e.isShowStartView,babelHelpers.classPrivateFieldLooseBase(this,Re)[Re]=!0===e.hideBtn,babelHelpers.classPrivateFieldLooseBase(this,Ie)[Ie]=null==(s=e.showProgressBar)||s,babelHelpers.classPrivateFieldLooseBase(this,Ee)[Ee]=e.analytic instanceof p?e.analytic:null}create(e,s,t){return new _e({hideBtn:babelHelpers.classPrivateFieldLooseBase(this,Re)[Re],count:e.count,btn:{text:o.Loc.getMessage("INTRANET_ANNUAL_SUMMARY_CARD_SHARE_BTN")},events:{left:()=>s.previous(),right:()=>s.next(),close:()=>s.close()},message:new ee(null==e?void 0:e.message),feature:e.id,progressBar:t,analytic:babelHelpers.classPrivateFieldLooseBase(this,Ee)[Ee],shareService:new ae({signedType:null==e?void 0:e.signedId,signedUserId:babelHelpers.classPrivateFieldLooseBase(this,Ce)[Ce]})})}createTop(e,s){const t=[];babelHelpers.classPrivateFieldLooseBase(this,Oe)[Oe]&&t.push(this.createStartView(s));const a=e.length;return e.forEach(((e,i)=>{var l;let r=null;babelHelpers.classPrivateFieldLooseBase(this,Ie)[Ie]&&(r=new we({currentStep:i,totalStep:a}));let o=null;o=null!=e&&null!=(l=e.id)&&l.includes("winner_")?this.createWinner(e,s,r):this.create(e,s,r),o&&t.push(o)})),[...t]}createWinner(e,s,t){var a;return new Ne({feature:e.id,hideBtn:babelHelpers.classPrivateFieldLooseBase(this,Re)[Re],message:null==e?void 0:e.message,featureClass:"base"===(null!=(a=null==e?void 0:e.featureId)?a:"base")?"":"intranet-year-results-popup__slide--"+(null==e?void 0:e.featureId),btn:{text:o.Loc.getMessage("INTRANET_ANNUAL_SUMMARY_CARD_SHARE_BTN")},events:{left:()=>s.previous(),close:()=>s.close()},progressBar:t,analytic:babelHelpers.classPrivateFieldLooseBase(this,Ee)[Ee],shareService:new ae({signedType:null==e?void 0:e.signedId,signedUserId:babelHelpers.classPrivateFieldLooseBase(this,Ce)[Ce]})})}createList(e,s){const t={btn:{text:o.Loc.getMessage("INTRANET_ANNUAL_SUMMARY_CARD_SHARE_BTN")},events:{left:()=>s.previous(),right:()=>s.next(),close:()=>s.close()}},a=[this.createStartView(s)];return Object.entries(Pe).forEach((([e,s])=>{a.push(new _e({...t,message:new ee({title:"You often use "+s,description:`You use "${s}" more than others in your company. Total: ${Math.floor(1e3*Math.random())+1}`}),feature:s,analytic:babelHelpers.classPrivateFieldLooseBase(this,Ee)[Ee]}))})),a.push(new Ne({message:{title:"You are",name:"Mr. Busy Bro",description:"Use more Busy"},featureClass:"",btn:{text:o.Loc.getMessage("INTRANET_ANNUAL_SUMMARY_CARD_LOOK_BTN"),click:()=>s.next()},events:{left:()=>s.previous(),right:()=>s.next(),close:()=>s.close()},analytic:babelHelpers.classPrivateFieldLooseBase(this,Ee)[Ee]})),Object.entries(Pe).forEach((([e,t])=>{a.push(new Ne({message:{title:"You are",name:"Mr. "+t,description:"Use more "+t},featureClass:"base"===(null!=t?t:"base")?"":"intranet-year-results-popup__slide--"+t,btn:{text:o.Loc.getMessage("INTRANET_ANNUAL_SUMMARY_CARD_LOOK_BTN"),click:()=>s.next()},events:{left:()=>s.previous(),right:()=>s.next(),close:()=>s.close()}}))})),[...a]}createStartView(e){return new Le({btn:{text:o.Loc.getMessage("INTRANET_ANNUAL_SUMMARY_CARD_LOOK_BTN"),click:()=>e.next()},events:{right:()=>e.next(),close:()=>e.close()}})}}var Me=babelHelpers.classPrivateFieldLooseKey("carousel"),xe=babelHelpers.classPrivateFieldLooseKey("analytic");e.AnnualSummary=class{constructor(e,s){var t;Object.defineProperty(this,Me,{writable:!0,value:void 0}),Object.defineProperty(this,xe,{writable:!0,value:void 0}),babelHelpers.classPrivateFieldLooseBase(this,xe)[xe]=new p({section:null!=(t=s.section)?t:"auto"});const a=new Ue({...s,analytic:babelHelpers.classPrivateFieldLooseBase(this,xe)[xe]}),i=new Z({start:0,views:null!=e&&e.all?a.createList(e,this):a.createTop(e,this)});babelHelpers.classPrivateFieldLooseBase(this,Me)[Me]=new E({navigation:i,isUseArrowNavigation:!0,canClose:!1!==s.canClose,userpicPath:s.userpicPath,showOverlay:s.showOverlay,analytic:babelHelpers.classPrivateFieldLooseBase(this,xe)[xe]})}close(){babelHelpers.classPrivateFieldLooseBase(this,Me)[Me].close()}show(){babelHelpers.classPrivateFieldLooseBase(this,Me)[Me].show()}subscribe(e,s){babelHelpers.classPrivateFieldLooseBase(this,Me)[Me].subscribe(e,s)}next(){babelHelpers.classPrivateFieldLooseBase(this,Me)[Me].right()}previous(){babelHelpers.classPrivateFieldLooseBase(this,Me)[Me].left()}}}(this.BX.Intranet.NotifyBanner=this.BX.Intranet.NotifyBanner||{},BX.UI.Analytics,BX.UI,BX.UI,BX.Landing,BX.Landing,BX.Main,BX);
//# sourceMappingURL=annual-summary.bundle.map.js