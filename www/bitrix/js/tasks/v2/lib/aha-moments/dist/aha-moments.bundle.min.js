this.BX=this.BX||{};this.BX.Tasks=this.BX.Tasks||{};this.BX.Tasks.V2=this.BX.Tasks.V2||{};(function(e,s,t,o,i,a,r){"use strict";var l=babelHelpers.classPrivateFieldLooseKey("ahaPopupWidth");var n=babelHelpers.classPrivateFieldLooseKey("shownPopups");var c=babelHelpers.classPrivateFieldLooseKey("activeAhaMoment");var b=babelHelpers.classPrivateFieldLooseKey("wasNotShown");var u=babelHelpers.classPrivateFieldLooseKey("wasShown");class p{constructor(){Object.defineProperty(this,u,{value:h});Object.defineProperty(this,b,{value:d});Object.defineProperty(this,l,{writable:true,value:380});Object.defineProperty(this,n,{writable:true,value:{}});Object.defineProperty(this,c,{writable:true,value:null})}show(e){var t,i,a;if(e.ahaMoment&&babelHelpers.classPrivateFieldLooseBase(this,u)[u](e.ahaMoment)){return}const r=new o.Guide({id:e.id,overlay:false,simpleMode:true,onEvents:true,steps:[{target:e.target,title:e.title,text:e.text,position:e.top?"top":"bottom",condition:{top:!e.top,bottom:Boolean(e.top),color:"primary"},article:(t=e.article)==null?void 0:t.code,articleAnchor:(i=e.article)==null?void 0:i.anchorCode,linkTitle:(a=e.article)==null?void 0:a.title}],targetContainer:e.targetContainer});if(babelHelpers.classPrivateFieldLooseBase(this,l)[l]){r.getPopup().setWidth(babelHelpers.classPrivateFieldLooseBase(this,l)[l])}const n=new BX.SpotLight({targetElement:e.target,targetVertex:"middle-center",color:"var(--ui-color-primary)"});return new Promise((t=>{const o=r.getPopup();o.setAutoHide(true);o.setAngle({offset:e.target.offsetWidth/2});const i=()=>{o.adjustPosition()};const a=()=>{n.close();s.Event.unbind(document,"scroll",i,true);t()};o.subscribe("onClose",a);o.subscribe("onDestroy",a);n.show();r.start();o.adjustPosition({forceTop:!e.top,forceBindPosition:true});if(e.isPulsarTransparent){s.Dom.style(n.container,"pointer-events","none")}s.Event.bind(document,"scroll",i,true)}))}shouldShow(e){if(babelHelpers.classPrivateFieldLooseBase(this,c)[c]!==null&&babelHelpers.classPrivateFieldLooseBase(this,c)[c]!==e){return false}return babelHelpers.classPrivateFieldLooseBase(this,b)[b](e)}setShown(e){this.setPopupShown(e);void r.optionService.setBool(e,true)}setPopupShown(e){babelHelpers.classPrivateFieldLooseBase(this,n)[n][e]=true}setActive(e){babelHelpers.classPrivateFieldLooseBase(this,c)[c]=e}setInactive(e){if(babelHelpers.classPrivateFieldLooseBase(this,c)[c]===e){babelHelpers.classPrivateFieldLooseBase(this,c)[c]=null}}isActive(e){return babelHelpers.classPrivateFieldLooseBase(this,c)[c]===e}}function d(e){return!babelHelpers.classPrivateFieldLooseBase(this,u)[u](e)}function h(e){const{ahaMoments:s}=i.Core.getParams();return!s[e]||babelHelpers.classPrivateFieldLooseBase(this,n)[n][e]}const v=new p;e.ahaMoments=v})(this.BX.Tasks.V2.Lib=this.BX.Tasks.V2.Lib||{},BX,BX,BX.UI.Tour,BX.Tasks.V2,BX.Tasks.V2.Const,BX.Tasks.V2.Provider.Service);
//# sourceMappingURL=aha-moments.bundle.map.js