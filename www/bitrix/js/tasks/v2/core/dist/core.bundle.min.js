this.BX=this.BX||{};this.BX.Tasks=this.BX.Tasks||{};(function(e,s,a,l,r,t,i,o,d,c,b,n,u,B,v,h,M,P){"use strict";const p=s.Extension.getSettings("tasks.v2.core");var L=babelHelpers.classPrivateFieldLooseKey("store");var F=babelHelpers.classPrivateFieldLooseKey("builder");var k=babelHelpers.classPrivateFieldLooseKey("initPromise");var H=babelHelpers.classPrivateFieldLooseKey("pullManager");var X=babelHelpers.classPrivateFieldLooseKey("initStore");var T=babelHelpers.classPrivateFieldLooseKey("initPull");class V{constructor(){Object.defineProperty(this,T,{value:f});Object.defineProperty(this,X,{value:y});Object.defineProperty(this,L,{writable:true,value:void 0});Object.defineProperty(this,F,{writable:true,value:void 0});Object.defineProperty(this,k,{writable:true,value:void 0});Object.defineProperty(this,H,{writable:true,value:null})}getParams(){return p}getStore(){return babelHelpers.classPrivateFieldLooseBase(this,L)[L]}init(){var e,s;(s=(e=babelHelpers.classPrivateFieldLooseBase(this,k))[k])!=null?s:e[k]=new Promise((async e=>{babelHelpers.classPrivateFieldLooseBase(this,L)[L]=await babelHelpers.classPrivateFieldLooseBase(this,X)[X]();babelHelpers.classPrivateFieldLooseBase(this,T)[T]();e()}));return babelHelpers.classPrivateFieldLooseBase(this,k)[k]}async addDynamicModel(e){if(!(babelHelpers.classPrivateFieldLooseBase(this,F)[F]instanceof a.Builder)){throw new TypeError("Builder has not been init")}if(babelHelpers.classPrivateFieldLooseBase(this,L)[L].hasModule(e.getName())){return}await babelHelpers.classPrivateFieldLooseBase(this,F)[F].addDynamicModel(e)}removeDynamicModel(e){if(babelHelpers.classPrivateFieldLooseBase(this,F)[F]instanceof a.Builder&&babelHelpers.classPrivateFieldLooseBase(this,L)[L].hasModule(e)){babelHelpers.classPrivateFieldLooseBase(this,F)[F].removeDynamicModel(e)}}}async function y(){babelHelpers.classPrivateFieldLooseBase(this,F)[F]=a.Builder.init();babelHelpers.classPrivateFieldLooseBase(this,F)[F].addModel(l.CheckList.create()).addModel(r.CrmItems.create()).addModel(t.ElapsedTimes.create()).addModel(i.Epics.create()).addModel(o.Flows.create()).addModel(d.GanttLinks.create()).addModel(c.Groups.createWithGroups([p.defaultCollab].filter((e=>e)))).addModel(b.Interface.createWithVariables(p)).addModel(u.Results.create()).addModel(n.Placements.create()).addModel(B.Stages.create()).addModel(v.Tasks.createWithVariables(p)).addModel(h.Reminders.create()).addModel(M.Users.createWithCurrentUser(p.currentUser));const e=await babelHelpers.classPrivateFieldLooseBase(this,F)[F].build();return e.store}function f(){babelHelpers.classPrivateFieldLooseBase(this,H)[H]=new P.PullManager({currentUserId:p.currentUser.id});babelHelpers.classPrivateFieldLooseBase(this,H)[H].initQueueManager()}const m=new V;e.Core=m})(this.BX.Tasks.V2=this.BX.Tasks.V2||{},BX,BX.Vue3.Vuex,BX.Tasks.V2.Model,BX.Tasks.V2.Model,BX.Tasks.V2.Model,BX.Tasks.V2.Model,BX.Tasks.V2.Model,BX.Tasks.V2.Model,BX.Tasks.V2.Model,BX.Tasks.V2.Model,BX.Tasks.V2.Model,BX.Tasks.V2.Model,BX.Tasks.V2.Model,BX.Tasks.V2.Model,BX.Tasks.V2.Model,BX.Tasks.V2.Model,BX.Tasks.V2.Provider.Pull);
//# sourceMappingURL=core.bundle.map.js