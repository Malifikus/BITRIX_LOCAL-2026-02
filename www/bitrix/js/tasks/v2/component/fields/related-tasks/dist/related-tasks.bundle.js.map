{"version":3,"file":"related-tasks.bundle.js","sources":["../src/related-tasks-meta.js","../src/related-tasks.js","../src/related-tasks-chip.js"],"sourcesContent":["import { Loc } from 'main.core';\nimport { Actions } from 'ui.icon-set.api.vue';\nimport 'ui.icon-set.actions';\n\nimport { TaskField } from 'tasks.v2.const';\nimport { relatedTasksService } from 'tasks.v2.provider.service.relation-service';\nimport type { RelationFieldMeta } from 'tasks.v2.component.fields.relation-tasks';\n\nexport const relatedTasksMeta: RelationFieldMeta = Object.freeze({\n\tid: TaskField.RelatedTasks,\n\ticon: Actions.CONNECTION,\n\tidsField: 'relatedTaskIds',\n\tcontainsField: 'containsRelatedTasks',\n\tgetTitle: () => Loc.getMessage('TASKS_V2_RELATED_TASKS_TITLE'),\n\tgetChipTitle: () => Loc.getMessage('TASKS_V2_RELATED_TASKS_TITLE_CHIP'),\n\tgetCountLoc: () => 'TASKS_V2_RELATED_TASKS_TITLE_COUNT',\n\tgetHint: () => Loc.getMessage('TASKS_V2_RELATED_TASKS_ADD'),\n\tservice: relatedTasksService,\n\tright: 'edit',\n});\n","import { RelationTasks } from 'tasks.v2.component.fields.relation-tasks';\nimport { relatedTasksDialog } from 'tasks.v2.lib.relation-tasks-dialog';\nimport { relatedTasksMeta } from './related-tasks-meta';\n\n// @vue/component\nexport const RelatedTasks = {\n\tname: 'TaskRelatedTasks',\n\tcomponents: {\n\t\tRelationTasks,\n\t},\n\tinject: {\n\t\ttaskId: {},\n\t\tanalytics: {},\n\t},\n\tsetup(): Object\n\t{\n\t\treturn {\n\t\t\trelatedTasksMeta,\n\t\t};\n\t},\n\tmethods: {\n\t\thandleAdd(targetNode: HTMLElement): void\n\t\t{\n\t\t\trelatedTasksDialog.show({\n\t\t\t\ttargetNode,\n\t\t\t\ttaskId: this.taskId,\n\t\t\t\tanalytics: this.analytics,\n\t\t\t});\n\t\t},\n\t},\n\ttemplate: `\n\t\t<RelationTasks :meta=\"relatedTasksMeta\" @add=\"handleAdd\"/>\n\t`,\n};\n","import { RelationTasksChip } from 'tasks.v2.component.fields.relation-tasks';\nimport { fieldHighlighter } from 'tasks.v2.lib.field-highlighter';\nimport { relatedTasksDialog } from 'tasks.v2.lib.relation-tasks-dialog';\nimport { relatedTasksMeta } from './related-tasks-meta';\n\n// @vue/component\nexport const RelatedTasksChip = {\n\tcomponents: {\n\t\tRelationTasksChip,\n\t},\n\tinject: {\n\t\ttaskId: {},\n\t\tanalytics: {},\n\t},\n\tsetup(): Object\n\t{\n\t\treturn {\n\t\t\trelatedTasksMeta,\n\t\t};\n\t},\n\tmethods: {\n\t\thandleAdd(targetNode: HTMLElement): void\n\t\t{\n\t\t\trelatedTasksDialog.show({\n\t\t\t\ttargetNode,\n\t\t\t\ttaskId: this.taskId,\n\t\t\t\tonClose: this.highlightField,\n\t\t\t\tanalytics: this.analytics,\n\t\t\t});\n\t\t},\n\t\thighlightField(): void\n\t\t{\n\t\t\tvoid fieldHighlighter.setContainer(this.$root.$el).highlight(relatedTasksMeta.id);\n\t\t},\n\t},\n\ttemplate: `\n\t\t<RelationTasksChip :meta=\"relatedTasksMeta\" @add=\"handleAdd\"/>\n\t`,\n};\n"],"names":["relatedTasksMeta","Object","freeze","id","TaskField","RelatedTasks","icon","Actions","CONNECTION","idsField","containsField","getTitle","Loc","getMessage","getChipTitle","getCountLoc","getHint","service","relatedTasksService","right","name","components","RelationTasks","inject","taskId","analytics","setup","methods","handleAdd","targetNode","relatedTasksDialog","show","template","RelatedTasksChip","RelationTasksChip","onClose","highlightField","fieldHighlighter","setContainer","$root","$el","highlight"],"mappings":";;;;;;;;OAQaA,gBAAmC,GAAGC,MAAM,CAACC,MAAM,CAAC;GAChEC,EAAE,EAAEC,wBAAS,CAACC,YAAY;GAC1BC,IAAI,EAAEC,0BAAO,CAACC,UAAU;GACxBC,QAAQ,EAAE,gBAAgB;GAC1BC,aAAa,EAAE,sBAAsB;GACrCC,QAAQ,EAAE,MAAMC,aAAG,CAACC,UAAU,CAAC,8BAA8B,CAAC;GAC9DC,YAAY,EAAE,MAAMF,aAAG,CAACC,UAAU,CAAC,mCAAmC,CAAC;GACvEE,WAAW,EAAE,MAAM,oCAAoC;GACvDC,OAAO,EAAE,MAAMJ,aAAG,CAACC,UAAU,CAAC,4BAA4B,CAAC;GAC3DI,OAAO,EAAEC,6DAAmB;GAC5BC,KAAK,EAAE;CACR,CAAC,CAAC;;CCfF;AACA,OAAad,YAAY,GAAG;GAC3Be,IAAI,EAAE,kBAAkB;GACxBC,UAAU,EAAE;oBACXC;IACA;GACDC,MAAM,EAAE;KACPC,MAAM,EAAE,EAAE;KACVC,SAAS,EAAE;IACX;GACDC,KAAK,GACL;KACC,OAAO;OACN1B;MACA;IACD;GACD2B,OAAO,EAAE;KACRC,SAAS,CAACC,UAAuB,EACjC;OACCC,mDAAkB,CAACC,IAAI,CAAC;SACvBF,UAAU;SACVL,MAAM,EAAE,IAAI,CAACA,MAAM;SACnBC,SAAS,EAAE,IAAI,CAACA;QAChB,CAAC;;IAEH;GACDO,QAAQ,EAAG;;;CAGZ,CAAC;;CC5BD;AACA,OAAaC,gBAAgB,GAAG;GAC/BZ,UAAU,EAAE;wBACXa;IACA;GACDX,MAAM,EAAE;KACPC,MAAM,EAAE,EAAE;KACVC,SAAS,EAAE;IACX;GACDC,KAAK,GACL;KACC,OAAO;OACN1B;MACA;IACD;GACD2B,OAAO,EAAE;KACRC,SAAS,CAACC,UAAuB,EACjC;OACCC,mDAAkB,CAACC,IAAI,CAAC;SACvBF,UAAU;SACVL,MAAM,EAAE,IAAI,CAACA,MAAM;SACnBW,OAAO,EAAE,IAAI,CAACC,cAAc;SAC5BX,SAAS,EAAE,IAAI,CAACA;QAChB,CAAC;MACF;KACDW,cAAc,GACd;OACC,KAAKC,8CAAgB,CAACC,YAAY,CAAC,IAAI,CAACC,KAAK,CAACC,GAAG,CAAC,CAACC,SAAS,CAACzC,gBAAgB,CAACG,EAAE,CAAC;;IAElF;GACD6B,QAAQ,EAAG;;;CAGZ,CAAC;;;;;;;;;;"}