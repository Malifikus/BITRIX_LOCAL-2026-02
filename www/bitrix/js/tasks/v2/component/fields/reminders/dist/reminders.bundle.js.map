{"version":3,"file":"reminders.bundle.js","sources":["../src/reminders-meta.js","../src/components/list/list-header.js","../src/components/reminder-sheet/reminder-sheet-content.js","../src/components/reminder-sheet/reminder-sheet.js","../src/components/list/list-item.js","../src/components/list/list-item-skeleton.js","../src/components/list/list.js","../src/reminders-sheet.js","../src/reminders.js","../src/reminders-chip.js"],"sourcesContent":["import { Loc } from 'main.core';\nimport { Outline } from 'ui.icon-set.api.vue';\nimport 'ui.icon-set.outline';\n\nimport { RemindTo, RemindBy, RemindVia, TaskField } from 'tasks.v2.const';\n\nexport const remindersMeta = Object.freeze({\n\tid: TaskField.Reminders,\n\ttitle: Loc.getMessage('TASKS_V2_CHECK_LIST_TITLE'),\n\tto: {\n\t\t[RemindTo.Responsible]: {\n\t\t\ticon: Outline.PERSON,\n\t\t\ttitle: Loc.getMessage('TASKS_V2_REMINDERS_RECIPIENT_RESPONSIBLE'),\n\t\t},\n\t\t[RemindTo.Creator]: {\n\t\t\ticon: Outline.CROWN,\n\t\t\ttitle: Loc.getMessage('TASKS_V2_REMINDERS_RECIPIENT_CREATOR'),\n\t\t},\n\t\t[RemindTo.Accomplice]: {\n\t\t\ticon: Outline.GROUP,\n\t\t\ttitle: Loc.getMessage('TASKS_V2_REMINDERS_RECIPIENT_ACCOMPLICE'),\n\t\t},\n\t\t[RemindTo.Myself]: {\n\t\t\ticon: Outline.BOOKMARK,\n\t\t\ttitle: Loc.getMessage('TASKS_V2_REMINDERS_RECIPIENT_MYSELF'),\n\t\t},\n\t},\n\tby: {\n\t\t[RemindBy.Date]: Loc.getMessage('TASKS_V2_REMINDERS_REMIND_BY_DATE'),\n\t\t[RemindBy.Deadline]: Loc.getMessage('TASKS_V2_REMINDERS_REMIND_BY_DEADLINE'),\n\t},\n\tvia: {\n\t\t[RemindVia.Notification]: {\n\t\t\ticon: Outline.EMPTY_MESSAGE,\n\t\t\ttitle: Loc.getMessage('TASKS_V2_REMINDERS_SEND_VIA_NOTIFICATION'),\n\t\t},\n\t\t[RemindVia.Email]: {\n\t\t\ticon: Outline.MAIL,\n\t\t\ttitle: Loc.getMessage('TASKS_V2_REMINDERS_SEND_VIA_EMAIL'),\n\t\t},\n\t},\n});\n","import { Text2Xs } from 'ui.system.typography.vue';\n\nimport './list-header.css';\n\n// @vue/component\nexport const ListHeader = {\n\tname: 'TasksRemindersListHeader',\n\tcomponents: {\n\t\tText2Xs,\n\t},\n\ttemplate: `\n\t\t<div class=\"tasks-field-reminders-row --header\">\n\t\t\t<div class=\"tasks-field-reminders-column --header --via\">\n\t\t\t\t<Text2Xs>{{ loc('TASKS_V2_REMINDERS_LIST_COLUMN_VIA') }}</Text2Xs>\n\t\t\t</div>\n\t\t\t<div class=\"tasks-field-reminders-column --header --date\">\n\t\t\t\t<Text2Xs>{{ loc('TASKS_V2_REMINDERS_LIST_COLUMN_DATE') }}</Text2Xs>\n\t\t\t</div>\n\t\t\t<div class=\"tasks-field-reminders-column --header --recipients\">\n\t\t\t\t<Text2Xs>{{ loc('TASKS_V2_REMINDERS_LIST_COLUMN_TO') }}</Text2Xs>\n\t\t\t</div>\n\t\t</div>\n\t`,\n};\n","import type { BaseEvent } from 'main.core.events';\n\nimport { DatePicker, DatePickerEvent } from 'ui.date-picker';\nimport { Button as UiButton, AirButtonStyle, ButtonSize } from 'ui.vue3.components.button';\nimport { ChipDesign, type ChipProps } from 'ui.system.chip.vue';\nimport { BInput } from 'ui.system.input.vue';\nimport { BMenu, MenuItemDesign, type MenuOptions } from 'ui.system.menu.vue';\nimport { HeadlineMd } from 'ui.system.typography.vue';\nimport { BIcon, Outline } from 'ui.icon-set.api.vue';\nimport 'ui.icon-set.outline';\n\nimport { Core } from 'tasks.v2.core';\nimport { EntitySelectorEntity, Model, RemindTo, RemindBy, RemindVia } from 'tasks.v2.const';\nimport { Duration } from 'tasks.v2.component.elements.duration';\nimport { EntitySelectorDialog, type Item } from 'tasks.v2.lib.entity-selector-dialog';\nimport { calendar } from 'tasks.v2.lib.calendar';\nimport { timezone } from 'tasks.v2.lib.timezone';\nimport { remindersService } from 'tasks.v2.provider.service.reminders-service';\nimport type { TaskModel } from 'tasks.v2.model.tasks';\nimport type { ReminderModel } from 'tasks.v2.model.reminders';\n\nimport { remindersMeta } from '../../reminders-meta';\nimport './reminder-sheet.css';\n\n// @vue/component\nexport const ReminderSheetContent = {\n\tcomponents: {\n\t\tUiButton,\n\t\tBMenu,\n\t\tBIcon,\n\t\tBInput,\n\t\tHeadlineMd,\n\t\tDuration,\n\t},\n\tinject: {\n\t\ttask: {},\n\t\ttaskId: {},\n\t},\n\tprops: {\n\t\treminderId: {\n\t\t\ttype: [Number, String],\n\t\t\trequired: true,\n\t\t},\n\t\tclose: {\n\t\t\ttype: Function,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tsetup(): { task: TaskModel }\n\t{\n\t\treturn {\n\t\t\tAirButtonStyle,\n\t\t\tButtonSize,\n\t\t\tOutline,\n\t\t\tChipDesign,\n\t\t\tRemindBy,\n\t\t\tremindersMeta,\n\t\t};\n\t},\n\tdata(): Object\n\t{\n\t\treturn {\n\t\t\trecipients: [RemindTo.Responsible],\n\t\t\tremindBy: RemindBy.Date,\n\t\t\tdateTs: null,\n\t\t\tduration: 0,\n\t\t\tremindVia: RemindVia.Notification,\n\t\t\tisDialogShown: false,\n\t\t\tisPickerShown: false,\n\t\t\tisTypeMenuShown: false,\n\t\t\tisViaMenuShown: false,\n\t\t};\n\t},\n\tcomputed: {\n\t\treminder(): ReminderModel\n\t\t{\n\t\t\treturn this.$store.getters[`${Model.Reminders}/getById`](this.reminderId);\n\t\t},\n\t\tbefore(): number\n\t\t{\n\t\t\treturn this.remindBy === RemindBy.Deadline ? this.duration : null;\n\t\t},\n\t\tnextRemindTs(): number\n\t\t{\n\t\t\treturn this.remindBy === RemindBy.Date ? this.dateTs : this.task.deadlineTs - this.before;\n\t\t},\n\t\ttypeMenuOptions(): Function\n\t\t{\n\t\t\treturn (): MenuOptions => ({\n\t\t\t\tbindElement: this.$refs.type.$el,\n\t\t\t\tcloseOnItemClick: false,\n\t\t\t\titems: Object.entries(remindersMeta.by).map(([remindBy, title]) => {\n\t\t\t\t\tconst isDisabled = remindBy === RemindBy.Deadline && !(this.task.deadlineTs > 0);\n\n\t\t\t\t\treturn {\n\t\t\t\t\t\ttitle,\n\t\t\t\t\t\tisSelected: remindBy === this.remindBy,\n\t\t\t\t\t\tdesign: isDisabled ? MenuItemDesign.Disabled : MenuItemDesign.Default,\n\t\t\t\t\t\tonClick: (): void => {\n\t\t\t\t\t\t\tif (!isDisabled)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tthis.remindBy = remindBy;\n\t\t\t\t\t\t\t\tthis.isTypeMenuShown = false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t};\n\t\t\t\t}),\n\t\t\t\ttargetContainer: document.body,\n\t\t\t});\n\t\t},\n\t\tviaMenuOptions(): Function\n\t\t{\n\t\t\treturn (): MenuOptions => ({\n\t\t\t\tbindElement: this.$refs.via.$el,\n\t\t\t\titems: Object.entries(remindersMeta.via).map(([remindVia, { title, icon }]) => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\ttitle,\n\t\t\t\t\t\ticon,\n\t\t\t\t\t\tisSelected: remindVia === this.remindVia,\n\t\t\t\t\t\tonClick: (): void => {\n\t\t\t\t\t\t\tthis.remindVia = remindVia;\n\t\t\t\t\t\t},\n\t\t\t\t\t};\n\t\t\t\t}),\n\t\t\t\ttargetContainer: document.body,\n\t\t\t});\n\t\t},\n\t\tusersChips(): ChipProps[]\n\t\t{\n\t\t\treturn this.recipients.map((id: number | string) => ({\n\t\t\t\tid,\n\t\t\t\tdesign: ChipDesign.Tinted,\n\t\t\t\ttext: remindersMeta.to[id].title,\n\t\t\t\twithClear: true,\n\t\t\t}));\n\t\t},\n\t\ttitle(): string\n\t\t{\n\t\t\tif (this.reminderId)\n\t\t\t{\n\t\t\t\treturn this.loc('TASKS_V2_REMINDERS_UPDATE_SHEET');\n\t\t\t}\n\n\t\t\treturn this.loc('TASKS_V2_REMINDERS_ADD_SHEET');\n\t\t},\n\t},\n\tcreated(): void\n\t{\n\t\tif (!this.reminder)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tthis.recipients = [this.reminder.recipient];\n\t\tthis.remindBy = this.reminder.remindBy;\n\t\tthis.dateTs = this.reminder.nextRemindTs;\n\t\tthis.remindVia = this.reminder.remindVia;\n\t\tif (this.reminder.remindBy === RemindBy.Deadline)\n\t\t{\n\t\t\tthis.duration = this.reminder.before ?? this.task.deadlineTs - this.reminder.nextRemindTs;\n\t\t}\n\t},\n\tmethods: {\n\t\tsave(): void\n\t\t{\n\t\t\tconst reminder: ReminderModel = {\n\t\t\t\tid: this.reminderId || `tmp${Date.now()}`,\n\t\t\t\ttaskId: this.taskId,\n\t\t\t\tuserId: Core.getParams().currentUser.id,\n\t\t\t\tnextRemindTs: this.nextRemindTs,\n\t\t\t\tremindBy: this.remindBy,\n\t\t\t\tremindVia: this.remindVia,\n\t\t\t\trecipient: this.recipients[0],\n\t\t\t\tbefore: this.before,\n\t\t\t};\n\n\t\t\tif (this.reminderId)\n\t\t\t{\n\t\t\t\tvoid remindersService.update(reminder);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tvoid remindersService.add(reminder);\n\t\t\t}\n\n\t\t\tthis.close();\n\t\t},\n\t\tshowDialog({ currentTarget }: { currentTarget: HTMLElement }): void\n\t\t{\n\t\t\tthis.isDialogShown = true;\n\n\t\t\tthis.dialog ??= this.createDialog();\n\t\t\tconst ids = this.recipients.map((id: number | string) => [EntitySelectorEntity.ReminderRecipient, id]);\n\t\t\tthis.dialog.selectItemsByIds(ids);\n\t\t\tthis.dialog.showTo(currentTarget);\n\t\t},\n\t\tcreateDialog(): EntitySelectorDialog\n\t\t{\n\t\t\tconst entityId = EntitySelectorEntity.ReminderRecipient;\n\t\t\tconst dialog = new EntitySelectorDialog({\n\t\t\t\twidth: 400,\n\t\t\t\theight: 200,\n\t\t\t\tdropdownMode: true,\n\t\t\t\tmultiple: false,\n\t\t\t\tentities: [\n\t\t\t\t\t{\n\t\t\t\t\t\tid: entityId,\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t\titems: Object.entries(remindersMeta.to).map(([id, { icon, title }]) => ({\n\t\t\t\t\tid,\n\t\t\t\t\tentityId,\n\t\t\t\t\ttitle,\n\t\t\t\t\tavatarOptions: {\n\t\t\t\t\t\ticon,\n\t\t\t\t\t\ticonColor: 'var(--ui-color-accent-main-primary)',\n\t\t\t\t\t\tbgColor: 'var(--ui-color-accent-soft-blue-2)',\n\t\t\t\t\t},\n\t\t\t\t\ttabs: ['recents'],\n\t\t\t\t})),\n\t\t\t});\n\n\t\t\tdialog.getPopup().subscribeFromOptions({\n\t\t\t\tonClose: (): void => {\n\t\t\t\t\tthis.recipients = dialog.getSelectedItems().map((item: Item) => item.getId());\n\t\t\t\t\tthis.isDialogShown = false;\n\t\t\t\t},\n\t\t\t});\n\n\t\t\treturn dialog;\n\t\t},\n\t\thandleUserClear(chip: ChipProps): void\n\t\t{\n\t\t\tthis.recipients = this.recipients.filter((id: number | string) => id !== chip.id);\n\t\t},\n\t\tshowPicker({ currentTarget }: { currentTarget: HTMLElement }): void\n\t\t{\n\t\t\tthis.picker ??= this.createPicker();\n\t\t\tthis.picker.setTargetNode(currentTarget);\n\t\t\tthis.picker.show();\n\t\t},\n\t\tcreatePicker(): DatePicker\n\t\t{\n\t\t\tconst picker = new DatePicker({\n\t\t\t\tselectedDates: this.dateTs ? [this.dateTs + timezone.getOffset(this.dateTs)] : null,\n\t\t\t\tenableTime: true,\n\t\t\t\tdefaultTime: calendar.dayStartTime,\n\t\t\t\tevents: {\n\t\t\t\t\t[DatePickerEvent.SELECT]: (event: BaseEvent) => {\n\t\t\t\t\t\tconst { date } = event.getData();\n\t\t\t\t\t\tconst dateTs = calendar.createDateFromUtc(date).getTime();\n\t\t\t\t\t\tthis.dateTs = dateTs - timezone.getOffset(dateTs);\n\t\t\t\t\t},\n\t\t\t\t\tonShow: (): void => {\n\t\t\t\t\t\tthis.isPickerShown = true;\n\t\t\t\t\t},\n\t\t\t\t\tonHide: (): void => {\n\t\t\t\t\t\tthis.isPickerShown = false;\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tpopupOptions: {\n\t\t\t\t\tanimation: 'fading',\n\t\t\t\t\ttargetContainer: document.body,\n\t\t\t\t},\n\t\t\t});\n\n\t\t\tpicker.getPicker('day').subscribe('onSelect', () => picker.hide());\n\n\t\t\tlet selectedHour = null;\n\t\t\tpicker.getPicker('time').subscribe('onSelect', (event: BaseEvent) => {\n\t\t\t\tconst { hour, minute } = event.getData();\n\t\t\t\tif (Number.isInteger(minute) || hour === selectedHour)\n\t\t\t\t{\n\t\t\t\t\tpicker.hide();\n\t\t\t\t}\n\n\t\t\t\tselectedHour = hour;\n\t\t\t});\n\n\t\t\treturn picker;\n\t\t},\n\t\thandleDateClear(): void\n\t\t{\n\t\t\tthis.picker?.deselectDate(this.dateTs + timezone.getOffset(this.dateTs));\n\t\t\tthis.dateTs = null;\n\t\t},\n\t\tformatDate(timestamp: number): string\n\t\t{\n\t\t\treturn calendar.formatDateTime(timestamp);\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div class=\"tasks-field-reminder-sheet\">\n\t\t\t<div class=\"tasks-field-reminder-sheet-header\">\n\t\t\t\t<HeadlineMd>{{ title }}</HeadlineMd>\n\t\t\t\t<BIcon :name=\"Outline.CROSS_L\" hoverable @click=\"close\"/>\n\t\t\t</div>\n\t\t\t<BInput\n\t\t\t\t:label=\"loc('TASKS_V2_REMINDERS_RECIPIENT')\"\n\t\t\t\t:placeholder=\"loc('TASKS_V2_REMINDERS_RECIPIENT_PLACEHOLDER')\"\n\t\t\t\t:chips=\"usersChips\"\n\t\t\t\tclickable\n\t\t\t\t:active=\"isDialogShown\"\n\t\t\t\t@click=\"showDialog\"\n\t\t\t\t@chipClear=\"handleUserClear\"\n\t\t\t/>\n\t\t\t<BInput\n\t\t\t\t:modelValue=\"remindersMeta.by[remindBy]\"\n\t\t\t\t:label=\"loc('TASKS_V2_REMINDERS_TYPE')\"\n\t\t\t\tdropdown\n\t\t\t\tclickable\n\t\t\t\t:active=\"isTypeMenuShown\"\n\t\t\t\tref=\"type\"\n\t\t\t\t@click=\"isTypeMenuShown = true\"\n\t\t\t/>\n\t\t\t<BInput\n\t\t\t\tv-if=\"remindBy === RemindBy.Date\"\n\t\t\t\t:modelValue=\"formatDate(dateTs)\"\n\t\t\t\t:label=\"loc('TASKS_V2_REMINDERS_REMIND_BY_DATE_TITLE')\"\n\t\t\t\t:icon=\"Outline.CALENDAR_WITH_SLOTS\"\n\t\t\t\t:withClear=\"dateTs > 0\"\n\t\t\t\tclickable\n\t\t\t\t:active=\"isPickerShown\"\n\t\t\t\t@clear=\"handleDateClear\"\n\t\t\t\t@click=\"showPicker\"\n\t\t\t/>\n\t\t\t<Duration\n\t\t\t\tv-else\n\t\t\t\tv-model=\"duration\"\n\t\t\t\t:label=\"loc('TASKS_V2_REMINDERS_REMIND_BY_DEADLINE_TITLE')\"\n\t\t\t/>\n\t\t\t<BInput\n\t\t\t\t:modelValue=\"remindersMeta.via[remindVia].title\"\n\t\t\t\t:label=\"loc('TASKS_V2_REMINDERS_SEND_VIA')\"\n\t\t\t\tdropdown\n\t\t\t\tclickable\n\t\t\t\t:active=\"isViaMenuShown\"\n\t\t\t\tref=\"via\"\n\t\t\t\t@click=\"isViaMenuShown = true\"\n\t\t\t/>\n\t\t\t<div class=\"tasks-field-reminders-sheet-footer\">\n\t\t\t\t<UiButton\n\t\t\t\t\t:text=\"loc('TASKS_V2_REMINDERS_SAVE')\"\n\t\t\t\t\t:style=\"AirButtonStyle.PRIMARY\"\n\t\t\t\t\t:size=\"ButtonSize.LARGE\"\n\t\t\t\t\t:disabled=\"!nextRemindTs || !recipients.length\"\n\t\t\t\t\t@click=\"save\"\n\t\t\t\t/>\n\t\t\t\t<UiButton\n\t\t\t\t\t:text=\"loc('TASKS_V2_REMINDERS_CANCEL')\"\n\t\t\t\t\t:style=\"AirButtonStyle.OUTLINE\"\n\t\t\t\t\t:size=\"ButtonSize.LARGE\"\n\t\t\t\t\t@click=\"close\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t\t<BMenu v-if=\"isTypeMenuShown\" :options=\"typeMenuOptions()\" @close=\"isTypeMenuShown = false\"/>\n\t\t<BMenu v-if=\"isViaMenuShown\" :options=\"viaMenuOptions()\" @close=\"isViaMenuShown = false\"/>\n\t`,\n};\n","import { BottomSheet } from 'tasks.v2.component.elements.bottom-sheet';\nimport { ReminderSheetContent } from './reminder-sheet-content';\n\n// @vue/component\nexport const ReminderSheet = {\n\tname: 'TaskReminderSheet',\n\tcomponents: {\n\t\tBottomSheet,\n\t\tReminderSheetContent,\n\t},\n\tprops: {\n\t\treminderId: {\n\t\t\ttype: [Number, String],\n\t\t\tdefault: 0,\n\t\t},\n\t\tsheetBindProps: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t},\n\temits: ['close'],\n\ttemplate: `\n\t\t<BottomSheet :sheetBindProps @close=\"$emit('close')\">\n\t\t\t<ReminderSheetContent\n\t\t\t\t:reminderId\n\t\t\t\t:close=\"() => $emit('close')\"\n\t\t\t/>\n\t\t</BottomSheet>\n\t`,\n};\n","import { Loc } from 'main.core';\nimport { DateTimeFormat } from 'main.date';\n\nimport { hint, type HintParams } from 'ui.vue3.directives.hint';\nimport { TextXs, TextMd } from 'ui.system.typography.vue';\nimport { BIcon, Outline } from 'ui.icon-set.api.vue';\nimport 'ui.icon-set.outline';\n\nimport { Model, RemindBy } from 'tasks.v2.const';\nimport { timezone } from 'tasks.v2.lib.timezone';\nimport { tooltip } from 'tasks.v2.component.elements.hint';\nimport { remindersService } from 'tasks.v2.provider.service.reminders-service';\nimport type { ReminderModel } from 'tasks.v2.model.reminders';\nimport type { TaskModel } from 'tasks.v2.model.tasks';\n\nimport { remindersMeta } from '../../reminders-meta';\nimport { ReminderSheet } from '../reminder-sheet/reminder-sheet';\nimport './list-item.css';\n\n// @vue/component\nexport const ListItem = {\n\tname: 'TasksRemindersListItem',\n\tcomponents: {\n\t\tBIcon,\n\t\tTextXs,\n\t\tTextMd,\n\t\tReminderSheet,\n\t},\n\tdirectives: { hint },\n\tinject: {\n\t\ttask: {},\n\t},\n\tprops: {\n\t\treminderId: {\n\t\t\ttype: [Number, String],\n\t\t\trequired: true,\n\t\t},\n\t\tsheetBindProps: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t},\n\temits: ['edit'],\n\tsetup(): { task: TaskModel }\n\t{\n\t\treturn {\n\t\t\tOutline,\n\t\t\tremindersMeta,\n\t\t};\n\t},\n\tdata(): Object\n\t{\n\t\treturn {\n\t\t\tisItemHovered: false,\n\t\t\tisSheetShown: false,\n\t\t};\n\t},\n\tcomputed: {\n\t\treminder(): ReminderModel\n\t\t{\n\t\t\treturn this.$store.getters[`${Model.Reminders}/getById`](this.reminderId);\n\t\t},\n\t\treminderDate(): string\n\t\t{\n\t\t\tconst remindByDeadline = this.reminder.remindBy === RemindBy.Deadline;\n\t\t\tconst before = this.reminder.before ?? this.task.deadlineTs - this.reminder.nextRemindTs;\n\t\t\tconst dateTs = remindByDeadline ? this.task.deadlineTs - before : this.reminder.nextRemindTs;\n\n\t\t\tconst format = Loc.getMessage('TASKS_V2_DATE_TIME_FORMAT', {\n\t\t\t\t'#DATE#': DateTimeFormat.getFormat('FORMAT_DATE'),\n\t\t\t\t'#TIME#': DateTimeFormat.getFormat('SHORT_TIME_FORMAT'),\n\t\t\t});\n\n\t\t\treturn DateTimeFormat.format(format, (dateTs + timezone.getOffset(dateTs)) / 1000);\n\t\t},\n\t\trecipient(): Object\n\t\t{\n\t\t\treturn remindersMeta.to[this.reminder.recipient];\n\t\t},\n\t\tviaTooltip(): Function\n\t\t{\n\t\t\treturn (): HintParams => tooltip({\n\t\t\t\ttext: remindersMeta.via[this.reminder.remindVia].title,\n\t\t\t\tpopupOptions: {\n\t\t\t\t\toffsetLeft: this.$refs.via.$el.offsetWidth / 2,\n\t\t\t\t},\n\t\t\t});\n\t\t},\n\t\teditTooltip(): Function\n\t\t{\n\t\t\treturn (): HintParams => tooltip({\n\t\t\t\ttext: this.loc('TASKS_V2_REMINDERS_LIST_ACTION_EDIT'),\n\t\t\t\tpopupOptions: {\n\t\t\t\t\toffsetLeft: this.$refs.edit.offsetWidth / 2,\n\t\t\t\t},\n\t\t\t});\n\t\t},\n\t\tremoveTooltip(): Function\n\t\t{\n\t\t\treturn (): HintParams => tooltip({\n\t\t\t\ttext: this.loc('TASKS_V2_REMINDERS_LIST_ACTION_REMOVE'),\n\t\t\t\tpopupOptions: {\n\t\t\t\t\toffsetLeft: this.$refs.remove.offsetWidth / 2,\n\t\t\t\t},\n\t\t\t});\n\t\t},\n\t},\n\tmethods: {\n\t\tremoveItem(): void\n\t\t{\n\t\t\tvoid remindersService.delete(this.reminderId);\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div\n\t\t\tclass=\"tasks-field-reminders-row\"\n\t\t\t@mouseover=\"isItemHovered = true\"\n\t\t\t@mouseleave=\"isItemHovered = false\"\n\t\t>\n\t\t\t<div class=\"tasks-field-reminders-column --via\">\n\t\t\t\t<BIcon v-hint=\"viaTooltip\" :name=\"remindersMeta.via[reminder.remindVia].icon\" ref=\"via\"/>\n\t\t\t</div>\n\t\t\t<div class=\"tasks-field-reminders-column --date\">\n\t\t\t\t<TextMd>{{ reminderDate }}</TextMd>\n\t\t\t</div>\n\t\t\t<div class=\"tasks-field-reminders-column --recipients\">\n\t\t\t\t<div class=\"tasks-field-reminders-to\">\n\t\t\t\t\t<BIcon :name=\"recipient.icon\"/>\n\t\t\t\t</div>\n\t\t\t\t<TextMd>{{ recipient.title }}</TextMd>\n\t\t\t</div>\n\t\t\t<div class=\"tasks-field-reminders-column --action\" v-if=\"isItemHovered\">\n\t\t\t\t<div ref=\"edit\" @click=\"isSheetShown = true\">\n\t\t\t\t\t<BIcon v-hint=\"editTooltip\" :name=\"Outline.EDIT_L\" hoverable/>\n\t\t\t\t</div>\n\t\t\t\t<div ref=\"remove\" @click=\"removeItem\">\n\t\t\t\t\t<BIcon v-hint=\"removeTooltip\" :name=\"Outline.TRASHCAN\" hoverable/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<ReminderSheet\n\t\t\tv-if=\"isSheetShown\"\n\t\t\t:reminderId\n\t\t\t:sheetBindProps\n\t\t\t@close=\"isSheetShown = false\"\n\t\t/>\n\t`,\n};\n","import { BLine } from 'ui.system.skeleton.vue';\n\n// @vue/component\nexport const ListItemSkeleton = {\n\tcomponents: {\n\t\tBLine,\n\t},\n\ttemplate: `\n\t\t<div class=\"tasks-field-reminders-row\">\n\t\t\t<div class=\"tasks-field-reminders-column --via\">\n\t\t\t\t<BLine :width=\"20\" :height=\"20\"/>\n\t\t\t</div>\n\t\t\t<div class=\"tasks-field-reminders-column --date\">\n\t\t\t\t<BLine :width=\"160\" :height=\"20\"/>\n\t\t\t</div>\n\t\t\t<div class=\"tasks-field-reminders-column --recipients\">\n\t\t\t\t<BLine :width=\"187\" :height=\"20\"/>\n\t\t\t</div>\n\t\t</div>\n\t`,\n};\n","import { Core } from 'tasks.v2.core';\nimport { Model } from 'tasks.v2.const';\n\nimport { ListHeader } from './list-header';\nimport { ListItem } from './list-item';\nimport { ListItemSkeleton } from './list-item-skeleton';\n\nimport './list.css';\n\n// @vue/component\nexport const List = {\n\tname: 'TasksRemindersList',\n\tcomponents: {\n\t\tListHeader,\n\t\tListItem,\n\t\tListItemSkeleton,\n\t},\n\tinject: {\n\t\ttaskId: {},\n\t},\n\tprops: {\n\t\tnumbers: {\n\t\t\ttype: Number,\n\t\t\trequired: true,\n\t\t},\n\t\tloading: {\n\t\t\ttype: Boolean,\n\t\t\trequired: true,\n\t\t},\n\t\tsheetBindProps: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tcomputed: {\n\t\tremindersIds(): number[]\n\t\t{\n\t\t\treturn this.$store.getters[`${Model.Reminders}/getIds`](this.taskId, Core.getParams().currentUser.id);\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div class=\"tasks-field-reminders-list\">\n\t\t\t<div class=\"tasks-field-reminders-list-header\">\n\t\t\t\t<ListHeader/>\n\t\t\t</div>\n\t\t\t<div class=\"tasks-field-reminders-list-content\">\n\t\t\t\t<template v-if=\"loading\">\n\t\t\t\t\t<ListItemSkeleton v-for=\"key in numbers\" :key/>\n\t\t\t\t</template>\n\t\t\t\t<template v-else v-for=\"reminderId in remindersIds\" :key=\"reminderId\">\n\t\t\t\t\t<ListItem :reminderId :sheetBindProps/>\n\t\t\t\t</template>\n\t\t\t</div>\n\t\t</div>\n\t`,\n};\n","import { Button as UiButton, AirButtonStyle, ButtonColor, ButtonIcon, ButtonSize } from 'ui.vue3.components.button';\nimport { HeadlineMd } from 'ui.system.typography.vue';\nimport { BIcon, Outline } from 'ui.icon-set.api.vue';\nimport 'ui.icon-set.outline';\n\nimport { BottomSheet } from 'tasks.v2.component.elements.bottom-sheet';\nimport { remindersService } from 'tasks.v2.provider.service.reminders-service';\nimport type { TaskModel } from 'tasks.v2.model.tasks';\n\nimport { List } from './components/list/list';\nimport { ReminderSheet } from './components/reminder-sheet/reminder-sheet';\nimport './reminders-sheet.css';\n\n// @vue/component\nexport const RemindersSheet = {\n\tname: 'TasksRemindersSheet',\n\tcomponents: {\n\t\tBIcon,\n\t\tBottomSheet,\n\t\tHeadlineMd,\n\t\tList,\n\t\tUiButton,\n\t\tReminderSheet,\n\t},\n\tinject: {\n\t\ttask: {},\n\t\ttaskId: {},\n\t},\n\tprops: {\n\t\tsheetBindProps: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t},\n\temits: ['close'],\n\tsetup(): { task: TaskModel }\n\t{\n\t\treturn {\n\t\t\tAirButtonStyle,\n\t\t\tButtonSize,\n\t\t\tButtonIcon,\n\t\t\tButtonColor,\n\t\t\tOutline,\n\t\t};\n\t},\n\tdata(): Object\n\t{\n\t\treturn {\n\t\t\tisLoading: true,\n\t\t\tisSheetShown: false,\n\t\t};\n\t},\n\tasync mounted(): Promise<void>\n\t{\n\t\tawait remindersService.list(this.taskId);\n\n\t\tthis.isLoading = false;\n\t},\n\ttemplate: `\n\t\t<BottomSheet :sheetBindProps @close=\"$emit('close')\">\n\t\t\t<div class=\"tasks-field-reminders-sheet\">\n\t\t\t\t<div class=\"tasks-field-reminders-sheet-header\">\n\t\t\t\t\t<HeadlineMd>{{ loc('TASKS_V2_REMINDERS_TITLE_SHEET') }}</HeadlineMd>\n\t\t\t\t\t<BIcon\n\t\t\t\t\t\tclass=\"tasks-field-reminders-sheet-close\"\n\t\t\t\t\t\t:name=\"Outline.CROSS_L\"\n\t\t\t\t\t\thoverable\n\t\t\t\t\t\t@click=\"$emit('close')\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"tasks-field-reminders-sheet-content\">\n\t\t\t\t\t<List\n\t\t\t\t\t\t:numbers=\"task.numberOfReminders\"\n\t\t\t\t\t\t:loading=\"isLoading\"\n\t\t\t\t\t\t:sheetBindProps\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"tasks-field-reminders-sheet-footer\">\n\t\t\t\t\t<UiButton\n\t\t\t\t\t\t:text=\"loc('TASKS_V2_REMINDERS_ADD')\"\n\t\t\t\t\t\t:size=\"ButtonSize.SMALL\"\n\t\t\t\t\t\t:leftIcon=\"ButtonIcon.ADD\"\n\t\t\t\t\t\t:style=\"AirButtonStyle.TINTED\"\n\t\t\t\t\t\t@click=\"isSheetShown = true\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</BottomSheet>\n\t\t<ReminderSheet\n\t\t\tv-if=\"isSheetShown\"\n\t\t\t:sheetBindProps\n\t\t\t@close=\"isSheetShown = false\"\n\t\t/>\n\t`,\n};\n","import { hint, type HintParams } from 'ui.vue3.directives.hint';\nimport { TextMd } from 'ui.system.typography.vue';\nimport { BIcon, Outline } from 'ui.icon-set.api.vue';\nimport 'ui.icon-set.outline';\n\nimport { tooltip } from 'tasks.v2.component.elements.hint';\nimport type { TaskModel } from 'tasks.v2.model.tasks';\n\nimport { remindersMeta } from './reminders-meta';\nimport { RemindersSheet } from './reminders-sheet';\nimport { ReminderSheet } from './components/reminder-sheet/reminder-sheet';\nimport './reminders.css';\n\n// @vue/component\nexport const Reminders = {\n\tname: 'TasksReminders',\n\tcomponents: {\n\t\tBIcon,\n\t\tTextMd,\n\t\tRemindersSheet,\n\t\tReminderSheet,\n\t},\n\tdirectives: { hint },\n\tinject: {\n\t\ttask: {},\n\t\ttaskId: {},\n\t},\n\tprops: {\n\t\tisSheetShown: {\n\t\t\ttype: Boolean,\n\t\t\trequired: true,\n\t\t},\n\t\tisListSheetShown: {\n\t\t\ttype: Boolean,\n\t\t\trequired: true,\n\t\t},\n\t\tsheetBindProps: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tsetup(): { task: TaskModel }\n\t{\n\t\treturn {\n\t\t\tremindersMeta,\n\t\t\tOutline,\n\t\t};\n\t},\n\tcomputed: {\n\t\ttext(): string\n\t\t{\n\t\t\treturn this.loc('TASKS_V2_REMINDERS_TITLE', {\n\t\t\t\t'#NUMBER#': this.task.numberOfReminders,\n\t\t\t});\n\t\t},\n\t\treadonly(): boolean\n\t\t{\n\t\t\treturn !this.task.rights.reminder;\n\t\t},\n\t\ttooltip(): Function\n\t\t{\n\t\t\treturn (): HintParams => tooltip({\n\t\t\t\ttext: this.loc('TASKS_V2_REMINDERS_ADD'),\n\t\t\t\tpopupOptions: {\n\t\t\t\t\toffsetLeft: this.$refs.add.$el.offsetWidth / 2,\n\t\t\t\t},\n\t\t\t});\n\t\t},\n\t},\n\tmethods: {\n\t\tsetSheetShown(isShown: boolean): void\n\t\t{\n\t\t\tthis.$emit('update:isSheetShown', isShown);\n\t\t},\n\t\tsetListSheetShown(isShown: boolean): void\n\t\t{\n\t\t\tthis.$emit('update:isListSheetShown', isShown);\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div class=\"tasks-field-reminders\" :data-task-id=\"taskId\" :data-task-field-id=\"remindersMeta.id\">\n\t\t\t<div class=\"tasks-field-reminders-title\">\n\t\t\t\t<div\n\t\t\t\t\tclass=\"tasks-field-reminders-main\"\n\t\t\t\t\t:class=\"{ '--readonly': readonly }\"\n\t\t\t\t\tref=\"title\"\n\t\t\t\t\t@click=\"setListSheetShown(true)\"\n\t\t\t\t>\n\t\t\t\t\t<BIcon :name=\"Outline.NOTIFICATION\"/>\n\t\t\t\t\t<TextMd accent>{{ text }}</TextMd>\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\tv-if=\"!readonly\"\n\t\t\t\t\tv-hint=\"tooltip\"\n\t\t\t\t\tclass=\"tasks-field-reminders-edit-container\"\n\t\t\t\t>\n\t\t\t\t\t<BIcon\n\t\t\t\t\t\tclass=\"tasks-field-reminders-icon\"\n\t\t\t\t\t\t:name=\"Outline.PLUS_L\"\n\t\t\t\t\t\thoverable\n\t\t\t\t\t\tref=\"add\"\n\t\t\t\t\t\t@click=\"setSheetShown(true)\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<ReminderSheet\n\t\t\tv-if=\"isSheetShown\"\n\t\t\t:sheetBindProps\n\t\t\t@close=\"setSheetShown(false)\"\n\t\t/>\n\t\t<RemindersSheet\n\t\t\tv-if=\"isListSheetShown\"\n\t\t\t:sheetBindProps\n\t\t\t@close=\"setListSheetShown(false)\"\n\t\t/>\n\t`,\n};\n","import { Chip, ChipDesign } from 'ui.system.chip.vue';\nimport { Outline } from 'ui.icon-set.api.vue';\nimport 'ui.icon-set.outline';\n\nimport { fieldHighlighter } from 'tasks.v2.lib.field-highlighter';\nimport type { TaskModel } from 'tasks.v2.model.tasks';\n\nimport { ReminderSheet } from './components/reminder-sheet/reminder-sheet';\nimport { remindersMeta } from './reminders-meta';\n\n// @vue/component\nexport const RemindersChip = {\n\tname: 'TasksRemindersChip',\n\tcomponents: {\n\t\tChip,\n\t\tReminderSheet,\n\t},\n\tinject: {\n\t\ttask: {},\n\t\ttaskId: {},\n\t},\n\tprops: {\n\t\tisSheetShown: {\n\t\t\ttype: Boolean,\n\t\t\trequired: true,\n\t\t},\n\t\tsheetBindProps: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t},\n\temits: ['update:isSheetShown'],\n\tsetup(): { task: TaskModel }\n\t{\n\t\treturn {\n\t\t\tremindersMeta,\n\t\t\tOutline,\n\t\t};\n\t},\n\tcomputed: {\n\t\tdesign(): string\n\t\t{\n\t\t\treturn this.isSelected ? ChipDesign.ShadowAccent : ChipDesign.ShadowNoAccent;\n\t\t},\n\t\tisSelected(): boolean\n\t\t{\n\t\t\treturn this.task.filledFields[remindersMeta.id];\n\t\t},\n\t},\n\tmethods: {\n\t\thandleClick(): void\n\t\t{\n\t\t\tif (this.isSelected)\n\t\t\t{\n\t\t\t\tthis.highlightField();\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.setSheetShown(true);\n\t\t},\n\t\thighlightField(): void\n\t\t{\n\t\t\tvoid fieldHighlighter.setContainer(this.$root.$el).highlight(remindersMeta.id);\n\t\t},\n\t\tsetSheetShown(isShown: boolean): void\n\t\t{\n\t\t\tthis.$emit('update:isSheetShown', isShown);\n\t\t},\n\t},\n\ttemplate: `\n\t\t<Chip\n\t\t\tv-if=\"isSelected || task.rights.reminder\"\n\t\t\t:design\n\t\t\t:icon=\"Outline.NOTIFICATION\"\n\t\t\t:text=\"loc('TASKS_V2_REMINDERS_TITLE_CHIP')\"\n\t\t\t:data-task-id=\"taskId\"\n\t\t\t:data-task-chip-id=\"remindersMeta.id\"\n\t\t\t@click=\"handleClick\"\n\t\t/>\n\t\t<ReminderSheet\n\t\t\tv-if=\"isSheetShown\"\n\t\t\t:sheetBindProps\n\t\t\t@close=\"setSheetShown(false)\"\n\t\t/>\n\t`,\n};\n"],"names":["remindersMeta","Object","freeze","id","TaskField","Reminders","title","Loc","getMessage","to","RemindTo","Responsible","icon","Outline","PERSON","Creator","CROWN","Accomplice","GROUP","Myself","BOOKMARK","by","RemindBy","Date","Deadline","via","RemindVia","Notification","EMPTY_MESSAGE","Email","MAIL","ListHeader","name","components","Text2Xs","template","ReminderSheetContent","UiButton","BMenu","BIcon","BInput","HeadlineMd","Duration","inject","task","taskId","props","reminderId","type","Number","String","required","close","Function","setup","AirButtonStyle","ButtonSize","ChipDesign","data","recipients","remindBy","dateTs","duration","remindVia","isDialogShown","isPickerShown","isTypeMenuShown","isViaMenuShown","computed","reminder","$store","getters","Model","before","nextRemindTs","deadlineTs","typeMenuOptions","bindElement","$refs","$el","closeOnItemClick","items","entries","map","isDisabled","isSelected","design","MenuItemDesign","Disabled","Default","onClick","targetContainer","document","body","viaMenuOptions","usersChips","Tinted","text","withClear","loc","created","recipient","methods","save","now","userId","Core","getParams","currentUser","remindersService","update","add","showDialog","currentTarget","dialog","createDialog","ids","EntitySelectorEntity","ReminderRecipient","selectItemsByIds","showTo","entityId","EntitySelectorDialog","width","height","dropdownMode","multiple","entities","avatarOptions","iconColor","bgColor","tabs","getPopup","subscribeFromOptions","onClose","getSelectedItems","item","getId","handleUserClear","chip","filter","showPicker","picker","createPicker","setTargetNode","show","DatePicker","selectedDates","timezone","getOffset","enableTime","defaultTime","calendar","dayStartTime","events","DatePickerEvent","SELECT","event","date","getData","createDateFromUtc","getTime","onShow","onHide","popupOptions","animation","getPicker","subscribe","hide","selectedHour","hour","minute","isInteger","handleDateClear","deselectDate","formatDate","timestamp","formatDateTime","ReminderSheet","BottomSheet","default","sheetBindProps","emits","ListItem","TextXs","TextMd","directives","hint","isItemHovered","isSheetShown","reminderDate","remindByDeadline","format","DateTimeFormat","getFormat","viaTooltip","tooltip","offsetLeft","offsetWidth","editTooltip","edit","removeTooltip","remove","removeItem","delete","ListItemSkeleton","BLine","List","numbers","loading","Boolean","remindersIds","RemindersSheet","ButtonIcon","ButtonColor","isLoading","mounted","list","isListSheetShown","numberOfReminders","readonly","rights","setSheetShown","isShown","$emit","setListSheetShown","RemindersChip","Chip","ShadowAccent","ShadowNoAccent","filledFields","handleClick","highlightField","fieldHighlighter","setContainer","$root","highlight"],"mappings":"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"}