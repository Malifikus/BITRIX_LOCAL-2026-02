{"version":3,"file":"template-history-chip.bundle.js","sources":["../src/template-history-chip.js"],"sourcesContent":["import { EventEmitter } from 'main.core.events';\n\nimport { Chip, ChipDesign } from 'ui.system.chip.vue';\nimport { Outline } from 'ui.icon-set.api.vue';\nimport { hint, type HintParams } from 'ui.vue3.directives.hint';\nimport 'ui.icon-set.outline';\n\nimport { EventName } from 'tasks.v2.const';\nimport { idUtils } from 'tasks.v2.lib.id-utils';\nimport { tooltip } from 'tasks.v2.component.elements.hint';\n\n// @vue/component\nexport const TemplateHistoryChip = {\n\tcomponents: {\n\t\tChip,\n\t},\n\tdirectives: { hint },\n\tinject: {\n\t\ttaskId: {},\n\t},\n\tprops: {\n\t\tisEnabled: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t},\n\tsetup(): Object\n\t{\n\t\treturn {\n\t\t\tOutline,\n\t\t};\n\t},\n\tcomputed: {\n\t\ttemplateId(): number | string\n\t\t{\n\t\t\treturn idUtils.unbox(this.taskId);\n\t\t},\n\t\tdesign(): string\n\t\t{\n\t\t\tif (!this.isEnabled)\n\t\t\t{\n\t\t\t\treturn ChipDesign.ShadowDisabled;\n\t\t\t}\n\n\t\t\treturn ChipDesign.ShadowNoAccent;\n\t\t},\n\t\ttooltip(): ?Function\n\t\t{\n\t\t\tif (this.isEnabled)\n\t\t\t{\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\treturn (): HintParams => tooltip({\n\t\t\t\ttext: this.loc('TASKS_V2_TEMPLATE_HISTORY_CHIP_HINT'),\n\t\t\t\tpopupOptions: {\n\t\t\t\t\toffsetLeft: this.$el.offsetWidth / 2,\n\t\t\t\t\ttargetContainer: document.querySelector(`[data-task-card-scroll=\"${this.taskId}\"]`),\n\t\t\t\t},\n\t\t\t\ttimeout: 200,\n\t\t\t});\n\t\t},\n\t},\n\tmethods: {\n\t\thandleClick(): void\n\t\t{\n\t\t\tif (!this.isEnabled)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tEventEmitter.emit(EventName.OpenTemplateHistory, { templateId: this.templateId });\n\t\t},\n\t},\n\ttemplate: `\n\t\t<Chip\n\t\t\tv-hint=\"tooltip\"\n\t\t\t:text=\"loc('TASKS_V2_TEMPLATE_HISTORY_CHIP_TITLE')\"\n\t\t\t:icon=\"Outline.FILE_WITH_CLOCK\"\n\t\t\t:design=\"design\"\n\t\t\t@click=\"handleClick\"\n\t\t/>\n\t`,\n};\n"],"names":["TemplateHistoryChip","components","Chip","directives","hint","inject","taskId","props","isEnabled","type","Boolean","default","setup","Outline","computed","templateId","idUtils","unbox","design","ChipDesign","ShadowDisabled","ShadowNoAccent","tooltip","text","loc","popupOptions","offsetLeft","$el","offsetWidth","targetContainer","document","querySelector","timeout","methods","handleClick","EventEmitter","emit","EventName","OpenTemplateHistory","template"],"mappings":";;;;;;;;CAWA;AACA,OAAaA,mBAAmB,GAAG;GAClCC,UAAU,EAAE;WACXC;IACA;GACDC,UAAU,EAAE;WAAEC;IAAM;GACpBC,MAAM,EAAE;KACPC,MAAM,EAAE;IACR;GACDC,KAAK,EAAE;KACNC,SAAS,EAAE;OACVC,IAAI,EAAEC,OAAO;OACbC,OAAO,EAAE;;IAEV;GACDC,KAAK,GACL;KACC,OAAO;gBACNC;MACA;IACD;GACDC,QAAQ,EAAE;KACTC,UAAU,GACV;OACC,OAAOC,4BAAO,CAACC,KAAK,CAAC,IAAI,CAACX,MAAM,CAAC;MACjC;KACDY,MAAM,GACN;OACC,IAAI,CAAC,IAAI,CAACV,SAAS,EACnB;SACC,OAAOW,6BAAU,CAACC,cAAc;;OAGjC,OAAOD,6BAAU,CAACE,cAAc;MAChC;KACDC,OAAO,GACP;OACC,IAAI,IAAI,CAACd,SAAS,EAClB;SACC,OAAO,IAAI;;OAGZ,OAAO,MAAkBc,wCAAO,CAAC;SAChCC,IAAI,EAAE,IAAI,CAACC,GAAG,CAAC,qCAAqC,CAAC;SACrDC,YAAY,EAAE;WACbC,UAAU,EAAE,IAAI,CAACC,GAAG,CAACC,WAAW,GAAG,CAAC;WACpCC,eAAe,EAAEC,QAAQ,CAACC,aAAa,CAAE,2BAA0B,IAAI,CAACzB,MAAO,IAAG;UAClF;SACD0B,OAAO,EAAE;QACT,CAAC;;IAEH;GACDC,OAAO,EAAE;KACRC,WAAW,GACX;OACC,IAAI,CAAC,IAAI,CAAC1B,SAAS,EACnB;SACC;;OAGD2B,6BAAY,CAACC,IAAI,CAACC,wBAAS,CAACC,mBAAmB,EAAE;SAAEvB,UAAU,EAAE,IAAI,CAACA;QAAY,CAAC;;IAElF;GACDwB,QAAQ,EAAG;;;;;;;;;CASZ,CAAC;;;;;;;;"}