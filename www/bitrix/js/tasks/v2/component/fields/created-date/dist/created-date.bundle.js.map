{"version":3,"file":"created-date.bundle.js","sources":["../src/created-date-meta.js","../src/created-date.js"],"sourcesContent":["import { Loc } from 'main.core';\nimport { TaskField } from 'tasks.v2.const';\n\nexport const createdDateMeta = Object.freeze({\n\tid: TaskField.CreatedDate,\n\ttitle: Loc.getMessage('TASKS_V2_CREATED_DATE_TITLE'),\n});\n","import { Dom } from 'main.core';\nimport { Notifier } from 'ui.notification-manager';\nimport { TextMd } from 'ui.system.typography.vue';\nimport { BIcon, Outline } from 'ui.icon-set.api.vue';\nimport 'ui.icon-set.outline';\n\nimport { HoverPill } from 'tasks.v2.component.elements.hover-pill';\nimport { calendar } from 'tasks.v2.lib.calendar';\nimport type { TaskModel } from 'tasks.v2.model.tasks';\n\nimport { createdDateMeta } from './created-date-meta';\nimport './created-date.css';\n\n// @vue/component\nexport const CreatedDate = {\n\tname: 'TasksCreatedDate',\n\tcomponents: {\n\t\tBIcon,\n\t\tTextMd,\n\t\tHoverPill,\n\t},\n\tinject: {\n\t\ttask: {},\n\t},\n\tsetup(): { task: TaskModel }\n\t{\n\t\treturn {\n\t\t\tcreatedDateMeta,\n\t\t\tOutline,\n\t\t\tresizeObserver: null,\n\t\t};\n\t},\n\tcomputed: {\n\t\tcreatedDateFormatted(): string\n\t\t{\n\t\t\treturn calendar.formatDateTime(this.task.createdTs);\n\t\t},\n\t\tidFormatted(): string\n\t\t{\n\t\t\treturn this.loc('TASKS_V2_CREATED_DATE_TASK_ID', {\n\t\t\t\t'#TASK_ID#': this.task.id,\n\t\t\t});\n\t\t},\n\t},\n\tcreated(): void\n\t{\n\t\tthis.resizeObserver = new ResizeObserver((entries: ResizeObserverEntry[]): void => {\n\t\t\tfor (const entry: ResizeObserverEntry of entries)\n\t\t\t{\n\t\t\t\tif (entry.target === this.$el)\n\t\t\t\t{\n\t\t\t\t\tthis.updateHeight();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t},\n\tmounted(): void\n\t{\n\t\tthis.updateHeight();\n\t\tthis.resizeObserver?.observe(this.$el);\n\t},\n\tbeforeUnmount(): void\n\t{\n\t\tthis.resizeObserver?.disconnect();\n\t},\n\tmethods: {\n\t\tupdateHeight(): void\n\t\t{\n\t\t\tDom.toggleClass(this.$el, '--wrapped', this.$el.offsetHeight > 30);\n\t\t},\n\t\tcopyTaskId(): void\n\t\t{\n\t\t\tconst isCopyingSuccess = BX.clipboard.copy(this.task.id);\n\t\t\tif (isCopyingSuccess)\n\t\t\t{\n\t\t\t\tNotifier.notifyViaBrowserProvider({\n\t\t\t\t\tid: 'task-notify-copy',\n\t\t\t\t\ttext: this.loc('TASKS_V2_CREATED_DATE_COPY_TASK_ID_NOTIF'),\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div\n\t\t\tclass=\"tasks-field-created-date\"\n\t\t\t:data-task-field-id=\"createdDateMeta.id\"\n\t\t\t:data-task-field-value=\"task.createdTs\"\n\t\t>\n\t\t\t<BIcon class=\"tasks-field-created-date-icon\" :name=\"Outline.CALENDAR_SHARE\"/>\n\t\t\t<TextMd class=\"tasks-field-created-date-text\">{{ createdDateFormatted }}</TextMd>\n\t\t\t<div class=\"tasks-field-created-date-separator\"> / </div>\n\t\t\t<div class=\"tasks-field-created-date-id-container\" @click=\"copyTaskId\">\n\t\t\t\t<TextMd class=\"tasks-field-created-date-id-text\">{{ idFormatted }}</TextMd>\n\t\t\t\t<BIcon class=\"tasks-field-created-date-copy-id-icon\" :name=\"Outline.COPY\"/>\n\t\t\t</div>\n\t\t</div>\n\t`,\n};\n"],"names":["createdDateMeta","Object","freeze","id","TaskField","CreatedDate","title","Loc","getMessage","name","components","BIcon","TextMd","HoverPill","inject","task","setup","Outline","resizeObserver","computed","createdDateFormatted","calendar","formatDateTime","createdTs","idFormatted","loc","created","ResizeObserver","entries","entry","target","$el","updateHeight","mounted","observe","beforeUnmount","disconnect","methods","Dom","toggleClass","offsetHeight","copyTaskId","isCopyingSuccess","BX","clipboard","copy","Notifier","notifyViaBrowserProvider","text","template"],"mappings":";;;;;;;;OAGaA,eAAe,GAAGC,MAAM,CAACC,MAAM,CAAC;GAC5CC,EAAE,EAAEC,wBAAS,CAACC,WAAW;GACzBC,KAAK,EAAEC,aAAG,CAACC,UAAU,CAAC,6BAA6B;CACpD,CAAC,CAAC;;CCOF;AACA,OAAaH,WAAW,GAAG;GAC1BI,IAAI,EAAE,kBAAkB;GACxBC,UAAU,EAAE;YACXC,wBAAK;aACLC,+BAAM;gBACNC;IACA;GACDC,MAAM,EAAE;KACPC,IAAI,EAAE;IACN;GACDC,KAAK,GACL;KACC,OAAO;OACNhB,eAAe;gBACfiB,0BAAO;OACPC,cAAc,EAAE;MAChB;IACD;GACDC,QAAQ,EAAE;KACTC,oBAAoB,GACpB;OACC,OAAOC,8BAAQ,CAACC,cAAc,CAAC,IAAI,CAACP,IAAI,CAACQ,SAAS,CAAC;MACnD;KACDC,WAAW,GACX;OACC,OAAO,IAAI,CAACC,GAAG,CAAC,+BAA+B,EAAE;SAChD,WAAW,EAAE,IAAI,CAACV,IAAI,CAACZ;QACvB,CAAC;;IAEH;GACDuB,OAAO,GACP;KACC,IAAI,CAACR,cAAc,GAAG,IAAIS,cAAc,CAAEC,OAA8B,IAAW;OAClF,KAAK,MAAMC,KAA0B,IAAID,OAAO,EAChD;SACC,IAAIC,KAAK,CAACC,MAAM,KAAK,IAAI,CAACC,GAAG,EAC7B;WACC,IAAI,CAACC,YAAY,EAAE;;;MAGrB,CAAC;IACF;GACDC,OAAO,GACP;KAAA;KACC,IAAI,CAACD,YAAY,EAAE;KACnB,4BAAI,CAACd,cAAc,qBAAnB,qBAAqBgB,OAAO,CAAC,IAAI,CAACH,GAAG,CAAC;IACtC;GACDI,aAAa,GACb;KAAA;KACC,6BAAI,CAACjB,cAAc,qBAAnB,sBAAqBkB,UAAU,EAAE;IACjC;GACDC,OAAO,EAAE;KACRL,YAAY,GACZ;OACCM,aAAG,CAACC,WAAW,CAAC,IAAI,CAACR,GAAG,EAAE,WAAW,EAAE,IAAI,CAACA,GAAG,CAACS,YAAY,GAAG,EAAE,CAAC;MAClE;KACDC,UAAU,GACV;OACC,MAAMC,gBAAgB,GAAGC,EAAE,CAACC,SAAS,CAACC,IAAI,CAAC,IAAI,CAAC9B,IAAI,CAACZ,EAAE,CAAC;OACxD,IAAIuC,gBAAgB,EACpB;SACCI,+BAAQ,CAACC,wBAAwB,CAAC;WACjC5C,EAAE,EAAE,kBAAkB;WACtB6C,IAAI,EAAE,IAAI,CAACvB,GAAG,CAAC,0CAA0C;UACzD,CAAC;;;IAGJ;GACDwB,QAAQ,EAAG;;;;;;;;;;;;;;;CAeZ,CAAC;;;;;;;;;"}