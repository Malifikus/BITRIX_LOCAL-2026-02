{"version":3,"file":"status.bundle.js","sources":["../src/status-meta.js","../src/status.js"],"sourcesContent":["import { Loc } from 'main.core';\nimport { TaskField } from 'tasks.v2.const';\n\nexport const statusMeta = Object.freeze({\n\tid: TaskField.Status,\n\ttitle: Loc.getMessage('TASKS_V2_STATUS_TITLE'),\n});\n","import { DateTimeFormat } from 'main.date';\nimport { hint, type HintParams } from 'ui.vue3.directives.hint';\nimport { BMenu, type MenuItemOptions, type MenuOptions } from 'ui.system.menu.vue';\nimport { BIcon, Outline } from 'ui.icon-set.api.vue';\nimport 'ui.icon-set.outline';\n\nimport { TaskStatus, Analytics } from 'tasks.v2.const';\nimport { HoverPill } from 'tasks.v2.component.elements.hover-pill';\nimport { tooltip } from 'tasks.v2.component.elements.hint';\nimport { timezone } from 'tasks.v2.lib.timezone';\nimport { statusService } from 'tasks.v2.provider.service.status-service';\nimport type { TaskModel, TaskRights } from 'tasks.v2.model.tasks';\n\nimport { statusMeta } from './status-meta';\nimport './status.css';\n\n// @vue/component\nexport const Status = {\n\tcomponents: {\n\t\tBIcon,\n\t\tBMenu,\n\t\tHoverPill,\n\t},\n\tdirectives: { hint },\n\tinject: {\n\t\ttask: {},\n\t\ttaskId: {},\n\t\tanalytics: {},\n\t},\n\tsetup(): { task: TaskModel }\n\t{\n\t\treturn {\n\t\t\tstatusMeta,\n\t\t\tOutline,\n\t\t};\n\t},\n\tdata(): Object\n\t{\n\t\treturn {\n\t\t\tisMenuShown: false,\n\t\t};\n\t},\n\tcomputed: {\n\t\trights(): TaskRights\n\t\t{\n\t\t\treturn this.task.rights;\n\t\t},\n\t\ticon(): string\n\t\t{\n\t\t\tconst statuses = {\n\t\t\t\t[TaskStatus.Pending]: Outline.HOURGLASS,\n\t\t\t\t[TaskStatus.InProgress]: Outline.NEXT,\n\t\t\t\t[TaskStatus.SupposedlyCompleted]: Outline.REFRESH,\n\t\t\t\t[TaskStatus.Completed]: Outline.SENDED,\n\t\t\t\t[TaskStatus.Deferred]: Outline.PAUSE_L,\n\t\t\t};\n\n\t\t\treturn statuses[this.task.status] ?? Outline.HOURGLASS;\n\t\t},\n\t\tstatusFormatted(): string\n\t\t{\n\t\t\tconst statuses = {\n\t\t\t\t[TaskStatus.Pending]: this.loc('TASKS_V2_STATUS_PENDING'),\n\t\t\t\t[TaskStatus.InProgress]: this.loc('TASKS_V2_STATUS_IN_PROGRESS'),\n\t\t\t\t[TaskStatus.SupposedlyCompleted]: this.loc('TASKS_V2_STATUS_SUPPOSEDLY_COMPLETED_MSGVER_1'),\n\t\t\t\t[TaskStatus.Completed]: this.loc('TASKS_V2_STATUS_COMPLETED_MSGVER_1'),\n\t\t\t\t[TaskStatus.Deferred]: this.loc('TASKS_V2_STATUS_DEFERRED'),\n\t\t\t};\n\n\t\t\treturn statuses[this.task.status] ?? this.loc('TASKS_V2_STATUS_PENDING');\n\t\t},\n\t\tstatusAtFormatted(): string\n\t\t{\n\t\t\treturn this.loc('TASKS_V2_STATUS_FROM', {\n\t\t\t\t'#DATE#': this.formatDate(this.statusChangedTs),\n\t\t\t\t'#TIME#': this.formatTime(this.statusChangedTs),\n\t\t\t});\n\t\t},\n\t\tstatusChangedTs(): number\n\t\t{\n\t\t\treturn this.task.statusChangedTs || this.task.createdTs;\n\t\t},\n\t\tmenuOptions(): MenuOptions\n\t\t{\n\t\t\treturn {\n\t\t\t\tid: `tasks-status-menu-${this.taskId}`,\n\t\t\t\tbindElement: this.$refs.clickable.$el,\n\t\t\t\toffsetTop: 8,\n\t\t\t\titems: this.menuItems,\n\t\t\t\ttargetContainer: document.body,\n\t\t\t};\n\t\t},\n\t\tmenuItems(): MenuItemOptions[]\n\t\t{\n\t\t\tconst statusActionsMap = {\n\t\t\t\t[TaskStatus.Pending]: [\n\t\t\t\t\tthis.rights.start && this.getStartItem(),\n\t\t\t\t\tthis.rights.complete && this.getCompleteItem(),\n\t\t\t\t\tthis.rights.defer && this.getDeferItem(),\n\t\t\t\t].filter(Boolean),\n\t\t\t\t[TaskStatus.InProgress]: [\n\t\t\t\t\tthis.rights.pause && this.getPauseItem(),\n\t\t\t\t\tthis.rights.complete && this.getCompleteItem(),\n\t\t\t\t].filter(Boolean),\n\t\t\t\t[TaskStatus.SupposedlyCompleted]: [\n\t\t\t\t\tthis.rights.renew && this.getRenewItem(),\n\t\t\t\t\tthis.rights.complete && this.getCompleteItem(),\n\t\t\t\t].filter(Boolean),\n\t\t\t\t[TaskStatus.Deferred]: [\n\t\t\t\t\tthis.rights.renew && this.getResumeItem(),\n\t\t\t\t\tthis.rights.complete && this.getCompleteItem(),\n\t\t\t\t].filter(Boolean),\n\t\t\t\t[TaskStatus.Completed]: [\n\t\t\t\t\tthis.rights.renew && this.getResumeItem(),\n\t\t\t\t].filter(Boolean),\n\t\t\t};\n\n\t\t\treturn statusActionsMap[this.task.status] ?? [];\n\t\t},\n\t\thasMenuItems(): boolean\n\t\t{\n\t\t\treturn this.menuItems.length > 0;\n\t\t},\n\t\ttooltip(): ?Function\n\t\t{\n\t\t\treturn (): HintParams => tooltip({\n\t\t\t\ttext: this.statusAtFormatted,\n\t\t\t\tpopupOptions: {\n\t\t\t\t\toffsetLeft: 40,\n\t\t\t\t},\n\t\t\t\ttimeout: 200,\n\t\t\t});\n\t\t},\n\t\tcontrolTooltip(): ?Function\n\t\t{\n\t\t\treturn (): HintParams => tooltip({\n\t\t\t\ttext: this.loc('TASKS_V2_STATUS_NEEDS_CONTROL_HINT'),\n\t\t\t\tpopupOptions: {\n\t\t\t\t\toffsetLeft: this.$refs.needsControl.offsetWidth / 2,\n\t\t\t\t},\n\t\t\t\ttimeout: 200,\n\t\t\t});\n\t\t},\n\t},\n\tmethods: {\n\t\tformatDate(timestamp: number): string\n\t\t{\n\t\t\tconst timezoneTimestamp = (timestamp + timezone.getOffset(timestamp)) / 1000;\n\n\t\t\treturn DateTimeFormat.format(DateTimeFormat.getFormat('SHORT_DATE_FORMAT'), timezoneTimestamp);\n\t\t},\n\t\tformatTime(timestamp: number): string\n\t\t{\n\t\t\tconst timezoneTimestamp = (timestamp + timezone.getOffset(timestamp)) / 1000;\n\n\t\t\treturn DateTimeFormat.format(DateTimeFormat.getFormat('SHORT_TIME_FORMAT'), timezoneTimestamp);\n\t\t},\n\t\thandleClick(): void\n\t\t{\n\t\t\tif (!this.hasMenuItems)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.isMenuShown = true;\n\t\t},\n\t\tgetStartItem(): MenuItemOptions\n\t\t{\n\t\t\treturn {\n\t\t\t\ttitle: this.loc('TASKS_V2_STATUS_START_ACTION'),\n\t\t\t\ticon: Outline.NEXT,\n\t\t\t\tdataset: {\n\t\t\t\t\tid: 'tasks-status-menu-start',\n\t\t\t\t},\n\t\t\t\tonClick: (): void => statusService.start(this.taskId),\n\t\t\t};\n\t\t},\n\t\tgetPauseItem(): MenuItemOptions\n\t\t{\n\t\t\treturn {\n\t\t\t\ttitle: this.loc('TASKS_V2_STATUS_PAUSE_ACTION'),\n\t\t\t\ticon: Outline.HOURGLASS,\n\t\t\t\tdataset: {\n\t\t\t\t\tid: 'tasks-status-menu-pause',\n\t\t\t\t},\n\t\t\t\tonClick: (): void => statusService.pause(this.taskId),\n\t\t\t};\n\t\t},\n\t\tgetCompleteItem(): MenuItemOptions\n\t\t{\n\t\t\treturn {\n\t\t\t\ttitle: this.loc('TASKS_V2_STATUS_COMPLETE_ACTION'),\n\t\t\t\ticon: Outline.CHECK_L,\n\t\t\t\tdataset: {\n\t\t\t\t\tid: 'tasks-status-menu-complete',\n\t\t\t\t},\n\t\t\t\tonClick: (): void => {\n\t\t\t\t\tvoid statusService.complete(\n\t\t\t\t\t\tthis.taskId,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tcontext: this.analytics?.context ?? Analytics.Section.Tasks,\n\t\t\t\t\t\t\tadditionalContext: this.analytics?.additionalContext ?? Analytics.SubSection.TaskCard,\n\t\t\t\t\t\t\telement: Analytics.Element.ContextMenu,\n\t\t\t\t\t\t},\n\t\t\t\t\t);\n\t\t\t\t},\n\t\t\t};\n\t\t},\n\t\tgetDeferItem(): MenuItemOptions\n\t\t{\n\t\t\treturn {\n\t\t\t\ttitle: this.loc('TASKS_V2_STATUS_DEFER_ACTION'),\n\t\t\t\ticon: Outline.PAUSE_L,\n\t\t\t\tdataset: {\n\t\t\t\t\tid: 'tasks-status-menu-defer',\n\t\t\t\t},\n\t\t\t\tonClick: (): void => statusService.defer(this.taskId),\n\t\t\t};\n\t\t},\n\t\tgetRenewItem(): MenuItemOptions\n\t\t{\n\t\t\tif (!this.task.rights.renew)\n\t\t\t{\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\ttitle: this.loc('TASKS_V2_STATUS_RENEW_ACTION'),\n\t\t\t\ticon: Outline.UNDO,\n\t\t\t\tdataset: {\n\t\t\t\t\tid: 'tasks-status-menu-renew',\n\t\t\t\t},\n\t\t\t\tonClick: (): void => statusService.renew(this.taskId),\n\t\t\t};\n\t\t},\n\t\tgetResumeItem(): MenuItemOptions\n\t\t{\n\t\t\treturn {\n\t\t\t\ttitle: this.loc('TASKS_V2_STATUS_RESUME_ACTION'),\n\t\t\t\ticon: Outline.UNDO,\n\t\t\t\tdataset: {\n\t\t\t\t\tid: 'tasks-status-menu-resume',\n\t\t\t\t},\n\t\t\t\tonClick: (): void => statusService.renew(this.taskId),\n\t\t\t};\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div\n\t\t\tclass=\"tasks-field-status\"\n\t\t\t:data-task-id=\"taskId\"\n\t\t\t:data-task-field-id=\"statusMeta.id\"\n\t\t\t:data-task-field-value=\"task.status\"\n\t\t\t:data-task-created-ts=\"task.createdTs\"\n\t\t\t:data-task-status-changes-ts=\"statusChangedTs\"\n\t\t>\n\t\t\t<HoverPill\n\t\t\t\tv-hint=\"tooltip\"\n\t\t\t\t:active=\"isMenuShown\"\n\t\t\t\t:readonly=\"!hasMenuItems\"\n\t\t\t\t@click=\"handleClick\"\n\t\t\t\tref=\"clickable\"\n\t\t\t>\n\t\t\t\t<BIcon class=\"tasks-field-status-icon\" :name=\"icon\"/>\n\t\t\t\t<div class=\"tasks-field-status-text\">{{ statusFormatted }}</div>\n\t\t\t</HoverPill>\n\t\t\t<div ref=\"needsControl\" class=\"tasks-field-status-control\" v-hint=\"controlTooltip\">\n\t\t\t\t<BIcon\n\t\t\t\t\tv-if=\"task.needsControl\"\n\t\t\t\t\tclass=\"tasks-field-status-control-icon\"\n\t\t\t\t\t:name=\"Outline.CHECK_DEFERRED\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t\t<BMenu v-if=\"isMenuShown\" :options=\"menuOptions\" @close=\"isMenuShown = false\"/>\n\t`,\n};\n"],"names":["statusMeta","Object","freeze","id","TaskField","Status","title","Loc","getMessage","components","BIcon","BMenu","HoverPill","directives","hint","inject","task","taskId","analytics","setup","Outline","data","isMenuShown","computed","rights","icon","statuses","TaskStatus","Pending","HOURGLASS","InProgress","NEXT","SupposedlyCompleted","REFRESH","Completed","SENDED","Deferred","PAUSE_L","status","statusFormatted","loc","statusAtFormatted","formatDate","statusChangedTs","formatTime","createdTs","menuOptions","bindElement","$refs","clickable","$el","offsetTop","items","menuItems","targetContainer","document","body","statusActionsMap","start","getStartItem","complete","getCompleteItem","defer","getDeferItem","filter","Boolean","pause","getPauseItem","renew","getRenewItem","getResumeItem","hasMenuItems","length","tooltip","text","popupOptions","offsetLeft","timeout","controlTooltip","needsControl","offsetWidth","methods","timestamp","timezoneTimestamp","timezone","getOffset","DateTimeFormat","format","getFormat","handleClick","dataset","onClick","statusService","CHECK_L","context","Analytics","Section","Tasks","additionalContext","SubSection","TaskCard","element","Element","ContextMenu","UNDO","template"],"mappings":"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"}