this.BX=this.BX||{};this.BX.Tasks=this.BX.Tasks||{};this.BX.Tasks.V2=this.BX.Tasks.V2||{};this.BX.Tasks.V2.Component=this.BX.Tasks.V2.Component||{};(function(t,e,s,r,n,i,o){"use strict";const a={components:{HoverPill:i.HoverPill,UserLabel:o.UserLabel},props:{users:{type:Array,required:true},readonly:{type:Boolean,default:false},removableUserId:{type:Number,default:0},activeUserId:{type:Number,default:0},compact:{type:Boolean,default:false},withoutClear:{type:Boolean,default:false}},emits:["onUserClick","onUserCrossClick"],methods:{getNode(t){var e;return(e=this.$refs[`user_${t}`])==null?void 0:e[0].$el}},template:`\n\t\t<template v-for="user in users" :key="user.id">\n\t\t\t<HoverPill\n\t\t\t\tclass="b24-user-avatar-list-user"\n\t\t\t\t:compact\n\t\t\t\t:withClear="!withoutClear && (!readonly || user.id === removableUserId) && !compact"\n\t\t\t\t:active="activeUserId === user.id"\n\t\t\t\t@click.stop="$emit('onUserClick', user.id)"\n\t\t\t\t@clear="$emit('onUserCrossClick', user.id)"\n\t\t\t>\n\t\t\t\t<UserLabel :user :ref="'user_' + user.id" :avatarOnly="compact"/>\n\t\t\t</HoverPill>\n\t\t</template>\n\t`};const u={name:"UiUserAvatarList",components:{Popup:e.Popup,UserAvatar:r.UserAvatar,UserAvatarListUsers:a},props:{users:{type:Array,required:true},visibleAmount:{type:Number,default:3},withPopup:{type:Boolean,default:true}},data(){return{isPopupShown:false}},computed:{visibleUsers(){return this.users.slice(0,this.visibleAmount)},popupUsers(){return this.users.slice(this.visibleAmount)},count(){return this.users.length},invisibleCount(){return this.count-this.visibleAmount},popupOptions(){return()=>({id:"ui-user-avatar-list-more-popup",bindElement:this.$refs.more,padding:18,maxWidth:300,maxHeight:window.innerHeight/2-40,offsetTop:8,offsetLeft:-18,targetContainer:document.body})}},methods:{showListUsers(){if(!this.withPopup){return}this.isPopupShown=true},handleClickFromListUsers(t){BX.SidePanel.Instance.emulateAnchorClick(s.userService.getUrl(t))}},template:`\n\t\t<div\n\t\t\tref="container"\n\t\t\tclass="b24-user-avatar-list"\n\t\t>\n\t\t\t<UserAvatar\n\t\t\t\tv-for="user in visibleUsers"\n\t\t\t\t:key="user.id"\n\t\t\t\t:id="user.id"\n\t\t\t\t:src="user.image"\n\t\t\t\t:type="user.type"\n\t\t\t\t:bx-tooltip-user-id="user.id"\n\t\t\t\tbx-tooltip-context="b24"\n\t\t\t\tclass="b24-user-avatar-list-item"\n\t\t\t/>\n\t\t\t<div\n\t\t\t\tv-if="count > visibleAmount"\n\t\t\t\tref="more"\n\t\t\t\tclass="b24-user-avatar-list-more"\n\t\t\t\t@click="showListUsers"\n\t\t\t>\n\t\t\t\t+{{ invisibleCount }}\n\t\t\t</div>\n\t\t\t<Popup\n\t\t\t\tv-if="isPopupShown"\n\t\t\t\t:options="popupOptions()"\n\t\t\t\t@close="isPopupShown = false"\n\t\t\t>\n\t\t\t\t<div class="b24-user-avatar-list-users --popup">\n\t\t\t\t\t<UserAvatarListUsers\n\t\t\t\t\t\t:users="popupUsers"\n\t\t\t\t\t\tref="popupUserList"\n\t\t\t\t\t\t@onUserClick="(userId) => handleClickFromListUsers(userId)"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</Popup>\n\t\t</div>\n\t`};t.UserAvatarList=u;t.UserAvatarListUsers=a})(this.BX.Tasks.V2.Component.Elements=this.BX.Tasks.V2.Component.Elements||{},BX.UI.Vue3.Components,BX.Tasks.V2.Provider.Service,BX.Tasks.V2.Component.Elements,BX.UI,BX.Tasks.V2.Component.Elements,BX.Tasks.V2.Component.Elements);
//# sourceMappingURL=user-avatar-list.bundle.map.js