this.BX=this.BX||{};this.BX.Tasks=this.BX.Tasks||{};this.BX.Tasks.V2=this.BX.Tasks.V2||{};(function(e,s,a){"use strict";const t={[a.TaskField.DatePlan]:new Set(["startPlanTs","endPlanTs","matchesSubTasksTime","startDatePlanAfter","endDatePlanAfter"]),[a.TaskField.SubTasks]:new Set(["containsSubTasks"]),[a.TaskField.RelatedTasks]:new Set(["containsRelatedTasks"]),[a.TaskField.Gantt]:new Set(["containsGanttLinks"]),[a.TaskField.Placements]:new Set(["containsPlacements"]),[a.TaskField.Results]:new Set(["containsResults"]),[a.TaskField.Reminders]:new Set(["numberOfReminders"]),[a.TaskField.Replication]:new Set(["replicate"])};var l=babelHelpers.classPrivateFieldLooseKey("setFieldsFilled");var i=babelHelpers.classPrivateFieldLooseKey("getAliasField");class d extends s.BuilderEntityModel{constructor(...e){super(...e);Object.defineProperty(this,i,{value:r});Object.defineProperty(this,l,{value:n})}static createWithVariables(e){return d.create().setVariables({stateFlags:e.stateFlags,deadlineUserOption:e.deadlineUserOption})}getName(){return a.Model.Tasks}getState(){return{titles:{},partiallyLoadedIds:new Set}}getElementState(){const e=this.getVariable("stateFlags",{needsControl:false,matchesWorkTime:false});const s=this.getVariable("deadlineUserOption",{canChangeDeadline:false,maxDeadlineChangeDate:null,maxDeadlineChanges:null,requireDeadlineChangeReason:false});return{id:0,groupId:0,title:"",isImportant:false,description:"",descriptionChecksum:"",forceUpdateDescription:false,creatorId:0,createdTs:Date.now(),responsibleIds:[],isForNewUser:false,deadlineTs:0,deadlineAfter:null,startPlanTs:null,endPlanTs:null,fileIds:[],checklist:[],containsChecklist:false,storyPoints:"",epicId:0,accomplicesIds:[],auditorsIds:[],tags:[],status:"pending",statusChangedTs:Date.now(),needsControl:e.needsControl,matchesWorkTime:e.matchesWorkTime,filledFields:{},parentId:0,subTaskIds:[],containsSubTasks:false,relatedTaskIds:[],containsRelatedTasks:false,ganttTaskIds:[],containsGanttLinks:false,placementIds:null,containsPlacements:false,results:[],resultsMessageMap:{},containsResults:false,allowsChangeDeadline:s.canChangeDeadline,requireDeadlineChangeReason:s.requireDeadlineChangeReason,maxDeadlineChangeDate:s.maxDeadlineChangeDate,maxDeadlineChanges:s.maxDeadlineChanges,deadlineChangeReason:"",allowsChangeDatePlan:false,numberOfReminders:0,rights:{edit:true,deadline:true,datePlan:true,delegate:true,addAuditors:true,changeAccomplices:true,checklistAdd:true,createGanttDependence:true,resultRead:true,reminder:true,elapsedTime:true},isFavorite:false,isMuted:false,requireResult:false,userFields:[],permissions:null}}getGetters(){return{getTitle:e=>s=>e.titles[s],isPartiallyLoaded:e=>s=>e.partiallyLoadedIds.has(s)}}getActions(){return{setTitles:(e,s)=>{s.forEach((({id:s,title:a})=>e.commit("setTitle",{id:s,title:a})))},setFieldFilled:(e,s)=>{e.commit("setFieldFilled",s)},clearFieldsFilled:(e,s)=>{e.commit("clearFieldsFilled",s)},addPartiallyLoaded:(e,s)=>{e.commit("addPartiallyLoaded",s)},removePartiallyLoaded:(e,s)=>{e.commit("removePartiallyLoaded",s)}}}getMutations(){return{upsert:(e,a)=>{s.BuilderEntityModel.defaultModel.getMutations(this).upsert(e,a);babelHelpers.classPrivateFieldLooseBase(this,l)[l](e,a.id)},update:(e,{id:a,fields:t})=>{var i;s.BuilderEntityModel.defaultModel.getMutations(this).update(e,{id:a,fields:t});babelHelpers.classPrivateFieldLooseBase(this,l)[l](e,(i=t.id)!=null?i:a)},setTitle:(e,{id:s,title:a})=>{e.titles[s]=a},setFieldFilled:(e,{id:s,fieldName:a,isFilled:t})=>{var l,i;((i=(l=e.collection[s]).filledFields)!=null?i:l.filledFields={})[a]=t!=null?t:true},clearFieldsFilled:(e,s)=>{if(!e.collection[s]){return}e.collection[s].filledFields={};babelHelpers.classPrivateFieldLooseBase(this,l)[l](e,s)},addPartiallyLoaded:(e,s)=>{e.partiallyLoadedIds.add(s)},removePartiallyLoaded:(e,s)=>{e.partiallyLoadedIds.delete(s)}}}}function n(e,s){var a,t;const l=e.collection[s];const d=l==null?void 0:(a=l.rights)==null?void 0:a.edit;(t=l.filledFields)!=null?t:l.filledFields={};Object.entries(l).forEach((([e,s])=>{const a=Boolean(s)&&(!Array.isArray(s)||s.length>0);if(a){var t;l.filledFields[(t=babelHelpers.classPrivateFieldLooseBase(this,i)[i](e))!=null?t:e]=true}if(!a&&!d){l.filledFields[e]=false}}))}function r(e){var s;return(s=Object.entries(t).find((([,s])=>s.has(e))))==null?void 0:s[0]}e.Tasks=d})(this.BX.Tasks.V2.Model=this.BX.Tasks.V2.Model||{},BX.Vue3.Vuex,BX.Tasks.V2.Const);
//# sourceMappingURL=tasks.bundle.map.js