this.BX=this.BX||{};this.BX.Tasks=this.BX.Tasks||{};this.BX.Tasks.V2=this.BX.Tasks.V2||{};(function(e,t,i,s,a,l){"use strict";class d extends i.BuilderModel{static createWithVariables(e){var t,i;n((t=e.userOptions.fullCard)==null?void 0:t.cardWidth);return d.create().setVariables({currentUserId:e.currentUser.id,stateFlags:e.stateFlags,deadlineUserOption:e.deadlineUserOption,taskUserFieldScheme:e.taskUserFieldScheme,templateUserFieldScheme:e.templateUserFieldScheme,fullCardWidth:(i=e.userOptions.fullCard)==null?void 0:i.cardWidth})}getName(){return s.Model.Interface}getState(){return{currentUserId:this.getVariable("currentUserId",0),deadlineChangeCount:0,titleFieldOffsetHeight:null,stateFlags:this.getVariable("stateFlags",{needsControl:false,matchesWorkTime:false}),deadlineUserOption:this.getVariable("deadlineUserOption",{defaultDeadlineInSeconds:0,defaultDeadlineDate:""}),fullCardWidth:this.getVariable("fullCardWidth",null),deletingCheckListIds:{},disableCheckListAnimations:false,checkListCompletionCallbacks:{},draggedCheckListId:null,taskUserFieldScheme:this.getVariable("taskUserFieldScheme",[]),templateUserFieldScheme:this.getVariable("templateUserFieldScheme",[])}}getGetters(){return{currentUserId:e=>e.currentUserId,fullCardWidth:e=>e.fullCardWidth,deadlineChangeCount:e=>e.deadlineChangeCount,titleFieldOffsetHeight:e=>e.titleFieldOffsetHeight,stateFlags:e=>e.stateFlags,deadlineUserOption:e=>e.deadlineUserOption,defaultDeadlineTs:e=>{if(e.deadlineUserOption&&e.deadlineUserOption.isExactDeadlineTime){const t=a.calendar.clampWorkDateTime(Date.now());const i=e.deadlineUserOption.defaultDeadlineInSeconds*1e3;const s=a.calendar.calculateEndTs(t,null,i);const l=5*60*1e3;return Math.ceil(s/l)*l}if(e.deadlineUserOption&&e.deadlineUserOption.defaultDeadlineDate){const t=new Date(e.deadlineUserOption.defaultDeadlineDate).getTime();return t-l.timezone.getOffset(t)}return null},deletingCheckListIds:e=>e.deletingCheckListIds,disableCheckListAnimations:e=>e.disableCheckListAnimations,draggedCheckListId:e=>e.draggedCheckListId,taskUserFieldScheme:e=>e.taskUserFieldScheme,templateUserFieldScheme:e=>e.templateUserFieldScheme}}getActions(){return{updateFullCardWidth:(e,t)=>{e.commit("setFullCardWidth",t);n(t)},updateDeadlineChangeCount:(e,t)=>{e.commit("setDeadlineChangeCount",t)},updateTitleFieldOffsetHeight:(e,t)=>{e.commit("setTitleFieldOffsetHeight",t)},updateStateFlags:(e,t)=>{e.commit("setStateFlags",t)},updateDeadlineUserOption:(e,t)=>{e.commit("setDeadlineUserOption",t)},addCheckListItemToDeleting:(e,t)=>{e.commit("addCheckListItemToDeleting",t)},removeCheckListItemFromDeleting:(e,t)=>{e.commit("removeCheckListItemFromDeleting",t)},addCheckListCompletionCallback:(e,{id:t,callback:i})=>{e.commit("addCheckListCompletionCallback",{id:t,callback:i})},executeCheckListCompletionCallbacks:e=>{e.commit("executeCheckListCompletionCallbacks")},setDisableCheckListAnimations:(e,t)=>{e.commit("setDisableCheckListAnimations",t)},setDraggedCheckListId:(e,t)=>{e.commit("setDraggedCheckListId",t)},updateTaskUserFieldScheme:(e,t)=>{e.commit("setTaskUserFieldScheme",t)},updateTemplateUserFieldScheme:(e,t)=>{e.commit("setTemplateUserFieldScheme",t)}}}getMutations(){return{setFullCardWidth:(e,t)=>{e.fullCardWidth=t},setDeadlineChangeCount:(e,t)=>{e.deadlineChangeCount=t},setTitleFieldOffsetHeight:(e,t)=>{e.titleFieldOffsetHeight=t},setStateFlags:(e,t)=>{e.stateFlags={...e.stateFlags,...t}},setDeadlineUserOption:(e,t)=>{e.deadlineUserOption={...e.deadlineUserOption,...t}},addCheckListItemToDeleting:(e,t)=>{e.deletingCheckListIds[t]=t},removeCheckListItemFromDeleting:(e,t)=>{delete e.deletingCheckListIds[t]},addCheckListCompletionCallback:(e,{id:t,callback:i})=>{e.checkListCompletionCallbacks[t]=i},executeCheckListCompletionCallbacks:e=>{Object.values(e.checkListCompletionCallbacks).forEach((e=>e()));e.checkListCompletionCallbacks={}},setDisableCheckListAnimations:(e,t)=>{e.disableCheckListAnimations=t===true},setDraggedCheckListId:(e,t)=>{e.draggedCheckListId=t},setTaskUserFieldScheme:(e,t)=>{e.taskUserFieldScheme=t},setTemplateUserFieldScheme:(e,t)=>{e.templateUserFieldScheme=t}}}}const n=e=>{const i=e?`style="width: ${e}px;"`:"";t.localStorage.set("tasks-skeleton-width",i,31536e4)};e.Interface=d})(this.BX.Tasks.V2.Model=this.BX.Tasks.V2.Model||{},BX,BX.Vue3.Vuex,BX.Tasks.V2.Const,BX.Tasks.V2.Lib,BX.Tasks.V2.Lib);
//# sourceMappingURL=interface.bundle.map.js