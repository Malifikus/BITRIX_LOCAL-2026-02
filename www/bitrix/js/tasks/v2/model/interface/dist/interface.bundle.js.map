{"version":3,"file":"interface.bundle.js","sources":["../src/interface.js"],"sourcesContent":["/* eslint-disable no-param-reassign */\nimport { localStorage } from 'main.core';\nimport { BuilderModel } from 'ui.vue3.vuex';\nimport type { ActionTree, GetterTree, MutationTree } from 'ui.vue3.vuex';\n\nimport { Model } from 'tasks.v2.const';\nimport { calendar } from 'tasks.v2.lib.calendar';\nimport { timezone } from 'tasks.v2.lib.timezone';\n\nimport type {\n\tInterfaceModelParams,\n\tInterfaceModelState,\n\tCheckListCompletionCallback,\n\tDeadlineUserOption,\n\tStateFlags,\n\tUserFieldScheme,\n} from './types';\n\nexport class Interface extends BuilderModel\n{\n\tstatic createWithVariables(params: InterfaceModelParams): BuilderModel\n\t{\n\t\tupdateSkeleton(params.userOptions.fullCard?.cardWidth);\n\n\t\treturn Interface.create().setVariables({\n\t\t\tcurrentUserId: params.currentUser.id,\n\t\t\tstateFlags: params.stateFlags,\n\t\t\tdeadlineUserOption: params.deadlineUserOption,\n\t\t\ttaskUserFieldScheme: params.taskUserFieldScheme,\n\t\t\ttemplateUserFieldScheme: params.templateUserFieldScheme,\n\t\t\tfullCardWidth: params.userOptions.fullCard?.cardWidth,\n\t\t});\n\t}\n\n\tgetName(): string\n\t{\n\t\treturn Model.Interface;\n\t}\n\n\tgetState(): InterfaceModelState\n\t{\n\t\treturn {\n\t\t\tcurrentUserId: this.getVariable('currentUserId', 0),\n\t\t\tdeadlineChangeCount: 0,\n\t\t\ttitleFieldOffsetHeight: null,\n\t\t\tstateFlags: this.getVariable('stateFlags', {\n\t\t\t\tneedsControl: false,\n\t\t\t\tmatchesWorkTime: false,\n\t\t\t}),\n\t\t\tdeadlineUserOption: this.getVariable('deadlineUserOption', {\n\t\t\t\tdefaultDeadlineInSeconds: 0,\n\t\t\t\tdefaultDeadlineDate: '',\n\t\t\t}),\n\t\t\tfullCardWidth: this.getVariable('fullCardWidth', null),\n\t\t\tdeletingCheckListIds: {},\n\t\t\tdisableCheckListAnimations: false,\n\t\t\tcheckListCompletionCallbacks: {},\n\t\t\tdraggedCheckListId: null,\n\t\t\ttaskUserFieldScheme: this.getVariable('taskUserFieldScheme', []),\n\t\t\ttemplateUserFieldScheme: this.getVariable('templateUserFieldScheme', []),\n\t\t};\n\t}\n\n\tgetGetters(): GetterTree<InterfaceModelState>\n\t{\n\t\treturn {\n\t\t\t/** @function interface/currentUserId */\n\t\t\tcurrentUserId: (state: InterfaceModelState): number => state.currentUserId,\n\t\t\t/** @function interface/fullCardWidth */\n\t\t\tfullCardWidth: (state: InterfaceModelState): number => state.fullCardWidth,\n\t\t\t/** @function interface/deadlineChangeCount */\n\t\t\tdeadlineChangeCount: (state: InterfaceModelState): number => state.deadlineChangeCount,\n\t\t\t/** @function interface/titleFieldOffsetHeight */\n\t\t\ttitleFieldOffsetHeight: (state: InterfaceModelState): number => state.titleFieldOffsetHeight,\n\t\t\t/** @function interface/stateFlags */\n\t\t\tstateFlags: (state: InterfaceModelState): DeadlineUserOption => state.stateFlags,\n\t\t\t/** @function interface/deadlineUserOption */\n\t\t\tdeadlineUserOption: (state: InterfaceModelState): DeadlineUserOption => state.deadlineUserOption,\n\t\t\t/** @function interface/defaultDeadlineTs */\n\t\t\tdefaultDeadlineTs: (state: InterfaceModelState): ?number => {\n\t\t\t\tif (state.deadlineUserOption && state.deadlineUserOption.isExactDeadlineTime)\n\t\t\t\t{\n\t\t\t\t\tconst worktimeTs = calendar.clampWorkDateTime(Date.now());\n\t\t\t\t\tconst durationTs = state.deadlineUserOption.defaultDeadlineInSeconds * 1000;\n\t\t\t\t\tconst deadlineTs = calendar.calculateEndTs(worktimeTs, null, durationTs);\n\t\t\t\t\tconst fiveMinutes = 5 * 60 * 1000;\n\n\t\t\t\t\treturn Math.ceil(deadlineTs / fiveMinutes) * fiveMinutes;\n\t\t\t\t}\n\n\t\t\t\tif (state.deadlineUserOption && state.deadlineUserOption.defaultDeadlineDate)\n\t\t\t\t{\n\t\t\t\t\tconst deadlineTs = new Date(state.deadlineUserOption.defaultDeadlineDate).getTime();\n\n\t\t\t\t\treturn deadlineTs - timezone.getOffset(deadlineTs);\n\t\t\t\t}\n\n\t\t\t\treturn null;\n\t\t\t},\n\t\t\t/** @function interface/deletingCheckListIds */\n\t\t\tdeletingCheckListIds: (state: InterfaceModelState): { [id: number]: number } => state.deletingCheckListIds,\n\t\t\t/** @function interface/disableCheckListAnimations */\n\t\t\tdisableCheckListAnimations: (state: InterfaceModelState): number => state.disableCheckListAnimations,\n\t\t\t/** @function interface/draggedCheckListId */\n\t\t\tdraggedCheckListId: (state: InterfaceModelState): ?number | ?string => state.draggedCheckListId,\n\t\t\t/** @function interface/taskUserFieldScheme */\n\t\t\ttaskUserFieldScheme: (state: InterfaceModelState): UserFieldScheme[] => state.taskUserFieldScheme,\n\t\t\t/** @function interface/templateUserFieldScheme */\n\t\t\ttemplateUserFieldScheme: (state: InterfaceModelState): UserFieldScheme[] => state.templateUserFieldScheme,\n\t\t};\n\t}\n\n\tgetActions(): ActionTree<InterfaceModelState>\n\t{\n\t\treturn {\n\t\t\t/** @function interface/updateFullCardWidth */\n\t\t\tupdateFullCardWidth: (store, fullCardWidth: number) => {\n\t\t\t\tstore.commit('setFullCardWidth', fullCardWidth);\n\t\t\t\tupdateSkeleton(fullCardWidth);\n\t\t\t},\n\t\t\t/** @function interface/updateDeadlineChangeCount */\n\t\t\tupdateDeadlineChangeCount: (store, deadlineChangeCount: number) => {\n\t\t\t\tstore.commit('setDeadlineChangeCount', deadlineChangeCount);\n\t\t\t},\n\t\t\t/** @function interface/updateTitleFieldOffsetHeight */\n\t\t\tupdateTitleFieldOffsetHeight: (store, titleFieldOffsetHeight: number) => {\n\t\t\t\tstore.commit('setTitleFieldOffsetHeight', titleFieldOffsetHeight);\n\t\t\t},\n\t\t\t/** @function interface/updateStateFlags */\n\t\t\tupdateStateFlags: (store, stateFlags: Partial<StateFlags>) => {\n\t\t\t\tstore.commit('setStateFlags', stateFlags);\n\t\t\t},\n\t\t\t/** @function interface/updateDeadlineUserOption */\n\t\t\tupdateDeadlineUserOption: (store, deadlineUserOption: Partial<DeadlineUserOption>) => {\n\t\t\t\tstore.commit('setDeadlineUserOption', deadlineUserOption);\n\t\t\t},\n\t\t\t/** @function interface/addCheckListItemToDeleting */\n\t\t\taddCheckListItemToDeleting: (store, itemId: number | string) => {\n\t\t\t\tstore.commit('addCheckListItemToDeleting', itemId);\n\t\t\t},\n\t\t\t/** @function interface/removeCheckListItemFromDeleting */\n\t\t\tremoveCheckListItemFromDeleting: (store, itemId: number | string) => {\n\t\t\t\tstore.commit('removeCheckListItemFromDeleting', itemId);\n\t\t\t},\n\t\t\t/** @function interface/addCheckListCompletionCallback */\n\t\t\taddCheckListCompletionCallback: (store, { id, callback }) => {\n\t\t\t\tstore.commit('addCheckListCompletionCallback', { id, callback });\n\t\t\t},\n\t\t\t/** @function interface/executeCheckListCompletionCallbacks */\n\t\t\texecuteCheckListCompletionCallbacks: (store) => {\n\t\t\t\tstore.commit('executeCheckListCompletionCallbacks');\n\t\t\t},\n\t\t\t/** @function interface/setDisableCheckListAnimations */\n\t\t\tsetDisableCheckListAnimations: (store, disableCheckListAnimations: boolean) => {\n\t\t\t\tstore.commit('setDisableCheckListAnimations', disableCheckListAnimations);\n\t\t\t},\n\t\t\t/** @function interface/setDraggedCheckListId */\n\t\t\tsetDraggedCheckListId: (store, id: ?number | ?string) => {\n\t\t\t\tstore.commit('setDraggedCheckListId', id);\n\t\t\t},\n\t\t\t/** @function interface/updateTaskUserFieldScheme */\n\t\t\tupdateTaskUserFieldScheme: (store, taskUserFieldScheme: UserFieldScheme[]) => {\n\t\t\t\tstore.commit('setTaskUserFieldScheme', taskUserFieldScheme);\n\t\t\t},\n\t\t\t/** @function interface/updateTemplateUserFieldScheme */\n\t\t\tupdateTemplateUserFieldScheme: (store, templateUserFieldScheme: UserFieldScheme[]) => {\n\t\t\t\tstore.commit('setTemplateUserFieldScheme', templateUserFieldScheme);\n\t\t\t},\n\t\t};\n\t}\n\n\tgetMutations(): MutationTree<InterfaceModelState>\n\t{\n\t\treturn {\n\t\t\tsetFullCardWidth: (state: InterfaceModelState, fullCardWidth: number) => {\n\t\t\t\tstate.fullCardWidth = fullCardWidth;\n\t\t\t},\n\t\t\tsetDeadlineChangeCount: (state: InterfaceModelState, deadlineChangeCount: number) => {\n\t\t\t\tstate.deadlineChangeCount = deadlineChangeCount;\n\t\t\t},\n\t\t\tsetTitleFieldOffsetHeight: (state: InterfaceModelState, titleFieldOffsetHeight: number) => {\n\t\t\t\tstate.titleFieldOffsetHeight = titleFieldOffsetHeight;\n\t\t\t},\n\t\t\tsetStateFlags: (state: InterfaceModelState, stateFlags: Partial<StateFlags>) => {\n\t\t\t\tstate.stateFlags = {\n\t\t\t\t\t...state.stateFlags,\n\t\t\t\t\t...stateFlags,\n\t\t\t\t};\n\t\t\t},\n\t\t\tsetDeadlineUserOption: (state: InterfaceModelState, deadlineUserOption: Partial<DeadlineUserOption>) => {\n\t\t\t\tstate.deadlineUserOption = {\n\t\t\t\t\t...state.deadlineUserOption,\n\t\t\t\t\t...deadlineUserOption,\n\t\t\t\t};\n\t\t\t},\n\t\t\taddCheckListItemToDeleting: (state: InterfaceModelState, itemId: number | string) => {\n\t\t\t\tstate.deletingCheckListIds[itemId] = itemId;\n\t\t\t},\n\t\t\tremoveCheckListItemFromDeleting: (state: InterfaceModelState, itemId: number) => {\n\t\t\t\tdelete state.deletingCheckListIds[itemId];\n\t\t\t},\n\t\t\taddCheckListCompletionCallback: (state: InterfaceModelState, { id, callback }) => {\n\t\t\t\tstate.checkListCompletionCallbacks[id] = callback;\n\t\t\t},\n\t\t\texecuteCheckListCompletionCallbacks: (state: InterfaceModelState) => {\n\t\t\t\tObject.values(state.checkListCompletionCallbacks).forEach((cb: CheckListCompletionCallback) => cb());\n\t\t\t\tstate.checkListCompletionCallbacks = {};\n\t\t\t},\n\t\t\tsetDisableCheckListAnimations: (state: InterfaceModelState, disableCheckListAnimations: boolean) => {\n\t\t\t\tstate.disableCheckListAnimations = disableCheckListAnimations === true;\n\t\t\t},\n\t\t\tsetDraggedCheckListId: (state: InterfaceModelState, id: ?number | ?string) => {\n\t\t\t\tstate.draggedCheckListId = id;\n\t\t\t},\n\t\t\tsetTaskUserFieldScheme: (state: InterfaceModelState, taskUserFieldScheme: UserFieldScheme[]) => {\n\t\t\t\tstate.taskUserFieldScheme = taskUserFieldScheme;\n\t\t\t},\n\t\t\tsetTemplateUserFieldScheme: (state: InterfaceModelState, templateUserFieldScheme: UserFieldScheme[]) => {\n\t\t\t\tstate.templateUserFieldScheme = templateUserFieldScheme;\n\t\t\t},\n\t\t};\n\t}\n}\n\nconst updateSkeleton = (width: number) => {\n\tconst style = width ? `style=\"width: ${width}px;\"` : '';\n\n\tlocalStorage.set('tasks-skeleton-width', style, 315_360_000);\n};\n"],"names":["Interface","BuilderModel","createWithVariables","params","updateSkeleton","userOptions","fullCard","cardWidth","create","setVariables","currentUserId","currentUser","id","stateFlags","deadlineUserOption","taskUserFieldScheme","templateUserFieldScheme","fullCardWidth","getName","Model","getState","getVariable","deadlineChangeCount","titleFieldOffsetHeight","needsControl","matchesWorkTime","defaultDeadlineInSeconds","defaultDeadlineDate","deletingCheckListIds","disableCheckListAnimations","checkListCompletionCallbacks","draggedCheckListId","getGetters","state","defaultDeadlineTs","isExactDeadlineTime","worktimeTs","calendar","clampWorkDateTime","Date","now","durationTs","deadlineTs","calculateEndTs","fiveMinutes","Math","ceil","getTime","timezone","getOffset","getActions","updateFullCardWidth","store","commit","updateDeadlineChangeCount","updateTitleFieldOffsetHeight","updateStateFlags","updateDeadlineUserOption","addCheckListItemToDeleting","itemId","removeCheckListItemFromDeleting","addCheckListCompletionCallback","callback","executeCheckListCompletionCallbacks","setDisableCheckListAnimations","setDraggedCheckListId","updateTaskUserFieldScheme","updateTemplateUserFieldScheme","getMutations","setFullCardWidth","setDeadlineChangeCount","setTitleFieldOffsetHeight","setStateFlags","setDeadlineUserOption","Object","values","forEach","cb","setTaskUserFieldScheme","setTemplateUserFieldScheme","width","style","localStorage","set"],"mappings":"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"}