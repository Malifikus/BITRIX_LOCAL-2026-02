this.BX=this.BX||{};this.BX.Tasks=this.BX.Tasks||{};this.BX.Tasks.V2=this.BX.Tasks.V2||{};this.BX.Tasks.V2.Provider=this.BX.Tasks.V2.Provider||{};(function(e,s,t,r,i){"use strict";function a(e){var s;return{id:e.id,name:e.name,image:(s=e.image)==null?void 0:s.src,type:e.type}}function o(e){return{id:e.id,name:e.name,image:{src:e.image},type:e.type}}var n=babelHelpers.classPrivateFieldLooseKey("getUnloadedIds");class c{constructor(){Object.defineProperty(this,n,{value:l})}getUrl(e){const t=s.Extension.getSettings("tasks.v2.application.task-card");const r=t.userDetailUrlTemplate;if(!r){return`/company/personal/user/${e}/`}return r.replace("#USER_ID#",String(e))}async list(e){const s=babelHelpers.classPrivateFieldLooseBase(this,n)[n](e);if(s.length===0){return}try{const e=await i.apiClient.post(t.Endpoint.UserList,{ids:s});const r=e.map((e=>a(e)));await this.$store.dispatch(`${t.Model.Users}/upsertMany`,r)}catch(e){console.error("UserService: list error",e)}}hasUsers(e){return babelHelpers.classPrivateFieldLooseBase(this,n)[n](e).length===0}get $store(){return r.Core.getStore()}}function l(e){const s=this.$store.getters[`${t.Model.Users}/getByIds`](e);const r=new Set(s.map((({id:e})=>e)));return e.filter((e=>!r.has(e)))}const d=new c;const p={mapDtoToModel:a,mapModelToDto:o};e.UserMappers=p;e.userService=d})(this.BX.Tasks.V2.Provider.Service=this.BX.Tasks.V2.Provider.Service||{},BX,BX.Tasks.V2.Const,BX.Tasks.V2,BX.Tasks.V2.Lib);
//# sourceMappingURL=user-service.bundle.map.js