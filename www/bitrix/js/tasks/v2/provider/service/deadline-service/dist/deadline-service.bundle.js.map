{"version":3,"file":"deadline-service.bundle.js","sources":["../src/deadline-service.js"],"sourcesContent":["import type { Store } from 'ui.vue3.vuex';\n\nimport { Model, Endpoint } from 'tasks.v2.const';\nimport { Core } from 'tasks.v2.core';\nimport { apiClient } from 'tasks.v2.lib.api-client';\n\nexport class DeadlineService\n{\n\tasync updateDeadlineChangeCount(taskId: number): Promise<void>\n\t{\n\t\tconst deadlineChangeCount = await apiClient.post(\n\t\t\tEndpoint.TaskDeadlineGetDeadlineChangeCount,\n\t\t\t{ taskId },\n\t\t);\n\n\t\tvoid this.$store.dispatch(`${Model.Interface}/updateDeadlineChangeCount`, deadlineChangeCount);\n\t}\n\n\tcleanChangeLog(taskId: number): void\n\t{\n\t\tapiClient.post(Endpoint.TaskDeadlineCleanChangeLog, { taskId });\n\n\t\tvoid this.$store.dispatch(`${Model.Interface}/updateDeadlineChangeCount`, 0);\n\t}\n\n\tget $store(): Store\n\t{\n\t\treturn Core.getStore();\n\t}\n}\n\nexport const deadlineService = new DeadlineService();\n"],"names":["DeadlineService","updateDeadlineChangeCount","taskId","deadlineChangeCount","apiClient","post","Endpoint","TaskDeadlineGetDeadlineChangeCount","$store","dispatch","Model","Interface","cleanChangeLog","TaskDeadlineCleanChangeLog","Core","getStore","deadlineService"],"mappings":";;;;;;;;CAMO,MAAMA,eAAe,CAC5B;GACC,MAAMC,yBAAyB,CAACC,MAAc,EAC9C;KACC,MAAMC,mBAAmB,GAAG,MAAMC,gCAAS,CAACC,IAAI,CAC/CC,uBAAQ,CAACC,kCAAkC,EAC3C;OAAEL;MAAQ,CACV;KAED,KAAK,IAAI,CAACM,MAAM,CAACC,QAAQ,CAAE,GAAEC,oBAAK,CAACC,SAAU,4BAA2B,EAAER,mBAAmB,CAAC;;GAG/FS,cAAc,CAACV,MAAc,EAC7B;KACCE,gCAAS,CAACC,IAAI,CAACC,uBAAQ,CAACO,0BAA0B,EAAE;OAAEX;MAAQ,CAAC;KAE/D,KAAK,IAAI,CAACM,MAAM,CAACC,QAAQ,CAAE,GAAEC,oBAAK,CAACC,SAAU,4BAA2B,EAAE,CAAC,CAAC;;GAG7E,IAAIH,MAAM,GACV;KACC,OAAOM,kBAAI,CAACC,QAAQ,EAAE;;CAExB;AAEA,OAAaC,eAAe,GAAG,IAAIhB,eAAe,EAAE;;;;;;;;;"}