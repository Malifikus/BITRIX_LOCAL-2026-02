{"version":3,"file":"gantt-popup.bundle.js","sources":["../src/gantt-menu.js","../src/gantt-popup-content.js","../src/gantt-popup-api.js","../src/gantt-popup.js"],"sourcesContent":["import { BMenu, MenuItemDesign, type MenuOptions } from 'ui.system.menu.vue';\nimport { Outline } from 'ui.icon-set.api.vue';\nimport 'ui.icon-set.outline';\n\nconst sectionCodeHelp = 'help';\n\n// @vue/component\nexport const GanttMenu = {\n\tcomponents: {\n\t\tBMenu,\n\t},\n\tprops: {\n\t\ttype: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\tbindElement: {\n\t\t\ttype: HTMLElement,\n\t\t\trequired: true,\n\t\t},\n\t},\n\temits: ['update:type', 'close'],\n\tcomputed: {\n\t\tmenuOptions(): MenuOptions\n\t\t{\n\t\t\treturn {\n\t\t\t\tbindElement: this.bindElement,\n\t\t\t\tsections: [\n\t\t\t\t\t{\n\t\t\t\t\t\tcode: sectionCodeHelp,\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t\tcloseOnItemClick: false,\n\t\t\t\titems: [\n\t\t\t\t\t...Object.keys(this.types).map((type: string) => ({\n\t\t\t\t\t\ttitle: this.types[type].title,\n\t\t\t\t\t\tsubtitle: this.types[type].description,\n\t\t\t\t\t\tisSelected: type === this.type,\n\t\t\t\t\t\tonClick: (): void => {\n\t\t\t\t\t\t\tthis.$emit('update:type', type);\n\t\t\t\t\t\t\tthis.$emit('close');\n\t\t\t\t\t\t},\n\t\t\t\t\t})),\n\t\t\t\t\t{\n\t\t\t\t\t\tsectionCode: sectionCodeHelp,\n\t\t\t\t\t\tdesign: MenuItemDesign.Accent2,\n\t\t\t\t\t\ttitle: this.loc('TASKS_V2_GANTT_TYPE_HELP'),\n\t\t\t\t\t\ticon: Outline.QUESTION,\n\t\t\t\t\t\tonClick: () => this.showHelpDesk(),\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t\toffsetTop: 4,\n\t\t\t\ttargetContainer: this.bindElement.closest('body'),\n\t\t\t};\n\t\t},\n\t\ttypes(): { [type: string]: { title: string, description: string } }\n\t\t{\n\t\t\treturn {\n\t\t\t\tfinish_start: {\n\t\t\t\t\ttitle: this.loc('TASKS_V2_GANTT_FINISH_START'),\n\t\t\t\t\tdescription: this.loc('TASKS_V2_GANTT_FINISH_START_DESCRIPTION'),\n\t\t\t\t},\n\t\t\t\tstart_start: {\n\t\t\t\t\ttitle: this.loc('TASKS_V2_GANTT_START_START'),\n\t\t\t\t\tdescription: this.loc('TASKS_V2_GANTT_START_START_DESCRIPTION'),\n\t\t\t\t},\n\t\t\t\tstart_finish: {\n\t\t\t\t\ttitle: this.loc('TASKS_V2_GANTT_START_FINISH'),\n\t\t\t\t\tdescription: this.loc('TASKS_V2_GANTT_START_FINISH_DESCRIPTION'),\n\t\t\t\t},\n\t\t\t\tfinish_finish: {\n\t\t\t\t\ttitle: this.loc('TASKS_V2_GANTT_FINISH_FINISH'),\n\t\t\t\t\tdescription: this.loc('TASKS_V2_GANTT_FINISH_FINISH_DESCRIPTION'),\n\t\t\t\t},\n\t\t\t};\n\t\t},\n\t},\n\tmethods: {\n\t\tshowHelpDesk(): void\n\t\t{\n\t\t\ttop.BX.Helper.show('redirect=detail&code=18100344');\n\t\t},\n\t},\n\ttemplate: `\n\t\t<BMenu :options=\"menuOptions\" @close=\"$emit('close')\"/>\n\t`,\n};\n","import { RichLoc } from 'ui.vue3.components.rich-loc';\nimport { Button as UiButton, AirButtonStyle, ButtonSize } from 'ui.vue3.components.button';\nimport { BInput } from 'ui.system.input.vue';\nimport { HeadlineMd, TextMd, TextXs } from 'ui.system.typography.vue';\nimport { BIcon, Outline } from 'ui.icon-set.api.vue';\nimport 'ui.icon-set.outline';\n\nimport { TaskField } from 'tasks.v2.const';\nimport { relationError } from 'tasks.v2.lib.relation-error';\nimport { ganttDialog, type Item } from 'tasks.v2.lib.relation-tasks-dialog';\nimport { ganttService } from 'tasks.v2.provider.service.relation-service';\n\nimport { GanttMenu } from './gantt-menu';\nimport './gantt-popup.css';\n\n// @vue/component\nexport const GanttPopupContent = {\n\tcomponents: {\n\t\tRichLoc,\n\t\tUiButton,\n\t\tBIcon,\n\t\tBInput,\n\t\tHeadlineMd,\n\t\tTextMd,\n\t\tTextXs,\n\t\tGanttMenu,\n\t},\n\tinject: {\n\t\tanalytics: {},\n\t},\n\tprops: {\n\t\ttaskId: {\n\t\t\ttype: [Number, String],\n\t\t\trequired: true,\n\t\t},\n\t\tclose: {\n\t\t\ttype: Function,\n\t\t\trequired: true,\n\t\t},\n\t\tfreeze: {\n\t\t\ttype: Function,\n\t\t\trequired: true,\n\t\t},\n\t\tunfreeze: {\n\t\t\ttype: Function,\n\t\t\trequired: true,\n\t\t},\n\t\tupdated: {\n\t\t\ttype: Function,\n\t\t\tdefault: null,\n\t\t},\n\t},\n\tsetup(): Object\n\t{\n\t\treturn {\n\t\t\tAirButtonStyle,\n\t\t\tButtonSize,\n\t\t\tOutline,\n\t\t};\n\t},\n\tdata(): Object\n\t{\n\t\treturn {\n\t\t\ttask: null,\n\t\t\ttype: 'finish_start',\n\t\t\tisMenuShown: false,\n\t\t\terror: null,\n\t\t};\n\t},\n\tcomputed: {\n\t\ttypeTitle(): string\n\t\t{\n\t\t\treturn {\n\t\t\t\tfinish_start: this.loc('TASKS_V2_GANTT_FINISH_START'),\n\t\t\t\tstart_start: this.loc('TASKS_V2_GANTT_START_START'),\n\t\t\t\tstart_finish: this.loc('TASKS_V2_GANTT_START_FINISH'),\n\t\t\t\tfinish_finish: this.loc('TASKS_V2_GANTT_FINISH_FINISH'),\n\t\t\t}[this.type];\n\t\t},\n\t},\n\tmethods: {\n\t\tshowDialog(): void\n\t\t{\n\t\t\tthis.freeze();\n\t\t\tthis.handleClose = this.handleDialogClose;\n\t\t\tganttDialog.show({\n\t\t\t\ttargetNode: this.$refs.task.$refs.inputContainer,\n\t\t\t\ttargetContainer: this.$refs.task.$el.closest('body'),\n\t\t\t\ttaskId: this.taskId,\n\t\t\t\tids: this.task ? [this.task.id] : [],\n\t\t\t\tanalytics: this.analytics,\n\t\t\t\tonClose: (items: Item[]) => this.handleClose?.(items[0]),\n\t\t\t});\n\t\t},\n\t\tclearTask(): void\n\t\t{\n\t\t\tthis.handleClose = null;\n\t\t\tthis.task = null;\n\t\t\tthis.error = null;\n\t\t},\n\t\thandleDialogClose(item: Item): void\n\t\t{\n\t\t\tthis.unfreeze();\n\t\t\tif (this.task && item && this.task.id === item.getId())\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.task = item ? { id: item.getId(), title: item.getTitle() } : null;\n\n\t\t\tthis.error = null;\n\t\t\tif (this.task)\n\t\t\t{\n\t\t\t\tvoid this.checkDependence(this.task.id);\n\t\t\t}\n\t\t},\n\t\tshowMenu(): void\n\t\t{\n\t\t\tthis.isMenuShown = true;\n\t\t\tthis.freeze();\n\t\t},\n\t\thideMenu(): void\n\t\t{\n\t\t\tthis.isMenuShown = false;\n\t\t\tthis.unfreeze();\n\t\t},\n\t\tshowHelpDesk(): void\n\t\t{\n\t\t\ttop.BX.Helper.show('redirect=detail&code=18127718');\n\t\t},\n\t\tasync checkDependence(dependentId: number): Promise<void>\n\t\t{\n\t\t\tthis.error = await ganttService.checkDependence({\n\t\t\t\ttaskId: this.taskId,\n\t\t\t\tdependentId,\n\t\t\t});\n\t\t},\n\t\tasync handleAdd(): Promise<void>\n\t\t{\n\t\t\tthis.close();\n\n\t\t\tconst error = await ganttService.addDependence({\n\t\t\t\ttaskId: this.taskId,\n\t\t\t\tdependentId: this.task.id,\n\t\t\t\ttype: this.type,\n\t\t\t});\n\n\t\t\tif (error)\n\t\t\t{\n\t\t\t\tvoid relationError.setTaskId(this.taskId).showError(error, TaskField.Gantt);\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.updated?.();\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div class=\"tasks-field-gantt-popup\">\n\t\t\t<div class=\"tasks-field-gantt-popup-header\">\n\t\t\t\t<HeadlineMd>{{ loc('TASKS_V2_GANTT_POPUP_TITLE') }}</HeadlineMd>\n\t\t\t\t<BIcon :name=\"Outline.CROSS_L\" hoverable @click=\"close\"/>\n\t\t\t</div>\n\t\t\t<TextMd className=\"tasks-field-gantt-popup-description\">\n\t\t\t\t<RichLoc :text=\"loc('TASKS_V2_GANTT_POPUP_DESCRIPTION')\" placeholder=\"[helpdesk]\">\n\t\t\t\t\t<template #helpdesk=\"{ text }\">\n\t\t\t\t\t\t<span class=\"tasks-field-gantt-popup-description-help\" @click=\"showHelpDesk\">\n\t\t\t\t\t\t\t<BIcon :name=\"Outline.KNOWLEDGE_BASE\"/>\n\t\t\t\t\t\t\t<TextXs>{{ text }}</TextXs>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</template>\n\t\t\t\t</RichLoc>\n\t\t\t</TextMd>\n\t\t\t<BInput\n\t\t\t\t:modelValue=\"task?.title ?? ''\"\n\t\t\t\t:label=\"loc('TASKS_V2_GANTT_POPUP_TASK')\"\n\t\t\t\tdropdown\n\t\t\t\t:withClear=\"Boolean(task)\"\n\t\t\t\tclickable\n\t\t\t\t:error\n\t\t\t\tref=\"task\"\n\t\t\t\t@click=\"showDialog\"\n\t\t\t\t@clear=\"clearTask\"\n\t\t\t/>\n\t\t\t<BInput\n\t\t\t\t:modelValue=\"typeTitle\"\n\t\t\t\t:label=\"loc('TASKS_V2_GANTT_POPUP_TYPE')\"\n\t\t\t\tdropdown\n\t\t\t\tclickable\n\t\t\t\t:active=\"isMenuShown\"\n\t\t\t\tref=\"type\"\n\t\t\t\t@click=\"showMenu\"\n\t\t\t/>\n\t\t\t<div class=\"tasks-field-gantt-popup-buttons\">\n\t\t\t\t<UiButton\n\t\t\t\t\t:text=\"loc('TASKS_V2_GANTT_POPUP_ADD')\"\n\t\t\t\t\t:style=\"AirButtonStyle.PRIMARY\"\n\t\t\t\t\t:size=\"ButtonSize.LARGE\"\n\t\t\t\t\t:disabled=\"Boolean(!task || error)\"\n\t\t\t\t\t@click=\"handleAdd\"\n\t\t\t\t/>\n\t\t\t\t<UiButton\n\t\t\t\t\t:text=\"loc('TASKS_V2_GANTT_POPUP_CANCEL')\"\n\t\t\t\t\t:style=\"AirButtonStyle.OUTLINE\"\n\t\t\t\t\t:size=\"ButtonSize.LARGE\"\n\t\t\t\t\t@click=\"close\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t\t<GanttMenu v-if=\"isMenuShown\" v-model:type=\"type\" :bindElement=\"$refs.type.$refs.inputContainer\" @close=\"hideMenu\"/>\n\t`,\n};\n","import { Popup, PopupManager } from 'main.popup';\nimport { BitrixVue, type VueCreateAppResult } from 'ui.vue3';\nimport { locMixin } from 'ui.vue3.mixins.loc-mixin';\n\nimport { Core } from 'tasks.v2.core';\nimport { GanttPopupContent } from './gantt-popup-content';\n\ntype Params = {\n\ttaskId: number,\n};\n\nconst popupId = 'tasks-gantt-popup';\n\nexport class GanttPopupApi\n{\n\t#params: Params;\n\t#popup: Popup;\n\t#application: ?VueCreateAppResult;\n\t#onUpdate: Function | null = null;\n\n\tconstructor(params: Params = {})\n\t{\n\t\tthis.#params = params;\n\t}\n\n\tonUpdate(callback: Function): void\n\t{\n\t\tthis.#onUpdate = callback;\n\t}\n\n\tasync showTo(bindElement: HTMLElement, targetContainer: HTMLElement): Promise<void>\n\t{\n\t\tif (PopupManager.getPopupById(popupId))\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tconst content = document.createElement('div');\n\n\t\tawait this.#mountApplication(content);\n\n\t\tthis.#popup = new Popup({\n\t\t\tid: popupId,\n\t\t\tcontent,\n\t\t\tbindElement,\n\t\t\ttargetContainer,\n\t\t\tpadding: 14,\n\t\t\twidth: 470,\n\t\t\toffsetTop: 4,\n\t\t\tcacheable: false,\n\t\t\tautoHide: true,\n\t\t\tcloseByEsc: true,\n\t\t\tanimation: 'fading',\n\t\t\tbindOptions: {\n\t\t\t\tforceBindPosition: true,\n\t\t\t},\n\t\t\tevents: {\n\t\t\t\tonAfterClose: (): void => this.#unmountApplication(),\n\t\t\t},\n\t\t});\n\n\t\tthis.#popup.show();\n\t}\n\n\tdestroy(): void\n\t{\n\t\tPopupManager.getPopupById(popupId)?.destroy();\n\t}\n\n\tasync #mountApplication(container: HTMLElement): Promise<void>\n\t{\n\t\tawait Core.init();\n\n\t\tconst application = BitrixVue.createApp(GanttPopupContent, {\n\t\t\t...this.#params,\n\t\t\tclose: () => this.#popup.close(),\n\t\t\tfreeze: () => {\n\t\t\t\tthis.#popup.setAutoHide(false);\n\t\t\t\tthis.#popup.setClosingByEsc(false);\n\t\t\t},\n\t\t\tunfreeze: () => {\n\t\t\t\tthis.#popup.setAutoHide(true);\n\t\t\t\tthis.#popup.setClosingByEsc(true);\n\t\t\t},\n\t\t\tupdated: this.#onUpdate,\n\t\t});\n\n\t\tapplication.mixin(locMixin);\n\t\tapplication.mount(container);\n\n\t\tthis.#application = application;\n\t}\n\n\t#unmountApplication(): void\n\t{\n\t\tthis.#application.unmount();\n\t}\n}\n","import type { PopupOptions } from 'main.popup';\nimport { Popup } from 'ui.vue3.components.popup';\nimport { GanttPopupContent } from './gantt-popup-content';\n\n// @vue/component\nexport const GanttPopup = {\n\tname: 'TaskGanttPopup',\n\tcomponents: {\n\t\tPopup,\n\t\tGanttPopupContent,\n\t},\n\tinject: {\n\t\ttaskId: {},\n\t},\n\tprops: {\n\t\tbindElement: {\n\t\t\ttype: HTMLElement,\n\t\t\trequired: true,\n\t\t},\n\t},\n\temits: ['close'],\n\tcomputed: {\n\t\toptions(): PopupOptions\n\t\t{\n\t\t\treturn {\n\t\t\t\tclassName: 'tasks-field-gantt-popup-container',\n\t\t\t\tbindElement: this.bindElement,\n\t\t\t\tpadding: 14,\n\t\t\t\twidth: 470,\n\t\t\t\ttargetContainer: document.body,\n\t\t\t};\n\t\t},\n\t},\n\ttemplate: `\n\t\t<Popup\n\t\t\tv-slot=\"{ freeze, unfreeze }\"\n\t\t\t:options\n\t\t\t@close=\"$emit('close')\"\n\t\t>\n\t\t\t<GanttPopupContent\n\t\t\t\t:taskId\n\t\t\t\t:close=\"() => $emit('close')\"\n\t\t\t\t:freeze\n\t\t\t\t:unfreeze\n\t\t\t/>\n\t\t</Popup>\n\t`,\n};\n"],"names":["sectionCodeHelp","GanttMenu","components","BMenu","props","type","String","required","bindElement","HTMLElement","emits","computed","menuOptions","sections","code","closeOnItemClick","items","Object","keys","types","map","title","subtitle","description","isSelected","onClick","$emit","sectionCode","design","MenuItemDesign","Accent2","loc","icon","Outline","QUESTION","showHelpDesk","offsetTop","targetContainer","closest","finish_start","start_start","start_finish","finish_finish","methods","top","BX","Helper","show","template","GanttPopupContent","RichLoc","UiButton","BIcon","BInput","HeadlineMd","TextMd","TextXs","inject","analytics","taskId","Number","close","Function","freeze","unfreeze","updated","default","setup","AirButtonStyle","ButtonSize","data","task","isMenuShown","error","typeTitle","showDialog","handleClose","handleDialogClose","ganttDialog","targetNode","$refs","inputContainer","$el","ids","id","onClose","clearTask","item","getId","getTitle","checkDependence","showMenu","hideMenu","dependentId","ganttService","handleAdd","addDependence","relationError","setTaskId","showError","TaskField","Gantt","popupId","GanttPopupApi","constructor","params","onUpdate","callback","showTo","PopupManager","getPopupById","content","document","createElement","Popup","padding","width","cacheable","autoHide","closeByEsc","animation","bindOptions","forceBindPosition","events","onAfterClose","destroy","container","Core","init","application","BitrixVue","createApp","setAutoHide","setClosingByEsc","mixin","locMixin","mount","unmount","GanttPopup","name","options","className","body"],"mappings":"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"}