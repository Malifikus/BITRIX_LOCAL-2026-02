{"version":3,"file":"selector.bundle.js","sources":["../src/document.js","../src/template.js","../src/menu.js","../src/selector.js"],"sourcesContent":["import {Type} from 'main.core';\n\nexport class Document\n{\n\tdata;\n\n\tconstructor(data)\n\t{\n\t\tthis.data = data;\n\t}\n\n\tgetId(): number\n\t{\n\t\treturn parseInt(this.data.id);\n\t}\n\n\tgetTitle(): string\n\t{\n\t\treturn this.data.title;\n\t}\n\n\tgetPublicUrl(): ?string\n\t{\n\t\treturn this.data.publicUrl\n\t}\n\n\tstatic create(data): ?Document\n\t{\n\t\tif(Type.isPlainObject(data) && parseInt(data.id) > 0 && Type.isString(data.title))\n\t\t{\n\t\t\treturn new Document(data);\n\t\t}\n\n\t\treturn null;\n\t}\n}","import {Type} from 'main.core';\n\nexport class Template\n{\n\tdata;\n\n\tconstructor(data)\n\t{\n\t\tthis.data = data;\n\t}\n\n\tgetId(): number\n\t{\n\t\treturn parseInt(this.data.id);\n\t}\n\n\tgetName(): string\n\t{\n\t\treturn this.data.name;\n\t}\n\n\tstatic create(data): ?Template\n\t{\n\t\tif(Type.isPlainObject(data) && parseInt(data.id) > 0 && Type.isString(data.name))\n\t\t{\n\t\t\treturn new Template(data);\n\t\t}\n\n\t\treturn null;\n\t}\n}","import { Document as DocumentFromPreview } from 'documentgenerator.preview';\nimport { ajax as Ajax, Loc, Runtime, Type } from 'main.core';\nimport { Loader } from 'main.loader';\nimport { PopupMenu, PopupWindow } from 'main.popup';\nimport { Document } from './document';\n\nimport { Template } from './template';\n\nimport './menu.css';\n\nexport class Menu\n{\n\tprogress = false;\n\ttemplates = null;\n\tdocuments = null;\n\tanalyticsLabelPrefix = 'documentgeneratorSelector';\n\tloader;\n\tnode;\n\tmoduleId;\n\tprovider;\n\tvalue;\n\tisDocumentsLimitReached = false;\n\n\tconstructor(params)\n\t{\n\t\tif(Type.isPlainObject(params))\n\t\t{\n\t\t\tif(Type.isDomNode(params.node))\n\t\t\t{\n\t\t\t\tthis.node = params.node;\n\t\t\t}\n\t\t\tif(Type.isString(params.moduleId))\n\t\t\t{\n\t\t\t\tthis.moduleId = params.moduleId;\n\t\t\t}\n\t\t\tif(Type.isString(params.provider))\n\t\t\t{\n\t\t\t\tthis.provider = params.provider;\n\t\t\t}\n\t\t\tif(Type.isString(params.analyticsLabelPrefix))\n\t\t\t{\n\t\t\t\tthis.analyticsLabelPrefix = params.analyticsLabelPrefix;\n\t\t\t}\n\t\t\tif(Type.isString(params.value) || Type.isNumber(params.value))\n\t\t\t{\n\t\t\t\tthis.value = params.value;\n\t\t\t}\n\t\t}\n\t}\n\n\tisValid(): boolean\n\t{\n\t\treturn (\n\t\t\t(Type.isString(this.moduleId) && this.moduleId.length > 0) &&\n\t\t\t(Type.isString(this.provider) && this.provider.length > 0) &&\n\t\t\t(!Type.isNil(this.value))\n\t\t);\n\t}\n\n\tcreateDocument(template)\n\t{\n\t\treturn new Promise((resolve, reject) =>\n\t\t{\n\t\t\tif(this.progress)\n\t\t\t{\n\t\t\t\treject('loading');\n\t\t\t}\n\t\t\tif(this.isValid() && template instanceof Template)\n\t\t\t{\n\t\t\t\tthis.progress = true;\n\t\t\t\tthis.showLoader();\n\t\t\t\tDocumentFromPreview.askAboutUsingPreviousDocumentNumber(this.provider, template.getId(), this.value, (previousNumber) =>\n\t\t\t\t{\n\t\t\t\t\tconst data = {\n\t\t\t\t\t\ttemplateId: template.getId(),\n\t\t\t\t\t\tproviderClassName: this.provider,\n\t\t\t\t\t\tvalue: this.value,\n\t\t\t\t\t\tvalues: {}\n\t\t\t\t\t};\n\t\t\t\t\tif(previousNumber)\n\t\t\t\t\t{\n\t\t\t\t\t\tdata.values.DocumentNumber = previousNumber;\n\t\t\t\t\t}\n\t\t\t\t\tAjax.runAction('documentgenerator.document.add', {\n\t\t\t\t\t\tdata: data,\n\t\t\t\t\t\tanalyticsLabel: this.analyticsLabelPrefix + 'CreateDocument',\n\t\t\t\t\t}).then((response) =>\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.progress = false;\n\t\t\t\t\t\tthis.hideLoader();\n\t\t\t\t\t\tconst document = Document.create(response.data.document);\n\t\t\t\t\t\tif(document)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif(Type.isArray(this.documents))\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tthis.documents.unshift(document);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tresolve(document);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\treject('error trying create document object');\n\t\t\t\t\t\t}\n\t\t\t\t\t}).catch((response) =>\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.progress = false;\n\t\t\t\t\t\tthis.hideLoader();\n\t\t\t\t\t\treject(this.getErrorMessageFromResponse(response));\n\t\t\t\t\t});\n\t\t\t\t}, () =>\n\t\t\t\t{\n\t\t\t\t\tthis.progress = false;\n\t\t\t\t\tthis.hideLoader();\n\t\t\t\t\tresolve();\n\t\t\t\t});\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\treject('error trying generate document');\n\t\t\t}\n\t\t});\n\t}\n\n\tgetDocumentPublicUrl(document)\n\t{\n\t\treturn new Promise((resolve, reject) =>\n\t\t{\n\t\t\tif(!(document instanceof Document))\n\t\t\t{\n\t\t\t\treject('wrong document');\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif(Type.isString(document.getPublicUrl()) && document.getPublicUrl().length > 0)\n\t\t\t{\n\t\t\t\tresolve(document.getPublicUrl());\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif(this.progress)\n\t\t\t\t{\n\t\t\t\t\treject('loading');\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tthis.progress = true;\n\t\t\t\t\tthis.showLoader();\n\t\t\t\t\tAjax.runAction('documentgenerator.document.enablePublicUrl', {\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\tid: document.getId(),\n\t\t\t\t\t\t\tstatus: 1,\n\t\t\t\t\t\t},\n\t\t\t\t\t\tanalyticsLabel: this.analyticsLabelPrefix + 'GetPublicUrl',\n\t\t\t\t\t}).then((response) =>\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.progress = false;\n\t\t\t\t\t\tthis.hideLoader();\n\t\t\t\t\t\tdocument.data.publicUrl = response.data.publicUrl;\n\t\t\t\t\t\tresolve(document.getPublicUrl());\n\t\t\t\t\t}).catch((response) =>\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.progress = false;\n\t\t\t\t\t\tthis.hideLoader();\n\t\t\t\t\t\treject(this.getErrorMessageFromResponse(response));\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tshow(node = null): Promise\n\t{\n\t\treturn new Promise((resolve, reject) =>\n\t\t{\n\t\t\tif(!node)\n\t\t\t{\n\t\t\t\tnode = this.node;\n\t\t\t}\n\t\t\tthis.getTemplates().then((templates) => {\n\t\t\t\tPopupMenu.show(\n\t\t\t\t\tthis.getPopupMenuId(),\n\t\t\t\t\tnode,\n\t\t\t\t\tthis.prepareTemplatesList(\n\t\t\t\t\t\ttemplates,\n\t\t\t\t\t\t(object) => {\n\t\t\t\t\t\t\tconst menu = PopupMenu.getMenuById(this.getPopupMenuId());\n\t\t\t\t\t\t\tif (menu)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tmenu.destroy();\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tresolve(object);\n\t\t\t\t\t\t},\n\t\t\t\t\t),\n\t\t\t\t\t{\n\t\t\t\t\t\toffsetLeft: 0,\n\t\t\t\t\t\toffsetTop: 0,\n\t\t\t\t\t\tcloseByEsc: true,\n\t\t\t\t\t\tcacheable: false,\n\t\t\t\t\t\tevents: {\n\t\t\t\t\t\t\t// nothing selected\n\t\t\t\t\t\t\tonClose: () => resolve(),\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t);\n\t\t\t}).catch((error) =>\n\t\t\t{\n\t\t\t\tif(error !== 'loading')\n\t\t\t\t{\n\t\t\t\t\treject(error);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\n\tgetTemplates(): Promise\n\t{\n\t\treturn new Promise((resolve, reject) =>\n\t\t{\n\t\t\tif(!this.isValid())\n\t\t\t{\n\t\t\t\treject('wrong data');\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif(this.templates === null)\n\t\t\t{\n\t\t\t\tif(this.progress)\n\t\t\t\t{\n\t\t\t\t\treject('loading');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.progress = true;\n\t\t\t\tthis.showLoader();\n\t\t\t\tAjax.runAction('documentgenerator.api.document.getButtonTemplates', {\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tmoduleId: this.moduleId,\n\t\t\t\t\t\tprovider: this.provider,\n\t\t\t\t\t\tvalue: this.value,\n\t\t\t\t\t},\n\t\t\t\t\tanalyticsLabel: this.analyticsLabelPrefix + 'LoadTemplates',\n\t\t\t\t}).then((response) =>\n\t\t\t\t{\n\t\t\t\t\tthis.progress = false;\n\t\t\t\t\tthis.hideLoader();\n\t\t\t\t\tthis.parseButtonResponse(response);\n\t\t\t\t\tresolve(this.templates);\n\t\t\t\t}).catch((response) =>\n\t\t\t\t{\n\t\t\t\t\tthis.progress = false;\n\t\t\t\t\tthis.hideLoader();\n\t\t\t\t\treject(this.getErrorMessageFromResponse(response));\n\t\t\t\t});\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tresolve(this.templates);\n\t\t\t}\n\t\t});\n\t}\n\n\tgetDocuments(node): Promise\n\t{\n\t\treturn new Promise((resolve, reject) =>\n\t\t{\n\t\t\tif(this.progress)\n\t\t\t{\n\t\t\t\treject('loading');\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif(this.documents === null)\n\t\t\t{\n\t\t\t\tthis.documents = [];\n\t\t\t\tthis.progress = true;\n\t\t\t\tthis.showLoader(node);\n\t\t\t\tAjax.runAction('documentgenerator.document.list', {\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tselect: ['id', 'number', 'title'],\n\t\t\t\t\t\tfilter: {\n\t\t\t\t\t\t\t\"=provider\": this.provider.toLowerCase(),\n\t\t\t\t\t\t\t\"=value\": this.value\n\t\t\t\t\t\t},\n\t\t\t\t\t\torder: {id: 'desc'}\n\t\t\t\t\t},\n\t\t\t\t\tanalyticsLabel: this.analyticsLabelPrefix + 'LoadDocuments',\n\t\t\t\t}).then((response) =>\n\t\t\t\t{\n\t\t\t\t\tthis.progress = false;\n\t\t\t\t\tthis.hideLoader();\n\t\t\t\t\tresponse.data.documents.forEach((data) =>\n\t\t\t\t\t{\n\t\t\t\t\t\tlet document = Document.create(data);\n\t\t\t\t\t\tif(document)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.documents.push(document);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tresolve(this.documents);\n\t\t\t\t}).catch((response) =>\n\t\t\t\t{\n\t\t\t\t\tthis.progress = false;\n\t\t\t\t\tthis.hideLoader();\n\t\t\t\t\treject(this.getErrorMessageFromResponse(response));\n\t\t\t\t});\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tresolve(this.documents);\n\t\t\t}\n\t\t});\n\t}\n\n\tprepareTemplatesList(templates, onclick): Array\n\t{\n\t\tconst result = [];\n\t\tif(this.isDocumentsLimitReached)\n\t\t{\n\t\t\tresult.push({\n\t\t\t\ttext: Loc.getMessage('DOCGEN_SELECTOR_MENU_DOCUMENTS_LIMIT_REACHED_ADD'),\n\t\t\t\tclassName: 'documentgenerator-selector-menu-item-with-lock',\n\t\t\t\tonclick: () =>\n\t\t\t\t{\n\t\t\t\t\tthis.showTariffPopup();\n\t\t\t\t\tonclick(null);\n\t\t\t\t},\n\t\t\t})\n\t\t}\n\t\telse if(Type.isArray(templates) && Type.isFunction(onclick))\n\t\t{\n\t\t\ttemplates.forEach((template) =>\n\t\t\t{\n\t\t\t\tresult.push({\n\t\t\t\t\ttext: template.getName(),\n\t\t\t\t\tonclick: () =>\n\t\t\t\t\t{\n\t\t\t\t\t\tonclick(template);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t});\n\t\t}\n\t\tif(result.length > 0)\n\t\t{\n\t\t\tresult.push({delimiter: true});\n\t\t}\n\t\tconst selector = this;\n\t\tresult.push({\n\t\t\ttext: Loc.getMessage('DOCGEN_SELECTOR_MENU_DOCUMENTS'),\n\t\t\tcacheable: true,\n\t\t\tevents: {\n\t\t\t\tonSubMenuShow: function()\n\t\t\t\t{\n\t\t\t\t\tif(this.isSubmenuLoaded)\n\t\t\t\t\t{\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tthis.isSubmenuLoaded = true;\n\t\t\t\t\tconst submenu = this.getSubMenu();\n\t\t\t\t\tconst loadingItem = submenu.getMenuItem('loading');\n\t\t\t\t\tselector.getDocuments(loadingItem.getLayout().text).then((documents) =>\n\t\t\t\t\t{\n\t\t\t\t\t\tif(documents.length <= 0)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif(loadingItem)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tloadingItem.getLayout().text.innerText = Loc.getMessage('DOCGEN_SELECTOR_MENU_DOCUMENTS_EMPTY');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tsubmenu.removeMenuItem('loading');\n\t\t\t\t\t\t\tconst menuItems = [];\n\t\t\t\t\t\t\tdocuments.forEach((document) =>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tmenuItems.push({\n\t\t\t\t\t\t\t\t\ttext: document.getTitle(),\n\t\t\t\t\t\t\t\t\tonclick: () =>\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tonclick(document);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tthis.addSubMenu(menuItems);\n\t\t\t\t\t\t\tthis.showSubMenu();\n\t\t\t\t\t\t}\n\t\t\t\t\t}).catch((error) =>\n\t\t\t\t\t{\n\t\t\t\t\t\tif(loadingItem)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tloadingItem.getLayout().text.innerText = error;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\t\t\titems: [\n\t\t\t\t{\n\t\t\t\t\tid: 'loading',\n\t\t\t\t\ttext: Loc.getMessage('DOCGEN_SELECTOR_MENU_DOCUMENTS_LOADING')\n\t\t\t\t},\n\t\t\t]\n\t\t});\n\n\t\treturn result;\n\t}\n\n\tparseButtonResponse(response): Array\n\t{\n\t\tthis.templates = [];\n\n\t\tif(response.data && response.data.isDocumentsLimitReached)\n\t\t{\n\t\t\tthis.isDocumentsLimitReached = response.data.isDocumentsLimitReached;\n\t\t}\n\t\tif(response.data && response.data.templates && Type.isArray(response.data.templates))\n\t\t{\n\t\t\tresponse.data.templates.forEach((data) =>\n\t\t\t{\n\t\t\t\tlet template = Template.create(data);\n\t\t\t\tif(template)\n\t\t\t\t{\n\t\t\t\t\tthis.templates.push(template);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn this.templates;\n\t}\n\n\tgetErrorMessageFromResponse(response): string\n\t{\n\t\tlet error = '';\n\t\tif(response.errors && Type.isArray(response.errors))\n\t\t{\n\t\t\tresponse.errors.forEach(({message}) =>\n\t\t\t{\n\t\t\t\tif(error.length > 0)\n\t\t\t\t{\n\t\t\t\t\terror += ', ';\n\t\t\t\t}\n\t\t\t\terror += message;\n\t\t\t});\n\t\t}\n\n\t\treturn error;\n\t}\n\n\tgetLoader()\n\t{\n\t\tif(!this.loader)\n\t\t{\n\t\t\tthis.loader = new Loader({size: 50});\n\t\t}\n\n\t\treturn this.loader;\n\t}\n\n\tshowLoader(node)\n\t{\n\t\tif(!Type.isDomNode(node))\n\t\t{\n\t\t\tnode = this.node;\n\t\t}\n\t\tif(node && !this.getLoader().isShown())\n\t\t{\n\t\t\tthis.getLoader().show(node);\n\t\t}\n\t}\n\n\thideLoader()\n\t{\n\t\tif(this.getLoader().isShown())\n\t\t{\n\t\t\tthis.getLoader().hide();\n\t\t}\n\t}\n\n\tgetPopupMenuId(): string\n\t{\n\t\treturn 'documentgenerator-selector-popup-menu';\n\t}\n\n\tshowTariffPopup()\n\t{\n\t\tthis.getFeatureContent().then((content) =>\n\t\t{\n\t\t\tthis.getFeaturePopup(content).show();\n\t\t}).catch((error) =>\n\t\t{\n\t\t\tconsole.error(error);\n\t\t});\n\t}\n\n\tgetFeaturePopup(content): PopupWindow\n\t{\n\t\tif(this.featurePopup != null)\n\t\t{\n\t\t\treturn this.featurePopup;\n\t\t}\n\t\tthis.featurePopup = new PopupWindow('bx-popup-documentgenerator-popup', null, {\n\t\t\tzIndex: 200,\n\t\t\tautoHide: true,\n\t\t\tcloseByEsc: true,\n\t\t\tcloseIcon: true,\n\t\t\toverlay : true,\n\t\t\tevents : {\n\t\t\t\tonPopupDestroy : () =>\n\t\t\t\t{\n\t\t\t\t\tthis.featurePopup = null;\n\t\t\t\t}\n\t\t\t},\n\t\t\tcontent : content,\n\t\t\tcontentColor: 'white',\n\t\t});\n\n\t\treturn this.featurePopup;\n\t}\n\n\tgetFeatureContent()\n\t{\n\t\treturn new Promise((resolve, reject) =>\n\t\t{\n\t\t\tif(this.featureContent)\n\t\t\t{\n\t\t\t\tresolve(this.featureContent);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tAjax.runAction('documentgenerator.document.getFeature').then((response) =>\n\t\t\t{\n\t\t\t\tthis.featureContent = document.createElement('div');\n\t\t\t\tthis.getFeaturePopup(this.featureContent);\n\t\t\t\tRuntime.html(this.featureContent, response.data.html, {\n\t\t\t\t\thtmlFirst: true,\n\t\t\t\t}).then(() =>\n\t\t\t\t{\n\t\t\t\t\tresolve(this.featureContent);\n\t\t\t\t});\n\t\t\t}).catch((response) =>\n\t\t\t{\n\t\t\t\treject(this.getErrorMessageFromResponse(response));\n\t\t\t})\n\t\t});\n\t}\n}\n","import {Menu} from './menu';\nimport {Document} from './document';\nimport {Template} from './template';\n\nexport const Selector = {\n\tMenu,\n\tTemplate,\n\tDocument\n};"],"names":["Document","constructor","data","getId","parseInt","id","getTitle","title","getPublicUrl","publicUrl","create","Type","isPlainObject","isString","Template","getName","name","Menu","params","progress","templates","documents","analyticsLabelPrefix","isDocumentsLimitReached","isDomNode","node","moduleId","provider","value","isNumber","isValid","length","isNil","createDocument","template","Promise","resolve","reject","showLoader","DocumentFromPreview","askAboutUsingPreviousDocumentNumber","previousNumber","templateId","providerClassName","values","DocumentNumber","Ajax","runAction","analyticsLabel","then","response","hideLoader","document","isArray","unshift","catch","getErrorMessageFromResponse","getDocumentPublicUrl","status","show","getTemplates","PopupMenu","getPopupMenuId","prepareTemplatesList","object","menu","getMenuById","destroy","offsetLeft","offsetTop","closeByEsc","cacheable","events","onClose","error","parseButtonResponse","getDocuments","select","filter","toLowerCase","order","forEach","push","onclick","result","text","Loc","getMessage","className","showTariffPopup","isFunction","delimiter","selector","onSubMenuShow","isSubmenuLoaded","submenu","getSubMenu","loadingItem","getMenuItem","getLayout","innerText","removeMenuItem","menuItems","addSubMenu","showSubMenu","items","errors","message","getLoader","loader","Loader","size","isShown","hide","getFeatureContent","content","getFeaturePopup","console","featurePopup","PopupWindow","zIndex","autoHide","closeIcon","overlay","onPopupDestroy","contentColor","featureContent","createElement","Runtime","html","htmlFirst","Selector"],"mappings":"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"}