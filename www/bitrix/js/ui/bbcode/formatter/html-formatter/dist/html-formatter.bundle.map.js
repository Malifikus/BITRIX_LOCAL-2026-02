{"version":3,"file":"html-formatter.bundle.map.js","names":["this","BX","UI","BBCode","exports","ui_smiley","ui_codeParser","ui_bbcode_model","ui_videoService","ui_bbcode_formatter","ui_typography","main_core","createEmptyParagraphs","scheme","count","result","i","push","createElement","name","shouldWrapInParagraph","node","getType","BBCodeNode","ELEMENT_NODE","hasGroup","wrapTextNodes","nodes","currentParagraph","lineBreaks","isNewLine","appendChild","createNewLine","length","normalizeTextNodes","getScheme","children","getChildren","setChildren","_","t","_t","RootNodeFormatter","NodeFormatter","constructor","options","super","convert","document","createDocumentFragment","before","after","element","formatter","mode","getContainerMode","container","Tag","render","findParent","startingNode","findFn","curr","ROOT_NODE","getParent","_smileyParser","babelHelpers","classPrivateFieldLooseKey","TextNodeFormatter","text","toString","encode","parent","getName","createTextNode","splits","classPrivateFieldLooseBase","parse","fragment","currentIndex","split","start","chunk","slice","typing","end","smiley","SmileyManager","get","createImg","tail","Object","defineProperty","writable","value","SmileyParser","getAll","img","src","encodeURI","getImage","className","alt","getTyping","getWidth","getHeight","Dom","style","width","height","TabNodeFormatter","LinebreakNodeFormatter","normalizeLineBreaks","ParagraphNodeFormatter","create","tag","attrs","BoldNodeFormatter","getAttributes","UnderlineNodeFormatter","ItalicNodeFormatter","StrikethroughNodeFormatter","_$1","_t$1","TableNodeFormatter","classname","TableHeadCellNodeFormatter","TableDataCellNodeFormatter","TableRowNodeFormatter","ListNodeFormatter","tagName","getValue","ListItemNodeFormatter","nested","some","child","QuoteNodeFormatter","_codeParser","CodeNodeFormatter","content","getTextContent","dataset","decorator","getCodeTokenNodes","CodeParser","tokens","forEach","token","partials","partialsLength","part","span","type","textContent","validateUrl","url","allowDomainRelativeUrl","test","LinkNodeFormatter","isShortLinkEnabled","isIncludeImg","nodeContentLength","getPlainTextLength","shortLink","getLinkSettings","maxLength","sourceHref","fetchNodeValue","nodeRoot","createRoot","left","right","offset","lastFragmentLength","sourceRightFragmentLength","newLink","clone","setValue","createText","lastFragment","Type","isStringFilled","getContent","nodeAttributes","defaultTarget","attributes","href","target","toPlainText","SpoilerNodeFormatter","trim","title","Loc","getMessage","summary","spoilerContent","UserNodeFormatter","_mentionSettings$urlT","mentionSettings","getMentionSettings","urlTemplate","user","userUrl","replaceAll","mentionEntityId","mentionId","DepartmentNodeFormatter","department","departmentUrl","ProjectNodeFormatter","project","projectUrl","createImageNode","viewerAttrs","loading","aspectRatio","events","error","event","addClass","parentNode","validateImageUrl","ImageNodeFormatter","Number","getAttribute","isNumber","Math","round","createVideoNode","video","controls","preload","playsinline","ATTRIBUTE_WHITESPACES","SAFE_URL","sanitizeUrl","normalizedUrl","validateVideoUrl","VideoNodeFormatter","replace","uri","Uri","trusted","VideoService","createByHost","getHost","frameborder","allowfullscreen","FileNodeFormatter","fileMode","getFileMode","viewerGroupBy","Text","getRandom","data","_data$files","serverFileId","info","files","find","file","_file$customData","customData","objectId","viewerAttrsExist","isPlainObject","isUndefined","viewerSeparateItem","isImage","toInteger","serverPreviewWidth","serverPreviewHeight","serverPreviewUrl","isVideo","downloadUrl","fileId","fileInfo","JSON","stringify","NodeFormatters","freeze","globalSettings","Extension","getSettings","_linkSettings","_mentionSettings","_fileMode","_containerMode","_isVoidElement","HtmlFormatter","Formatter","_isVoidElement2","setLinkSettings","linkSettings","setMentionSettings","mention","includes","defaultFormatters","values","map","FormatterClass","setContainerMode","containerMode","setNodeFormatters","formatters","enabled","isInteger","settings","isElement","source","nodeType","Node","DOCUMENT_FRAGMENT_NODE","getDefaultUnknownNodeCallback","isVoid","createFragment","getOpeningTag","getClosingTag","toLowerCase","HtmlFormatterComponent","props","bbcode","String","default","undefined","formatData","beforeCreate","htmlFormatter","mounted","format","unmounted","watch","methods","getHtmlFormatter","clean","$el","append","_this$htmlFormatter","template","Smiley","window"],"sources":["html-formatter.bundle.js"],"mappings":"AACAA,KAAKC,GAAKD,KAAKC,IAAM,CAAC,EACtBD,KAAKC,GAAGC,GAAKF,KAAKC,GAAGC,IAAM,CAAC,EAC5BF,KAAKC,GAAGC,GAAGC,OAASH,KAAKC,GAAGC,GAAGC,QAAU,CAAC,GACzC,SAAUC,EAAQC,EAAUC,EAAcC,EAAgBC,EAAgBC,EAAoBC,EAAcC,GAC5G,aAEA,SAASC,EAAsBC,EAAQC,EAAQ,GAC7C,MAAMC,EAAS,GACf,IAAK,IAAIC,EAAI,EAAGA,EAAIF,EAAOE,IAAK,CAC9BD,EAAOE,KAAKJ,EAAOK,cAAc,CAC/BC,KAAM,MAEV,CACA,OAAOJ,CACT,CAEA,SAASK,EAAsBC,GAC7B,OAAOA,EAAKC,YAAcf,EAAgBgB,WAAWC,cAAgBH,EAAKI,SAAS,YAAcJ,EAAKI,SAAS,eACjH,CAEA,SAASC,EAAcC,EAAOd,GAC5B,MAAME,EAAS,GACf,IAAIa,EAAmB,KACvB,IAAIC,EAAa,EACjB,IAAK,MAAMR,KAAQM,EAAO,CACxB,GAAId,EAAOiB,UAAUT,GAAO,CAC1BQ,IACA,QACF,CACA,GAAIT,EAAsBC,GAAO,CAC/B,GAAIO,IAAqB,MAAQC,GAAc,EAAG,CAChDd,EAAOE,QAAQL,EAAsBC,EAAQgB,EAAa,IAC1DD,EAAmBf,EAAOK,cAAc,CACtCC,KAAM,MAERJ,EAAOE,KAAKW,EACd,MAAO,GAAIC,IAAe,EAAG,CAC3BD,EAAiBG,YAAYlB,EAAOmB,gBACtC,CACAJ,EAAiBG,YAAYV,EAC/B,KAAO,CACL,GAAIQ,EAAa,EAAG,CAClBd,EAAOE,QAAQL,EAAsBC,EAAQgB,EAAa,GAC5D,CACAd,EAAOE,KAAKI,GACZO,EAAmB,IACrB,CACAC,EAAa,CACf,CAGA,GAAId,EAAOkB,SAAW,EAAG,CACvB,MAAO,CAACpB,EAAOK,cAAc,CAC3BC,KAAM,MAEV,CACA,OAAOJ,CACT,CAEA,SAASmB,EAAmBb,GAC1B,MAAMR,EAASQ,EAAKc,YACpB,MAAMC,EAAWV,EAAcL,EAAKgB,cAAexB,GACnDQ,EAAKiB,YAAYF,GACjB,OAAOf,CACT,CAEA,IAAIkB,EAAIC,GAAKA,EACXC,EACF,MAAMC,UAA0BjC,EAAoBkC,cAClD,WAAAC,CAAYC,EAAU,CAAC,GACrBC,MAAM,CACJ3B,KAAM,QACN,OAAA4B,GACE,OAAOC,SAASC,wBAClB,EACA,MAAAC,EAAO7B,KACLA,IAEA,OAAOa,EAAmBb,EAC5B,EACA,KAAA8B,EAAMC,QACJA,EAAOC,UACPA,IAEA,MAAMC,EAAOD,EAAUE,mBACvB,GAAID,IAAS,QAAUA,IAAS,YAAa,CAC3C,MAAME,EAAY7C,EAAU8C,IAAIC,OAAOjB,IAAOA,EAAKF,CAAC,yCAAyC,aAAce,GAC3GE,EAAUzB,YAAYqB,GACtB,OAAOI,CACT,CACA,OAAOJ,CACT,KACGP,GAEP,EAGF,SAASc,EAAWC,EAAcC,GAChC,IAAIC,EAAOF,EACX,MAAOE,IAAS,MAAQA,EAAKxC,YAAcf,EAAgBgB,WAAWwC,UAAW,CAC/E,GAAIF,EAAOC,GAAO,CAChB,OAAOA,CACT,CACAA,EAAOA,EAAKE,WACd,CACA,OAAO,IACT,CAEA,IAAIC,EAA6BC,aAAaC,0BAA0B,gBACxE,MAAMC,UAA0B3D,EAAoBkC,cAClD,WAAAC,CAAYC,EAAU,CAAC,GACrBC,MAAM,CACJ3B,KAAM,QACN,OAAA4B,EAAQ1B,KACNA,IAEA,MAAMgD,EAAOhD,EAAKiD,SAAS,CACzBC,OAAQ,QAEV,GAAIZ,EAAWtC,GAAMmD,GAAUA,EAAOC,YAAc,SAAS,CAC3D,OAAOzB,SAAS0B,eAAeL,EACjC,CACA,MAAMM,EAAST,aAAaU,2BAA2B5E,KAAMiE,GAAeA,GAAeY,MAAMR,GACjG,GAAIM,EAAO1C,SAAW,EAAG,CACvB,OAAOe,SAAS0B,eAAeL,EACjC,CAIA,MAAMS,EAAW9B,SAASC,yBAC1B,IAAI8B,EAAe,EACnB,IAAK,MAAMC,KAASL,EAAQ,CAC1B,GAAII,EAAeC,EAAMC,MAAO,CAC9B,MAAMC,EAAQlC,SAAS0B,eAAeL,EAAKc,MAAMJ,EAAcC,EAAMC,QACrEH,EAAS/C,YAAYmD,EACvB,CACA,MAAME,EAASf,EAAKc,MAAMH,EAAMC,MAAOD,EAAMK,KAC7C,MAAMC,EAASjF,EAAUkF,cAAcC,IAAIJ,GAC3C,GAAIE,IAAW,KAAM,CACnBR,EAAS/C,YAAYiB,SAAS0B,eAAeU,GAC/C,KAAO,CACLN,EAAS/C,YAAY/B,KAAKyF,UAAUH,GACtC,CACAP,EAAeC,EAAMK,GACvB,CACA,GAAIN,EAAeV,EAAKpC,OAAQ,CAC9B,MAAMyD,EAAO1C,SAAS0B,eAAeL,EAAKc,MAAMJ,IAChDD,EAAS/C,YAAY2D,EACvB,CACA,OAAOZ,CACT,KACGjC,IAEL8C,OAAOC,eAAe5F,KAAMiE,EAAe,CACzC4B,SAAU,KACVC,MAAO,OAET5B,aAAaU,2BAA2B5E,KAAMiE,GAAeA,GAAiB,IAAI5D,EAAU0F,aAAa1F,EAAUkF,cAAcS,SACnI,CACA,SAAAP,CAAUH,GACR,MAAMW,EAAMjD,SAAS9B,cAAc,OACnC+E,EAAIC,IAAMC,UAAUb,EAAOc,YAC3BH,EAAII,UAAY,uBAChBJ,EAAIK,IAAMhB,EAAOiB,YACjB,GAAIjB,EAAOkB,WAAa,GAAKlB,EAAOmB,YAAc,EAAG,CACnD9F,EAAU+F,IAAIC,MAAMV,EAAK,CACvBW,MAAO,GAAGtB,EAAOkB,eACjBK,OAAQ,GAAGvB,EAAOmB,iBAEtB,CACA,OAAOR,CACT,EAGF,MAAMa,UAAyBrG,EAAoBkC,cACjD,WAAAC,CAAYC,EAAU,CAAC,GACrBC,MAAM,CACJ3B,KAAM,OACN,OAAA4B,EAAQ1B,KACNA,IAEA,GAAIA,EAAK2C,YAAYS,YAAc,OAAQ,CACzC,OAAOzB,SAAS0B,eAAerD,EAAKiD,WACtC,CACA,OAAOtB,SAAS0B,eAAe,IACjC,KACG7B,GAEP,EAGF,MAAMkE,UAA+BtG,EAAoBkC,cACvD,WAAAC,CAAYC,EAAU,CAAC,GACrBC,MAAM,CACJ3B,KAAM,aACN,OAAA4B,EAAQ1B,KACNA,IAEA,OAAO2B,SAAS9B,cAAc,KAChC,KACG2B,GAEP,EAGF,SAASmE,EAAoB3F,GAC3B,MAAMR,EAASQ,EAAKc,YAMpBd,EAAKU,YAAYlB,EAAOmB,iBACxB,OAAOX,CACT,CAEA,MAAM4F,UAA+BxG,EAAoBkC,cACvD,WAAAC,CAAYC,EAAU,CAAC,GACrBC,MAAM,CACJ3B,KAAM,IACN,OAAA4B,EAAQ1B,KACNA,IAEA,OAAOV,EAAU+F,IAAIQ,OAAO,CAC1BC,IAAK9F,EAAKoD,UACV2C,MAAO,CACLf,UAAW,4BAGjB,EACA,MAAAnD,EAAO7B,KACLA,IAEA,OAAO2F,EAAoB3F,EAC7B,KACGwB,GAEP,EAGF,MAAMwE,UAA0B5G,EAAoBkC,cAClD,WAAAC,CAAYC,EAAU,CAAC,GACrBC,MAAM,CACJ3B,KAAM,IACN,OAAA4B,EAAQ1B,KACNA,IAEA,OAAOV,EAAU+F,IAAIQ,OAAO,CAC1BC,IAAK,IACLC,MAAO,IACF/F,EAAKiG,gBACRjB,UAAW,4BAGjB,KACGxD,GAEP,EAGF,MAAM0E,UAA+B9G,EAAoBkC,cACvD,WAAAC,CAAYC,EAAU,CAAC,GACrBC,MAAM,CACJ3B,KAAM,IACN,OAAA4B,EAAQ1B,KACNA,IAEA,OAAOV,EAAU+F,IAAIQ,OAAO,CAC1BC,IAAK,IACLC,MAAO,IACF/F,EAAKiG,gBACRjB,UAAW,iCAGjB,KACGxD,GAEP,EAGF,MAAM2E,UAA4B/G,EAAoBkC,cACpD,WAAAC,CAAYC,EAAU,CAAC,GACrBC,MAAM,CACJ3B,KAAM,IACN,OAAA4B,EAAQ1B,KACNA,IAEA,OAAOV,EAAU+F,IAAIQ,OAAO,CAC1BC,IAAK,IACLC,MAAO,IACF/F,EAAKiG,gBACRjB,UAAW,8BAGjB,KACGxD,GAEP,EAGF,MAAM4E,UAAmChH,EAAoBkC,cAC3D,WAAAC,CAAYC,EAAU,CAAC,GACrBC,MAAM,CACJ3B,KAAM,IACN,OAAA4B,EAAQ1B,KACNA,IAEA,OAAOV,EAAU+F,IAAIQ,OAAO,CAC1BC,IAAK,IACLC,MAAO,IACF/F,EAAKiG,gBACRjB,UAAW,qCAGjB,KACGxD,GAEP,EAGF,IAAI6E,EAAMlF,GAAKA,EACbmF,EACF,MAAMC,UAA2BnH,EAAoBkC,cACnD,WAAAC,CAAYC,EAAU,CAAC,GACrBC,MAAM,CACJ3B,KAAM,QACN,OAAA4B,GACE,OAAOpC,EAAU+F,IAAIQ,OAAO,CAC1BC,IAAK,QACLC,MAAO,CACLS,UAAW,wBAGjB,EACA,KAAA1E,EAAMC,QACJA,IAEA,MAAMI,EAAY7C,EAAU8C,IAAIC,OAAOiE,IAASA,EAAOD,CAAG,mDAC1DlE,EAAUzB,YAAYqB,GACtB,OAAOI,CACT,KACGX,GAEP,EAGF,MAAMiF,UAAmCrH,EAAoBkC,cAC3D,WAAAC,CAAYC,EAAU,CAAC,GACrBC,MAAM,CACJ3B,KAAM,KACN,OAAA4B,GACE,OAAOpC,EAAU+F,IAAIQ,OAAO,CAC1BC,IAAK,KACLC,MAAO,CACLS,UAAW,6DAGjB,EACA,MAAA3E,EAAO7B,KACLA,IAEA,OAAOa,EAAmBb,EAC5B,KACGwB,GAEP,EAGF,MAAMkF,UAAmCtH,EAAoBkC,cAC3D,WAAAC,CAAYC,EAAU,CAAC,GACrBC,MAAM,CACJ3B,KAAM,KACN,OAAA4B,GACE,OAAOpC,EAAU+F,IAAIQ,OAAO,CAC1BC,IAAK,KACLC,MAAO,CACLS,UAAW,6BAGjB,EACA,MAAA3E,EAAO7B,KACLA,IAEA,OAAOa,EAAmBb,EAC5B,KACGwB,GAEP,EAGF,MAAMmF,UAA8BvH,EAAoBkC,cACtD,WAAAC,CAAYC,EAAU,CAAC,GACrBC,MAAM,CACJ3B,KAAM,KACN,OAAA4B,GACE,OAAOpC,EAAU+F,IAAIQ,OAAO,CAC1BC,IAAK,KACLC,MAAO,CACLS,UAAW,4BAGjB,KACGhF,GAEP,EAGF,MAAMoF,UAA0BxH,EAAoBkC,cAClD,WAAAC,CAAYC,GACVC,MAAM,CACJ3B,KAAM,OACN,OAAA4B,EAAQ1B,KACNA,IAEA,MAAM6G,EAAU7G,EAAK8G,aAAe,IAAM,KAAO,KACjD,OAAOxH,EAAU+F,IAAIQ,OAAO,CAC1BC,IAAKe,EACLd,MAAO,IACF/F,EAAKiG,gBACRjB,UAAW,iBAAiB6B,MAGlC,KACGrF,GAEP,EAGF,MAAMuF,UAA8B3H,EAAoBkC,cACtD,WAAAC,CAAYC,GACVC,MAAM,CACJ3B,KAAM,IACN,OAAA4B,EAAQ1B,KACNA,IAEA,MAAMgH,EAAShH,EAAKgB,cAAciG,MAAKC,GAASA,EAAM9D,YAAc,SACpE,OAAO9D,EAAU+F,IAAIQ,OAAO,CAC1BC,IAAK,KACLC,MAAO,IACF/F,EAAKiG,gBACRjB,UAAW,mBAAmBgC,EAAS,YAAc,OAG3D,KACGxF,GAEP,EAGF,MAAM2F,UAA2B/H,EAAoBkC,cACnD,WAAAC,CAAYC,EAAU,CAAC,GACrBC,MAAM,CACJ3B,KAAM,QACN,OAAA4B,GACE,OAAOpC,EAAU+F,IAAIQ,OAAO,CAC1BC,IAAK,aACLC,MAAO,CACLf,UAAW,wBAGjB,EACA,MAAAnD,EAAO7B,KACLA,IAEA,OAAOa,EAAmBb,EAC5B,KACGwB,GAEP,EAGF,IAAI4F,EAA2BvE,aAAaC,0BAA0B,cACtE,MAAMuE,UAA0BjI,EAAoBkC,cAClD,WAAAC,CAAYC,EAAU,CAAC,GACrBC,MAAM,CACJ3B,KAAM,OACN,MAAA+B,EAAO7B,KACLA,IAEA,OAAO2F,EAAoB3F,EAC7B,EACA,OAAA0B,EAAQ1B,KACNA,IAEA,MAAMsH,EAAUtH,EAAKuH,iBACrB,OAAOjI,EAAU+F,IAAIQ,OAAO,CAC1BC,IAAK,OACLC,MAAO,CACLf,UAAW,sBAEbwC,QAAS,CACPC,UAAW,MAEb1G,SAAU2G,EAAkB7E,aAAaU,2BAA2B5E,KAAMyI,GAAaA,GAAa5D,MAAM8D,KAE9G,KACG9F,IAEL8C,OAAOC,eAAe5F,KAAMyI,EAAa,CACvC5C,SAAU,KACVC,MAAO,IAAIxF,EAAc0I,YAE7B,EAEF,SAASD,EAAkBE,GACzB,MAAMtH,EAAQ,GACdsH,EAAOC,SAAQC,IACb,MAAMC,EAAWD,EAAMR,QAAQ3D,MAAM,YACrC,MAAMqE,EAAiBD,EAASnH,OAChC,IAAK,IAAIjB,EAAI,EAAGA,EAAIqI,EAAgBrI,IAAK,CACvC,MAAMsI,EAAOF,EAASpI,GACtB,GAAIsI,IAAS,MAAQA,IAAS,OAAQ,CACpC3H,EAAMV,KAAK+B,SAAS9B,cAAc,MACpC,MAAO,GAAIoI,IAAS,KAAM,CACxB3H,EAAMV,KAAK+B,SAAS0B,eAAe,MACrC,MAAO,GAAI4E,EAAKrH,OAAS,EAAG,CAC1B,MAAMsH,EAAOvG,SAAS9B,cAAc,QACpCqI,EAAKlD,UAAY,uBAAuB8C,EAAMK,OAC9CD,EAAKE,YAAcH,EACnB3H,EAAMV,KAAKsI,EACb,CACF,KAEF,OAAO5H,CACT,CAEA,SAAS+H,EAAYC,EAAKC,EAAyB,MACjD,GAAIA,EAAwB,CAC1B,MAAO,wCAAwCC,KAAKF,EACtD,CACA,MAAO,qCAAqCE,KAAKF,EACnD,CAEA,MAAMG,UAA0BrJ,EAAoBkC,cAClD,WAAAC,CAAYC,EAAU,CAAC,GACrBC,MAAM,CACJ3B,KAAM,MACN,MAAA+B,EAAO7B,KACLA,EAAIgC,UACJA,IAEA,GAAIA,EAAU0G,qBAAsB,CAClC,MAAMC,EAAe3I,EAAKgB,cAAciG,MAAKjH,GACpCA,EAAKoD,YAAc,QAE5B,IAAKuF,EAAc,CACjB,MAAMnJ,EAASQ,EAAKc,YACpB,MAAM8H,EAAoB5I,EAAK6I,qBAC/B,MAAMC,UACJA,GACE9G,EAAU+G,kBACd,GAAIH,EAAoBE,EAAUE,UAAW,CAC3C,MAAMC,EAAaR,EAAkBS,eAAelJ,GACpD,MAAMmJ,EAAW3J,EAAO4J,WAAW,CACjCrI,SAAUf,EAAKgB,gBAEjB,MAAOqI,EAAMC,GAASH,EAASxF,MAAM,CACnC4F,OAAQT,EAAUE,UAAYF,EAAUU,qBAE1C,MAAMC,EAA4BH,EAAMT,qBACxC,MAAMa,EAAU1J,EAAK2J,QACrBD,EAAQE,SAASX,GACjB,GAAIQ,EAA4BX,EAAUU,mBAAoB,CAC5DE,EAAQhJ,eAAe2I,EAAKrI,cAAexB,EAAOqK,WAAW,QAC7D,MAAO,CAAEC,GAAgBR,EAAM3F,MAAM,CACnC4F,OAAQE,EAA4BX,EAAUU,qBAEhDE,EAAQhJ,eAAeoJ,EAAa9I,eACpC,OAAO0I,CACT,CACAA,EAAQzI,YAAY,IAAIoI,EAAKrI,cAAexB,EAAOqK,WAAW,UAAWP,EAAMtI,gBAC/E,OAAO0I,CACT,CACF,CACF,CACA,OAAO1J,CACT,EACA,OAAA0B,EAAQ1B,KACNA,EAAIgC,UACJA,IAEA,MAAMiH,EAAa,MACjB,MAAMxE,EAAQzE,EAAK8G,WACnB,GAAIxH,EAAUyK,KAAKC,eAAevF,GAAQ,CACxC,OAAOA,CACT,CACA,OAAOzE,EAAKiK,YACb,EANkB,GAOnB,GAAI5B,EAAYY,GAAa,CAC3B,MAAMiB,EAAiBlK,EAAKiG,gBAC5B,MAAMkE,cACJA,EAAgB,SAAQC,WACxBA,GACEpI,EAAU+G,kBACd,OAAOzJ,EAAU+F,IAAIQ,OAAO,CAC1BC,IAAK,IACLC,MAAO,IACFmE,KACAE,EACHC,KAAMpB,EACNqB,OAAQH,EACRnF,UAAW,uBAGjB,CACA,OAAOrD,SAASC,wBAClB,KACGJ,GAEP,CACA,qBAAO0H,CAAelJ,GACpB,MAAMyE,EAAQzE,EAAK8G,WACnB,GAAIxH,EAAUyK,KAAKC,eAAevF,GAAQ,CACxC,OAAOA,CACT,CACA,OAAOzE,EAAKuK,aACd,EAGF,MAAMC,UAA6BpL,EAAoBkC,cACrD,WAAAC,CAAYC,EAAU,CAAC,GACrBC,MAAM,CACJ3B,KAAM,UACN,OAAA4B,EAAQ1B,KACNA,IAEA,MAAMyE,EAAQzE,EAAK8G,WAAW2D,OAC9B,MAAMC,EAAQpL,EAAUyK,KAAKC,eAAevF,GAASA,EAAQnF,EAAUqL,IAAIC,WAAW,gCACtF,OAAOtL,EAAU+F,IAAIQ,OAAO,CAC1BC,IAAK,UACLC,MAAO,CACLf,UAAW,4CAEbjE,SAAU,CAACzB,EAAU+F,IAAIQ,OAAO,CAC9BC,IAAK,UACLC,MAAO,CACLf,UAAW,+BAEbhC,KAAM0H,MAGZ,EACA,MAAA7I,EAAO7B,KACLA,IAEA,OAAOa,EAAmBb,EAC5B,EACA,KAAA8B,EAAMC,QACJA,IAEA,MAAO8I,KAAYvD,GAAWvF,EAAQhB,SACtCgB,EAAQrB,YAAYmK,GACpB9I,EAAQrB,YAAYpB,EAAU+F,IAAIQ,OAAO,CACvCC,IAAK,MACLC,MAAO,CACLf,UAAW,iCAEbwC,QAAS,CACPsD,eAAgB,QAElB/J,SAAU,IAAIuG,MAEhB,OAAOvF,CACT,KACGP,GAEP,EAGF,MAAMuJ,UAA0B3L,EAAoBkC,cAClD,WAAAC,CAAYC,GACVC,MAAM,CACJ3B,KAAM,OACN,OAAA4B,EAAQ1B,KACNA,EAAIgC,UACJA,IAEA,IAAIgJ,EACJ,MAAMC,EAAkBjJ,EAAUkJ,qBAClC,GAAI5L,EAAUyK,KAAKC,eAAeiB,GAAmB,UAAY,GAAKD,EAAwBC,EAAgBE,cAAgB,UAAY,EAAIH,EAAsBI,MAAO,CACzK,MAAMD,EAAcF,EAAgBE,YAAYC,KAChD,MAAMC,EAAUF,EAAYG,WAAW,OAAQtL,EAAK8G,YACpD,OAAOxH,EAAU+F,IAAIQ,OAAO,CAC1BC,IAAK,IACLC,MAAO,CACLsE,KAAMgB,EACNrG,UAAW,yBAEbwC,QAAS,CACP+D,gBAAiB,OACjBC,UAAWxL,EAAK8G,aAGtB,CACA,OAAOxH,EAAU+F,IAAIQ,OAAO,CAC1BC,IAAK,OACLC,MAAO,CACLf,UAAW,yBAEbwC,QAAS,CACP+D,gBAAiB,OACjBC,UAAWxL,EAAK8G,aAGtB,KACGtF,GAEP,EAGF,MAAMiK,UAAgCrM,EAAoBkC,cACxD,WAAAC,CAAYC,EAAU,CAAC,GACrBC,MAAM,CACJ3B,KAAM,aACN,OAAA4B,EAAQ1B,KACNA,EAAIgC,UACJA,IAEA,IAAIgJ,EACJ,MAAMC,EAAkBjJ,EAAUkJ,qBAClC,GAAI5L,EAAUyK,KAAKC,eAAeiB,GAAmB,UAAY,GAAKD,EAAwBC,EAAgBE,cAAgB,UAAY,EAAIH,EAAsBU,YAAa,CAC/K,MAAMP,EAAcF,EAAgBE,YAAYO,WAChD,MAAMC,EAAgBR,EAAYG,WAAW,OAAQtL,EAAK8G,YAC1D,OAAOxH,EAAU+F,IAAIQ,OAAO,CAC1BC,IAAK,IACLC,MAAO,CACLsE,KAAMsB,EACN3G,UAAW,yBAEbwC,QAAS,CACP+D,gBAAiB,aACjBC,UAAWxL,EAAK8G,aAGtB,CACA,OAAOxH,EAAU+F,IAAIQ,OAAO,CAC1BC,IAAK,OACLC,MAAO,CACLf,UAAW,yBAEbwC,QAAS,CACP+D,gBAAiB,aACjBC,UAAWxL,EAAK8G,aAGtB,KACGtF,GAEP,EAGF,MAAMoK,UAA6BxM,EAAoBkC,cACrD,WAAAC,CAAYC,EAAU,CAAC,GACrBC,MAAM,CACJ3B,KAAM,UACN,OAAA4B,EAAQ1B,KACNA,EAAIgC,UACJA,IAEA,IAAIgJ,EACJ,MAAMC,EAAkBjJ,EAAUkJ,qBAClC,GAAI5L,EAAUyK,KAAKC,eAAeiB,GAAmB,UAAY,GAAKD,EAAwBC,EAAgBE,cAAgB,UAAY,EAAIH,EAAsBa,SAAU,CAC5K,MAAMV,EAAcF,EAAgBE,YAAYU,QAChD,MAAMC,EAAaX,EAAYG,WAAW,aAActL,EAAK8G,YAC7D,OAAOxH,EAAU+F,IAAIQ,OAAO,CAC1BC,IAAK,IACLC,MAAO,CACLsE,KAAMyB,EACN9G,UAAW,yBAEbwC,QAAS,CACP+D,gBAAiB,UACjBC,UAAWxL,EAAK8G,aAGtB,CACA,OAAOxH,EAAU+F,IAAIQ,OAAO,CAC1BC,IAAK,OACLC,MAAO,CACLf,UAAW,yBAEbwC,QAAS,CACP+D,gBAAiB,UACjBC,UAAWxL,EAAK8G,aAGtB,KACGtF,GAEP,EAGF,SAASuK,GAAgBlH,IACvBA,EAAGU,MACHA,EAAKC,OACLA,EAAMwG,YACNA,EAAc,CAAC,IAEf,OAAO1M,EAAU+F,IAAIQ,OAAO,CAC1BC,IAAK,OACLC,MAAO,CACLf,UAAW,iCAEbwC,QAAS,CACPC,UAAW,QACRuE,GAELjL,SAAU,CAACzB,EAAU+F,IAAIQ,OAAO,CAC9BC,IAAK,MACLC,MAAO,CACLlB,MACAG,UAAW,sBACXO,QACA0G,QAAS,QAEX3G,MAAO,CACL4G,YAAa3G,EAAQ,GAAKC,EAAS,EAAI,GAAGD,OAAWC,IAAW,QAElE2G,OAAQ,CACNC,MAAOC,IACL,MAAMzH,EAAMyH,EAAM/B,OAClB1F,EAAIC,IAAM,iFACVvF,EAAU+F,IAAIiH,SAAS1H,EAAI2H,WAAY,6BAA6B,OAK9E,CAEA,SAASC,EAAiBlE,GACxB,MAAO,2BAA2BE,KAAKF,EACzC,CAEA,MAAMmE,UAA2BrN,EAAoBkC,cACnD,WAAAC,CAAYC,EAAU,CAAC,GACrBC,MAAM,CACJ3B,KAAM,MACN,OAAA4B,EAAQ1B,KACNA,IAIA,MAAM6E,EAAM7E,EAAKiK,aAAaQ,OAC9B,IAAIlF,EAAQmH,OAAO1M,EAAK2M,aAAa,UACrC,IAAInH,EAASkH,OAAO1M,EAAK2M,aAAa,WACtCpH,EAAQjG,EAAUyK,KAAK6C,SAASrH,IAAUA,EAAQ,EAAIsH,KAAKC,MAAMvH,GAAS,KAC1EC,EAASlG,EAAUyK,KAAK6C,SAASpH,IAAWA,EAAS,EAAIqH,KAAKC,MAAMtH,GAAU,KAC9E,GAAIgH,EAAiB3H,GAAM,CACzB,OAAOkH,EAAgB,CACrBlH,MACAU,QACAC,UAEJ,CACA,OAAO7D,SAAS0B,eAAerD,EAAKiD,WACtC,KACGzB,GAEP,EAGF,SAASuL,GAAgBzE,IACvBA,EAAG/C,MACHA,EAAKC,OACLA,EAAMwG,YACNA,EAAc,CAAC,EAAC7D,KAChBA,IAEA,MAAM6E,EAAQ1N,EAAU+F,IAAIQ,OAAO,CACjCC,IAAK,QACLC,MAAO,CACLkH,SAAU,KACVjI,UAAW,6BACXkI,QAAS,WACTC,YAAa,KACbtI,IAAKyD,EACL/C,SAEFiC,QAAS,CACPC,UAAW,MAEbnC,MAAO,CACL4G,YAAa3G,EAAQ,GAAKC,EAAS,EAAI,GAAGD,OAAWC,IAAW,UAapE,OAAOlG,EAAU+F,IAAIQ,OAAO,CAC1BC,IAAK,OACLC,MAAO,CACLf,UAAW,iCAEbwC,QAAS,CACPC,UAAW,QACRuE,GAELjL,SAAU,CAACiM,IAEf,CAGA,MAAMI,EAAwB,8DAC9B,MAAMC,EAAW,kEACjB,SAASC,EAAYhF,GACnB,IAAKhJ,EAAUyK,KAAKC,eAAe1B,GAAM,CACvC,MAAO,EACT,CACA,MAAMiF,EAAgBjF,EAAIgD,WAAW8B,EAAuB,IAC5D,OAAOC,EAAS7E,KAAK+E,GAAiBA,EAAgB,EACxD,CAEA,SAASC,EAAiBlF,GACxB,MAAO,sBAAsBE,KAAKF,EACpC,CAEA,MAAMmF,UAA2BrO,EAAoBkC,cACnD,WAAAC,CAAYC,EAAU,CAAC,GACrBC,MAAM,CACJ3B,KAAM,QACN,OAAA4B,EAAQ1B,KACNA,IAGA,MAAM6E,EAAMyI,EAAYtN,EAAKiK,aAAaQ,QAC1C,IAAK+C,EAAiB3I,GAAM,CAC1B,OAAOlD,SAAS0B,eAAerD,EAAKiD,WACtC,CACA,IAAIsC,EAAQmH,OAAO1M,EAAK2M,aAAa,UACrC,IAAInH,EAASkH,OAAO1M,EAAK2M,aAAa,WACtCpH,EAAQjG,EAAUyK,KAAK6C,SAASrH,IAAUA,EAAQ,EAAIsH,KAAKC,MAAMvH,GAAS,IAC1EC,EAASlG,EAAUyK,KAAK6C,SAASpH,IAAWA,EAAS,EAAIqH,KAAKC,MAAMtH,GAAU,IAC9E,MAAM8C,EAAM,WAAWE,KAAK3D,GAAOA,EAAM,WAAWA,EAAI6I,QAAQ,QAAS,MACzE,MAAMC,EAAM,IAAIrO,EAAUsO,IAAItF,GAC9B,MAAMuF,EAAU1O,EAAgB2O,aAAaC,aAAaJ,EAAIK,aAAe,KAC7E,GAAIH,EAAS,CACX,MAAMb,EAAQ1N,EAAU+F,IAAIQ,OAAO,CACjCC,IAAK,SACLC,MAAO,CACLlB,MACAG,UAAW,6BACXO,QACAC,OAAQ,OACRyI,YAAa,EACbC,gBAAiB,MAEnB5I,MAAO,CACL4G,YAAa,GAAG3G,OAAWC,OAG/B,OAAOlG,EAAU+F,IAAIQ,OAAO,CAC1BC,IAAK,OACLC,MAAO,CACLf,UAAW,iCAEbwC,QAAS,CACPC,UAAW,MAEb1G,SAAU,CAACiM,IAEf,CAOA,OAAOD,EAAgB,CACrBzE,MACA/C,QACAC,UAEJ,KACGhE,GAEP,EAGF,MAAM2M,UAA0B/O,EAAoBkC,cAClD,WAAAC,CAAYC,EAAU,CAAC,GACrB,MAAMQ,EAAYR,EAAQQ,UAC1B,MAAMoM,EAAWpM,EAAUqM,cAC3B,MAAMC,EAAgBhP,EAAUiP,KAAKC,YACrC/M,MAAM,CACJ3B,KAAMsO,GAAY,cAClB,OAAA1M,EAAQ1B,KACNA,EAAIyO,KACJA,IAEA,IAAIC,EACJ,GAAIN,IAAa,KAAM,CACrB,OAAOpO,CACT,CAMA,MAAM2O,EAAe3O,EAAK2M,aAAa,MACvC,MAAMtJ,EAAiB,IACd1B,SAAS0B,eAAerD,EAAKiD,YAEtC,IAAK3D,EAAUyK,KAAKC,eAAe2E,IAAiBP,IAAa,SAAW,WAAW5F,KAAKmG,IAAiBP,IAAa,SAAW,sCAAsC5F,KAAKmG,GAAe,CAC7L,OAAOtL,GACT,CACA,MAAMuL,EAAOH,GAAQ,UAAY,GAAKC,EAAcD,EAAKI,QAAU,UAAY,EAAIH,EAAYI,MAAKC,IAClG,IAAIC,EACJ,OAAOD,EAAKJ,aAAa1L,aAAe0L,EAAa1L,YAAc,KAAK+L,EAAmBD,EAAKE,aAAe,UAAY,EAAID,EAAiBE,SAASjM,eAAiB0L,EAAa1L,UAAU,IAEnM,IAAK2L,EAAM,CACT,OAAOvL,GACT,CACA,MAAM8L,EAAmB7P,EAAUyK,KAAKqF,cAAcR,EAAK5C,aAC3D,MAAMA,EAAcmD,EAAmB,IAClCP,EAAK5C,aACN,CAAC,EACL,GAAImD,IAAqB7P,EAAUyK,KAAKC,eAAegC,EAAYsC,gBAAkBhP,EAAUyK,KAAKsF,YAAYrD,EAAYsD,oBAAqB,CAC/ItD,EAAYsC,cAAgBA,CAC9B,CACA,GAAIM,EAAKW,QAAS,CAChB,IAAIhK,EAAQjG,EAAUiP,KAAKiB,UAAUxP,EAAK2M,aAAa,UACvD,IAAInH,EAASlG,EAAUiP,KAAKiB,UAAUxP,EAAK2M,aAAa,WACxDpH,EAAQjG,EAAUyK,KAAK6C,SAASrH,IAAUA,EAAQ,EAAIsH,KAAKC,MAAMvH,GAASqJ,EAAKa,mBAC/EjK,EAASlG,EAAUyK,KAAK6C,SAASpH,IAAWA,EAAS,EAAIqH,KAAKC,MAAMtH,GAAUoJ,EAAKc,oBACnF,OAAO3D,EAAgB,CACrBxG,QACAC,SACAX,IAAK+J,EAAKe,iBACV3D,eAEJ,CACA,GAAI4C,EAAKgB,QAAS,CAChB,IAAIrK,EAAQmH,OAAO1M,EAAK2M,aAAa,UACrC,IAAInH,EAASkH,OAAO1M,EAAK2M,aAAa,WACtCpH,EAAQjG,EAAUyK,KAAK6C,SAASrH,IAAUA,EAAQ,EAAIsH,KAAKC,MAAMvH,GAAS,IAC1EC,EAASlG,EAAUyK,KAAK6C,SAASpH,IAAWA,EAAS,EAAIqH,KAAKC,MAAMtH,GAAU,KAC9E,OAAOuH,EAAgB,CACrBzE,IAAKsG,EAAKiB,YACV7D,cACAzG,QACAC,UAEJ,CACA,OAAOlG,EAAU+F,IAAIQ,OAAO,CAC1BC,IAAK,IACLC,MAAO,CACLsE,KAAMuE,EAAKiB,YACX7K,UAAW,sBAEbhC,KAAM4L,EAAK9O,MAAQ,UACnB0H,QAAS,CACPsI,OAAQlB,EAAKD,aACboB,SAAUC,KAAKC,UAAUrB,MACtB5C,IAGT,KACGxK,GAEP,EAKF,IAAI0O,GAA8B5L,OAAO6L,OAAO,CAC/C9O,kBAAmBA,EACnB0B,kBAAmBA,EACnB0C,iBAAkBA,EAClBC,uBAAwBA,EACxBE,uBAAwBA,EACxBI,kBAAmBA,EACnBE,uBAAwBA,EACxBC,oBAAqBA,EACrBC,2BAA4BA,EAC5BG,mBAAoBA,EACpBE,2BAA4BA,EAC5BC,2BAA4BA,EAC5BC,sBAAuBA,EACvBC,kBAAmBA,EACnBG,sBAAuBA,EACvBI,mBAAoBA,EACpBE,kBAAmBA,EACnBoB,kBAAmBA,EACnB+B,qBAAsBA,EACtBO,kBAAmBA,EACnBU,wBAAyBA,EACzBG,qBAAsBA,EACtBa,mBAAoBA,EACpBgB,mBAAoBA,EACpBU,kBAAmBA,IAGpB,MAAMiC,GAAiB9Q,EAAU+Q,UAAUC,YAAY,sCAKvD,IAAIC,GAA6B1N,aAAaC,0BAA0B,gBACxE,IAAI0N,GAAgC3N,aAAaC,0BAA0B,mBAC3E,IAAI2N,GAAyB5N,aAAaC,0BAA0B,YACpE,IAAI4N,GAA8B7N,aAAaC,0BAA0B,iBACzE,IAAI6N,GAA8B9N,aAAaC,0BAA0B,iBACzE,MAAM8N,WAAsBxR,EAAoByR,UAC9C,WAAAtP,CAAYC,EAAU,CAAC,GACrBC,QACA6C,OAAOC,eAAe5F,KAAMgS,GAAgB,CAC1ClM,MAAOqM,KAETxM,OAAOC,eAAe5F,KAAM4R,GAAe,CACzC/L,SAAU,KACVC,WAAY,IAEdH,OAAOC,eAAe5F,KAAM6R,GAAkB,CAC5ChM,SAAU,KACVC,WAAY,IAEdH,OAAOC,eAAe5F,KAAM8R,GAAW,CACrCjM,SAAU,KACVC,WAAY,IAEdH,OAAOC,eAAe5F,KAAM+R,GAAgB,CAC1ClM,SAAU,KACVC,WAAY,IAEd9F,KAAKoS,gBAAgB,IAChBX,GAAeY,gBACfxP,EAAQwP,eAEbrS,KAAKsS,mBAAmB,IACnBb,GAAec,WACf1P,EAAQ0P,UAEbrO,aAAaU,2BAA2B5E,KAAM8R,IAAWA,IAAa,CAAC,OAAQ,QAAQU,SAAS3P,EAAQ4M,UAAY5M,EAAQ4M,SAAW,KACvI,MAAMgD,EAAoB9M,OAAO+M,OAAOnB,IAAgBoB,KAAIC,GACnD,IAAIA,EAAe,CACxBvP,UAAWrD,SAGfA,KAAK6S,iBAAiBhQ,EAAQiQ,eAC9B9S,KAAK+S,kBAAkBN,GACvBzS,KAAK+S,kBAAkBlQ,EAAQmQ,WACjC,CACA,kBAAAjJ,GACE,MAAMI,UACJA,GACEnK,KAAKoK,kBACT,OAAOzJ,EAAUyK,KAAKqF,cAActG,IAAcA,EAAU8I,UAAY,MAAQtS,EAAUyK,KAAK8H,UAAU/I,EAAUE,UACrH,CACA,eAAA+H,CAAgBe,GACdjP,aAAaU,2BAA2B5E,KAAM4R,IAAeA,IAAiB,IACzEuB,EAEP,CACA,eAAA/I,GACE,OAAOlG,aAAaU,2BAA2B5E,KAAM4R,IAAeA,GACtE,CACA,WAAAlC,GACE,OAAOxL,aAAaU,2BAA2B5E,KAAM8R,IAAWA,GAClE,CACA,kBAAAQ,CAAmBa,GACjBjP,aAAaU,2BAA2B5E,KAAM6R,IAAkBA,IAAoB,IAC/EsB,EAEP,CACA,kBAAA5G,GACE,OAAOrI,aAAaU,2BAA2B5E,KAAM6R,IAAkBA,GACzE,CACA,gBAAAgB,CAAiBvP,GACfY,aAAaU,2BAA2B5E,KAAM+R,IAAgBA,IAAkBzO,CAClF,CACA,gBAAAC,GACE,OAAOW,aAAaU,2BAA2B5E,KAAM+R,IAAgBA,GACvE,CACA,SAAAqB,CAAUC,GACR,GAAIA,EAAOC,WAAaC,KAAKC,uBAAwB,CACnD,OAAO,IACT,CACA,GAAIH,EAAOC,WAAaC,KAAK/R,cAAgB0C,aAAaU,2BAA2B5E,KAAMgS,IAAgBA,IAAgBqB,GAAS,CAClI,OAAO,KACT,CACA,OAAO1S,EAAUyK,KAAKsF,YAAY2C,EAAOxK,QAAQC,UACnD,CACA,6BAAA2K,CAA8B5Q,GAC5B,MAAO,IACE,IAAIpC,EAAoBkC,cAAc,CAC3CxB,KAAM,UACN,MAAA+B,EAAO7B,KACLA,IAEA,MAAMR,EAASQ,EAAKc,YACpB,GAAId,EAAKqS,SAAU,CACjB,OAAO7S,EAAO8S,eAAe,CAC3BvR,SAAU,CAACvB,EAAOqK,WAAW7J,EAAKuS,mBAEtC,CACA,OAAO/S,EAAO8S,eAAe,CAC3BvR,SAAU,CAACvB,EAAOqK,WAAW7J,EAAKuS,oBAAqBvS,EAAKgB,cAAexB,EAAOqK,WAAW7J,EAAKwS,mBAEtG,EACA,OAAA9Q,GACE,OAAOC,SAASC,wBAClB,GAGN,EAEF,SAASkP,GAAgBkB,GACvB,MAAO,CAAC,MAAO,KAAM,KAAM,SAASb,SAASa,EAAOnL,QAAQ4L,cAC9D,CAEA,MAAMC,GAAyB,CAC7BC,MAAO,CACLC,OAAQ,CACNzK,KAAM0K,OACNC,QAAS,IAGXtR,QAAS,CACP2G,KAAM7D,OACNwO,QAASC,WAGXC,WAAY,CACV7K,KAAM7D,OACNwO,QAAS,KAAM,CAAG,KAGtB,YAAAG,GACEtU,KAAKuU,cAAgB,IACvB,EACA,OAAAC,GACExU,KAAKyU,QACP,EACA,SAAAC,GACE1U,KAAKuU,cAAgB,IACvB,EACAI,MAAO,CACL,MAAAV,GACEjU,KAAKyU,QACP,EACA,UAAAJ,GACErU,KAAKyU,QACP,GAEFG,QAAS,CACP,MAAAH,GACE,MAAM1T,EAASf,KAAK6U,mBAAmBJ,OAAO,CAC5CpB,OAAQrT,KAAKiU,OACbnE,KAAM9P,KAAKqU,aAEb1T,EAAU+F,IAAIoO,MAAM9U,KAAK+U,KACzBpU,EAAU+F,IAAIsO,OAAOjU,EAAQf,KAAK+U,IACpC,EACA,gBAAAF,GACE,IAAII,GACHA,EAAsBjV,KAAKuU,gBAAkB,KAAOU,EAAsBjV,KAAKuU,cAAgB,IAAItC,GAAcjS,KAAK6C,SACvH,OAAO7C,KAAKuU,aACd,GAEFW,SAAU,yDAKZ9U,EAAQ6R,cAAgBA,GACxB7R,EAAQ2T,uBAAyBA,EAElC,EAvvCA,CAuvCG/T,KAAKC,GAAGC,GAAGC,OAAO+R,UAAYlS,KAAKC,GAAGC,GAAGC,OAAO+R,WAAa,CAAC,EAAGjS,GAAGC,GAAGiV,OAAOlV,GAAGC,GAAG8I,WAAW/I,GAAGC,GAAGC,OAAOF,GAAGC,GAAGiP,aAAalP,GAAGC,GAAGC,OAAOiV,OAAOnV","ignoreList":[]}