{"version":3,"file":"task-container.bundle.js","sources":["../src/components/header-menu.js","../src/task-container.js"],"sourcesContent":["import { BaseHeaderMenu } from 'im.v2.component.list.container.elements.base-header-menu';\nimport { MenuItem } from 'im.v2.component.elements.menu';\nimport { ChatType } from 'im.v2.const';\nimport { showReadMessagesConfirm } from 'im.v2.lib.confirm';\nimport { ChatService } from 'im.v2.provider.service.chat';\n\n// @vue/component\nexport const HeaderMenu = {\n\tname: 'HeaderMenu',\n\tcomponents: { BaseHeaderMenu, MenuItem },\n\tmethods: {\n\t\tasync onReadAllClick(closeCallback: () => void)\n\t\t{\n\t\t\tconst confirmResult = await showReadMessagesConfirm(this.loc('IM_LIST_CONTAINER_TASK_HEADER_MENU_READ_ALL_CONFIRM_TEXT'));\n\n\t\t\tif (!confirmResult)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t(new ChatService()).readAllByType(ChatType.taskComments);\n\n\t\t\tcloseCallback();\n\t\t},\n\t\tloc(phraseCode: string): string\n\t\t{\n\t\t\treturn this.$Bitrix.Loc.getMessage(phraseCode);\n\t\t},\n\t},\n\ttemplate: `\n\t\t<BaseHeaderMenu>\n\t\t\t<template #menu-items=\"{ closeCallback }\">\n\t\t\t\t<MenuItem\n\t\t\t\t\t:title=\"loc('IM_LIST_CONTAINER_TASK_HEADER_MENU_READ_ALL')\"\n\t\t\t\t\t@click=\"onReadAllClick(closeCallback)\"\n\t\t\t\t/>\n\t\t\t</template>\n\t\t</BaseHeaderMenu>\n\t`,\n};\n","import { TaskList } from 'im.v2.component.list.items.task';\nimport { Layout } from 'im.v2.const';\nimport { Logger } from 'im.v2.lib.logger';\nimport { EntityCreator } from 'im.v2.lib.entity-creator';\n\nimport { HeaderMenu } from './components/header-menu';\n\nimport './css/task-container.css';\n\n// @vue/component\nexport const TaskListContainer = {\n\tname: 'TaskListContainer',\n\tcomponents: { TaskList, HeaderMenu },\n\temits: ['selectEntity'],\n\tcreated()\n\t{\n\t\tLogger.warn('List: Task container created');\n\t},\n\tmethods: {\n\t\tonChatClick(dialogId: string): void\n\t\t{\n\t\t\tthis.$emit('selectEntity', { layoutName: Layout.taskComments, entityId: dialogId });\n\t\t},\n\t\tonCreateClick(): void\n\t\t{\n\t\t\t(new EntityCreator()).openTaskCreationForm();\n\t\t},\n\t\tloc(phraseCode: string): string\n\t\t{\n\t\t\treturn this.$Bitrix.Loc.getMessage(phraseCode);\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div class=\"bx-im-list-container-task__container\">\n\t\t\t<div class=\"bx-im-list-container-task__header_container\">\n\t\t\t\t<HeaderMenu />\n\t\t\t\t<div class=\"bx-im-list-container-task__header_title\">\n\t\t\t\t\t{{ loc('IM_LIST_CONTAINER_TASK_HEADER_TITLE_MSGVER_1') }}\n\t\t\t\t</div>\n\t\t\t\t<div @click=\"onCreateClick\" class=\"bx-im-list-container-task__header_create-task\"></div>\n\t\t\t</div>\n\t\t\t<div class=\"bx-im-list-container-task__elements_container\">\n\t\t\t\t<div class=\"bx-im-list-container-task__elements\">\n\t\t\t\t\t<TaskList @chatClick=\"onChatClick\" />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t`,\n};\n"],"names":["HeaderMenu","name","components","BaseHeaderMenu","MenuItem","methods","onReadAllClick","closeCallback","confirmResult","showReadMessagesConfirm","loc","ChatService","readAllByType","ChatType","taskComments","phraseCode","$Bitrix","Loc","getMessage","template","TaskListContainer","TaskList","emits","created","Logger","warn","onChatClick","dialogId","$emit","layoutName","Layout","entityId","onCreateClick","EntityCreator","openTaskCreationForm"],"mappings":";;;;;;;;CAMA;AACA,CAAO,MAAMA,UAAU,GAAG;GACzBC,IAAI,EAAE,YAAY;GAClBC,UAAU,EAAE;qBAAEC,qEAAc;eAAEC;IAAU;GACxCC,OAAO,EAAE;KACR,MAAMC,cAAc,CAACC,aAAyB,EAC9C;OACC,MAAMC,aAAa,GAAG,MAAMC,yCAAuB,CAAC,IAAI,CAACC,GAAG,CAAC,0DAA0D,CAAC,CAAC;OAEzH,IAAI,CAACF,aAAa,EAClB;SACC;;OAGA,IAAIG,uCAAW,EAAE,CAAEC,aAAa,CAACC,oBAAQ,CAACC,YAAY,CAAC;OAExDP,aAAa,EAAE;MACf;KACDG,GAAG,CAACK,UAAkB,EACtB;OACC,OAAO,IAAI,CAACC,OAAO,CAACC,GAAG,CAACC,UAAU,CAACH,UAAU,CAAC;;IAE/C;GACDI,QAAQ,EAAG;;;;;;;;;;CAUZ,CAAC;;CC9BD;AACA,OAAaC,iBAAiB,GAAG;GAChCnB,IAAI,EAAE,mBAAmB;GACzBC,UAAU,EAAE;eAAEmB,wCAAQ;KAAErB;IAAY;GACpCsB,KAAK,EAAE,CAAC,cAAc,CAAC;GACvBC,OAAO,GACP;KACCC,uBAAM,CAACC,IAAI,CAAC,8BAA8B,CAAC;IAC3C;GACDpB,OAAO,EAAE;KACRqB,WAAW,CAACC,QAAgB,EAC5B;OACC,IAAI,CAACC,KAAK,CAAC,cAAc,EAAE;SAAEC,UAAU,EAAEC,kBAAM,CAAChB,YAAY;SAAEiB,QAAQ,EAAEJ;QAAU,CAAC;MACnF;KACDK,aAAa,GACb;OACE,IAAIC,qCAAa,EAAE,CAAEC,oBAAoB,EAAE;MAC5C;KACDxB,GAAG,CAACK,UAAkB,EACtB;OACC,OAAO,IAAI,CAACC,OAAO,CAACC,GAAG,CAACC,UAAU,CAACH,UAAU,CAAC;;IAE/C;GACDI,QAAQ,EAAG;;;;;;;;;;;;;;;;CAgBZ,CAAC;;;;;;;;"}