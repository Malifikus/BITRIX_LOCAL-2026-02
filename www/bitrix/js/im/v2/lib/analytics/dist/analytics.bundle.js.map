{"version":3,"file":"analytics.bundle.js","sources":["../src/const.js","../src/helpers/get-collab-id.js","../src/helpers/get-user-type.js","../src/helpers/get-category-by-chat-type.js","../src/helpers/is-ai-assistant.js","../src/helpers/is-notes.js","../src/helpers/get-chat-type.js","../src/classes/collab-entities.js","../src/classes/chat-entities.js","../src/classes/chat-delete.js","../src/classes/message-delete.js","../src/classes/history-limit.js","../src/classes/user-add.js","../src/classes/chat-edit.js","../src/classes/chat-create.js","../src/classes/supervisor.js","../src/classes/check-in.js","../src/classes/copilot.js","../src/classes/attach-menu.js","../src/classes/vote-create.js","../src/classes/message-pins.js","../src/classes/message-forward.js","../src/classes/message-context-menu.js","../src/classes/slider-invite.js","../src/classes/chat-pins.js","../src/classes/desktop-mode.js","../src/classes/chat-invite-link.js","../src/classes/ai-assistant.js","../src/classes/player.js","../src/classes/notification.js","../src/analytics.js"],"sourcesContent":["export const PSEUDO_CHAT_TYPE_FOR_NOTES = 'notes';\nexport const AI_ASSISTANT_CHAT_TYPE = 'chatType_aiAssistant';\n\nexport const CopilotChatType = Object.freeze({\n\tprivate: 'chatType_private',\n\tmultiuser: 'chatType_multiuser',\n});\n\nexport const AnalyticsEvent = Object.freeze({\n\topenChat: 'open_chat',\n\tcreateNewChat: 'create_new_chat',\n\taudioUse: 'audio_use',\n\topenTab: 'open_tab',\n\tpopupOpen: 'popup_open',\n\topenPrices: 'open_prices',\n\topenSettings: 'open_settings',\n\tclickCreateNew: 'click_create_new',\n\topenExisting: 'open_existing',\n\ttypeMessage: 'type_message',\n\tpinChat: 'pin_chat',\n\tclickDelete: 'click_delete',\n\tclickShare: 'click_share',\n\tcancelDelete: 'cancel_delete',\n\tdelete: 'delete',\n\tview: 'view',\n\tclick: 'click',\n\tclickEdit: 'click_edit',\n\tsubmitEdit: 'submit_edit',\n\tclickCallButton: 'click_call_button',\n\tclickStartConf: 'click_start_conf',\n\tclickJoin: 'click_join',\n\tclickAddUser: 'click_add_user',\n\topenCalendar: 'open_calendar',\n\topenTasks: 'open_tasks',\n\topenFiles: 'open_files',\n\tclickCreatePoll: 'click_create_poll',\n\tclickCreateTask: 'click_create_task',\n\tclickCreateEvent: 'click_create_event',\n\tclickAttach: 'click_attach',\n\tdownloadFile: 'download_file',\n\tsaveToDisk: 'save_to_disk',\n\tpinMessage: 'pin_message',\n\tunpinMessage: 'unpin_message',\n\tpinnedMessageLimitException: 'pinned_message_limit_exception',\n\tstartSearch: 'start_search',\n\tselectRecipient: 'select_recipient',\n\tselectUser: 'select_user',\n\topenCreateMenu: 'open_create_menu',\n\tclickUpdate: 'click_update',\n\tclickMoreInformation: 'click_more_information',\n\tgoToWeb: 'go_to_web',\n\tcopyMessage: 'copy_message',\n\tclickReply: 'click_reply',\n\tcopyFile: 'copy_file',\n\tcopyLink: 'copy_link',\n\taddToFav: 'add_to_fav',\n\tseeLater: 'see_later',\n\tselect: 'select',\n\taddFeedback: 'add_feedback',\n\tviewPopup: 'view_popup',\n\tselectAppMode: 'select_app_mode',\n\tcopyChatLink: 'copy_chat_link',\n\tviewTranscription: 'view_transcription',\n\tplay: 'play',\n\tpause: 'pause',\n\tchangeSpeed: 'change_speed',\n\taskCopilot: 'ask_copilot',\n\tmodeOn: 'mode_on',\n\tmodeOff: 'mode_off',\n\tclickMcpIntegrations: 'click_mcp_integrations',\n\tnotificationOpen: 'notif_open',\n\tnotificationUnsubscribe: 'notif_unsubscribe',\n});\n\nexport const AnalyticsTool = Object.freeze({\n\tai: 'ai',\n\tcheckin: 'checkin',\n\tim: 'im',\n\tinfoHelper: 'InfoHelper',\n\tinform: 'inform',\n\tnotification: 'notification',\n});\n\nexport const AnalyticsCategory = Object.freeze({\n\tchatOperations: 'chat_operations',\n\tshift: 'shift',\n\tmessenger: 'messenger',\n\tchat: 'chat',\n\tchannel: 'channel',\n\tvideoconf: 'videoconf',\n\tcopilot: 'copilot',\n\tlimit: 'limit',\n\tlimitBanner: 'limit_banner',\n\ttoolOff: 'tool_off',\n\tmessage: 'message',\n\tchatPopup: 'chat_popup',\n\tcall: 'call',\n\tcollab: 'collab',\n\tupdateAppPopup: 'update_app_popup',\n\taudioMessage: 'audiomessage',\n\tvideoMessage: 'videomessage',\n\tnotificationOperations: 'notif_ops',\n});\n\nexport const AnalyticsType = Object.freeze({\n\tai: 'ai',\n\tchat: 'chat',\n\tchannel: 'channel',\n\tvideoconf: 'videoconf',\n\tcopilot: 'copilot',\n\tdeletedMessage: 'deleted_message',\n\tlimitOfficeChatingHistory: 'limit_office_chating_history',\n\tprivateCall: 'private',\n\tgroupCall: 'group',\n\tmay25DesktopRelease: 'may_25_desktop_release',\n\tselectAppMode: 'select_app_mode',\n\toneWindow: 'single_window',\n\taiAssistant: 'aiAssistant',\n\tthink: 'think',\n});\n\nexport const AnalyticsSection = Object.freeze({\n\tcopilotTab: 'copilot_tab',\n\tchat: 'chat',\n\tchatStart: 'chat_start',\n\tchatHistory: 'chat_history',\n\tsidebar: 'sidebar',\n\tpopup: 'popup',\n\tactiveChat: 'active_chat',\n\tcomments: 'comments',\n\tchatHeader: 'chat_header',\n\tchatSidebar: 'chat_sidebar',\n\tchatTextarea: 'chat_textarea',\n\teditor: 'editor',\n\tchatWindow: 'chat_window',\n\tforward: 'forward',\n\tuserAdd: 'user_add',\n\tchatCreateMenu: 'chat_create_menu',\n\tchatEmptyState: 'chat_empty_state',\n\tsettings: 'settings',\n\tminiChat: 'mini_chat',\n});\n\nexport const AnalyticsSubSection = Object.freeze({\n\tcontextMenu: 'context_menu',\n\tsidebar: 'sidebar',\n\tchatWindow: 'chat_window',\n\tmessageLink: 'message_link',\n\tchatSidebar: 'chat_sidebar',\n\tchatList: 'chat_list',\n\twindow: 'window',\n\tmembersPanel: 'user_list',\n});\n\nexport const AnalyticsElement = Object.freeze({\n\tinitialBanner: 'initial_banner',\n\tvideocall: 'videocall',\n\taudiocall: 'audiocall',\n\tstartButton: 'start_button',\n\tmore: 'more',\n});\n\nexport const AnalyticsStatus = Object.freeze({\n\tsuccess: 'success',\n\terrorTurnedOff: 'error_turnedoff',\n});\n\nexport const CreateChatContext = Object.freeze({\n\tcollabEmptyState: 'collab_empty_state',\n});\n\nexport const MessagePinsTypes = Object.freeze({\n\tsingle: 'single',\n\tmultiple: 'multiple',\n\tselected: 'selected',\n});\n\nexport const NotificationEntryPoint = Object.freeze({\n\tquickAccessLabel: 'bell_button',\n});\n","import { Core } from 'im.v2.application.core';\n\nimport type { ImModelCollabInfo } from 'im.v2.model';\n\nexport function getCollabId(chatId: number): ?string\n{\n\tconst collabInfo: ImModelCollabInfo = Core.getStore().getters['chats/collabs/getByChatId'](chatId);\n\tif (!collabInfo)\n\t{\n\t\treturn null;\n\t}\n\n\treturn `collabId_${collabInfo.collabId}`;\n}\n","import { Core } from 'im.v2.application.core';\nimport { UserType } from 'im.v2.const';\n\nimport type { ImModelUser } from 'im.v2.model';\n\nconst AnalyticUserType = Object.freeze({\n\tuserIntranet: 'user_intranet',\n\tuserExtranet: 'user_extranet',\n\tuserCollaber: 'user_collaber',\n});\n\nexport function getUserType(): $Values<typeof AnalyticUserType>\n{\n\tconst user: ImModelUser = Core.getStore().getters['users/get'](Core.getUserId(), true);\n\n\tswitch (user.type)\n\t{\n\t\tcase UserType.user:\n\t\t\treturn AnalyticUserType.userIntranet;\n\t\tcase UserType.extranet:\n\t\t\treturn AnalyticUserType.userExtranet;\n\t\tcase UserType.collaber:\n\t\t\treturn AnalyticUserType.userCollaber;\n\t\tdefault:\n\t\t\treturn AnalyticUserType.userIntranet;\n\t}\n}\n","import { ChatType } from 'im.v2.const';\n\nimport { AnalyticsCategory } from '../const';\n\nexport function getCategoryByChatType(type: $Values<typeof ChatType>): $Values<typeof AnalyticsCategory>\n{\n\tswitch (type)\n\t{\n\t\tcase ChatType.channel:\n\t\tcase ChatType.openChannel:\n\t\tcase ChatType.comment:\n\t\tcase ChatType.generalChannel:\n\t\t\treturn AnalyticsCategory.channel;\n\t\tcase ChatType.copilot:\n\t\t\treturn AnalyticsCategory.copilot;\n\t\tcase ChatType.videoconf:\n\t\t\treturn AnalyticsCategory.videoconf;\n\t\tcase ChatType.collab:\n\t\t\treturn AnalyticsCategory.collab;\n\t\tdefault:\n\t\t\treturn AnalyticsCategory.chat;\n\t}\n}\n","import { Core } from 'im.v2.application.core';\n\nexport function isAiAssistant(dialogId: string): boolean\n{\n\treturn Core.getStore().getters['users/bots/isAiAssistant'](dialogId);\n}\n","import { Core } from 'im.v2.application.core';\n\nexport function isNotes(dialogId: string): boolean\n{\n\treturn Core.getStore().getters['chats/isNotes'](dialogId);\n}\n","import { ChatType } from 'im.v2.const';\n\nimport { isAiAssistant } from './is-ai-assistant';\nimport { isNotes } from './is-notes';\nimport { PSEUDO_CHAT_TYPE_FOR_NOTES } from '../const';\n\nimport type { ImModelChat } from 'im.v2.model';\n\nexport type ExtendedChatType = $Values<typeof ChatType>\n\t| typeof CUSTOM_CHAT_TYPE\n\t| typeof PSEUDO_CHAT_TYPE_FOR_NOTES;\n\nconst CUSTOM_CHAT_TYPE = 'custom';\nconst AI_ASSISTANT_CHAT_TYPE = 'aiAssistant';\n\nexport function getChatType(chat: ImModelChat): ExtendedChatType\n{\n\tif (isNotes(chat.dialogId))\n\t{\n\t\treturn PSEUDO_CHAT_TYPE_FOR_NOTES;\n\t}\n\n\tif (isAiAssistant(chat.dialogId))\n\t{\n\t\treturn AI_ASSISTANT_CHAT_TYPE;\n\t}\n\n\tconst chatTypeExists = Object.values(ChatType).includes(chat.type);\n\n\tif (chatTypeExists)\n\t{\n\t\treturn chat.type;\n\t}\n\n\treturn CUSTOM_CHAT_TYPE;\n}\n","import { sendData } from 'ui.analytics';\n\nimport { Core } from 'im.v2.application.core';\nimport { ChatType, CollabEntityType } from 'im.v2.const';\n\nimport { AnalyticsEvent, AnalyticsTool, AnalyticsSection, AnalyticsCategory } from '../const';\nimport { getCollabId } from '../helpers/get-collab-id';\nimport { getUserType } from '../helpers/get-user-type';\n\nimport type { ImModelChat } from 'im.v2.model';\n\nconst EntityToEventMap = {\n\t[CollabEntityType.tasks]: AnalyticsEvent.openTasks,\n\t[CollabEntityType.calendar]: AnalyticsEvent.openCalendar,\n\t[CollabEntityType.files]: AnalyticsEvent.openFiles,\n};\n\nexport class CollabEntities\n{\n\tonClick(dialogId: string, type: $Values<typeof CollabEntityType>): void\n\t{\n\t\tconst event = EntityToEventMap[type];\n\t\tif (!event)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tconst chat: ImModelChat = Core.getStore().getters['chats/get'](dialogId, true);\n\n\t\tconst params = {\n\t\t\ttool: AnalyticsTool.im,\n\t\t\tcategory: AnalyticsCategory.collab,\n\t\t\tevent,\n\t\t\tc_section: AnalyticsSection.chatHeader,\n\t\t\tp2: getUserType(),\n\t\t\tp5: `chatId_${chat.chatId}`,\n\t\t};\n\n\t\tif (chat.type === ChatType.collab)\n\t\t{\n\t\t\tparams.p4 = getCollabId(chat.chatId);\n\t\t}\n\n\t\tsendData(params);\n\t}\n}\n","import { sendData } from 'ui.analytics';\n\nimport { Core } from 'im.v2.application.core';\nimport { ChatType } from 'im.v2.const';\n\nimport { AnalyticsEvent, AnalyticsTool, AnalyticsSection } from '../const';\nimport { getCategoryByChatType } from '../helpers/get-category-by-chat-type';\nimport { getChatType } from '../helpers/get-chat-type';\nimport { getCollabId } from '../helpers/get-collab-id';\nimport { getUserType } from '../helpers/get-user-type';\n\nimport type { ImModelChat } from 'im.v2.model';\n\nexport class ChatEntities\n{\n\tonCreateTaskFromSidebarClick(dialogId: string): void\n\t{\n\t\tthis.#onClick({\n\t\t\tdialogId,\n\t\t\tevent: AnalyticsEvent.clickCreateTask,\n\t\t\tsection: AnalyticsSection.chatSidebar,\n\t\t});\n\t}\n\n\tonCreateTaskFromTextareaClick(dialogId: string): void\n\t{\n\t\tthis.#onClick({\n\t\t\tdialogId,\n\t\t\tevent: AnalyticsEvent.clickCreateTask,\n\t\t\tsection: AnalyticsSection.chatTextarea,\n\t\t});\n\t}\n\n\tonCreateEventFromSidebarClick(dialogId: string): void\n\t{\n\t\tthis.#onClick({\n\t\t\tdialogId,\n\t\t\tevent: AnalyticsEvent.clickCreateEvent,\n\t\t\tsection: AnalyticsSection.chatSidebar,\n\t\t});\n\t}\n\n\tonCreateEventFromTextareaClick(dialogId: string): void\n\t{\n\t\tthis.#onClick({\n\t\t\tdialogId,\n\t\t\tevent: AnalyticsEvent.clickCreateEvent,\n\t\t\tsection: AnalyticsSection.chatTextarea,\n\t\t});\n\t}\n\n\tonCreateVoteFromTextareaClick(dialogId: string): void\n\t{\n\t\tthis.#onClick({\n\t\t\tdialogId,\n\t\t\tevent: AnalyticsEvent.clickCreatePoll,\n\t\t\tsection: AnalyticsSection.chatTextarea,\n\t\t});\n\t}\n\n\t#onClick({ dialogId, event, section }): void\n\t{\n\t\tconst chat: ImModelChat = Core.getStore().getters['chats/get'](dialogId, true);\n\n\t\tconst params = {\n\t\t\ttool: AnalyticsTool.im,\n\t\t\tcategory: getCategoryByChatType(chat.type),\n\t\t\tevent,\n\t\t\tc_section: section,\n\t\t\tp1: `chatType_${getChatType(chat)}`,\n\t\t\tp2: getUserType(),\n\t\t\tp5: `chatId_${chat.chatId}`,\n\t\t};\n\n\t\tif (chat.type === ChatType.collab)\n\t\t{\n\t\t\tparams.p4 = getCollabId(chat.chatId);\n\t\t}\n\n\t\tsendData(params);\n\t}\n}\n","import { sendData } from 'ui.analytics';\n\nimport { Core } from 'im.v2.application.core';\n\nimport {\n\tAnalyticsCategory,\n\tAnalyticsEvent,\n\tAnalyticsSection, AnalyticsSubSection,\n\tAnalyticsTool,\n} from '../const';\nimport { getCategoryByChatType } from '../helpers/get-category-by-chat-type';\nimport { getChatType } from '../helpers/get-chat-type';\n\nimport type { ImModelChat } from 'im.v2.model';\n\nexport class ChatDelete\n{\n\tonClick(dialogId: string): void\n\t{\n\t\tconst chat: ImModelChat = Core.getStore().getters['chats/get'](dialogId);\n\n\t\tsendData({\n\t\t\ttool: AnalyticsTool.im,\n\t\t\tcategory: getCategoryByChatType(chat.type),\n\t\t\tevent: AnalyticsEvent.clickDelete,\n\t\t\ttype: getChatType(chat),\n\t\t\tc_section: AnalyticsSection.sidebar,\n\t\t\tc_sub_section: AnalyticsSubSection.contextMenu,\n\t\t\tp1: `chatType_${chat.type}`,\n\t\t});\n\t}\n\n\tonCancel(dialogId: string): void\n\t{\n\t\tconst chat: ImModelChat = Core.getStore().getters['chats/get'](dialogId);\n\n\t\tsendData({\n\t\t\ttool: AnalyticsTool.im,\n\t\t\tcategory: getCategoryByChatType(chat.type),\n\t\t\tevent: AnalyticsEvent.cancelDelete,\n\t\t\ttype: getChatType(chat),\n\t\t\tc_section: AnalyticsSection.popup,\n\t\t\tp1: `chatType_${chat.type}`,\n\t\t});\n\t}\n\n\tonConfirm(dialogId: string): void\n\t{\n\t\tconst chat: ImModelChat = Core.getStore().getters['chats/get'](dialogId);\n\n\t\tsendData({\n\t\t\ttool: AnalyticsTool.im,\n\t\t\tcategory: getCategoryByChatType(chat.type),\n\t\t\tevent: AnalyticsEvent.delete,\n\t\t\ttype: getChatType(chat),\n\t\t\tc_section: AnalyticsSection.popup,\n\t\t\tp1: `chatType_${chat.type}`,\n\t\t\tp5: `chatId_${chat.chatId}`,\n\t\t});\n\t}\n\n\tonChatDeletedNotification(dialogId: string): void\n\t{\n\t\tconst chat: ImModelChat = Core.getStore().getters['chats/get'](dialogId);\n\t\tconst category = getCategoryByChatType(chat);\n\n\t\tsendData({\n\t\t\ttool: AnalyticsTool.im,\n\t\t\tcategory: AnalyticsCategory.chatPopup,\n\t\t\tevent: AnalyticsEvent.view,\n\t\t\ttype: `deleted_${category}`,\n\t\t\tc_section: AnalyticsSection.activeChat,\n\t\t\tp1: `chatType_${chat.type}`,\n\t\t});\n\t}\n}\n","import { sendData } from 'ui.analytics';\n\nimport { Core } from 'im.v2.application.core';\n\nimport {\n\tAnalyticsCategory,\n\tAnalyticsEvent,\n\tAnalyticsSection,\n\tAnalyticsTool,\n\tAnalyticsType,\n} from '../const';\n\nimport type { ImModelChat } from 'im.v2.model';\n\nexport class MessageDelete\n{\n\tonNotFoundNotification({ dialogId }: {dialogId: string}): void\n\t{\n\t\tconst chat: ImModelChat = Core.getStore().getters['chats/get'](dialogId);\n\t\tif (!chat)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tsendData({\n\t\t\ttool: AnalyticsTool.im,\n\t\t\tcategory: AnalyticsCategory.chatPopup,\n\t\t\tevent: AnalyticsEvent.view,\n\t\t\ttype: AnalyticsType.deletedMessage,\n\t\t\tp1: `chatType_${chat.type}`,\n\t\t});\n\t}\n\n\tonDeletedPostNotification({ dialogId }: {dialogId: string}): void\n\t{\n\t\tconst chat: ImModelChat = Core.getStore().getters['chats/get'](dialogId);\n\n\t\tsendData({\n\t\t\ttool: AnalyticsTool.im,\n\t\t\tcategory: AnalyticsCategory.chatPopup,\n\t\t\tevent: AnalyticsEvent.view,\n\t\t\ttype: AnalyticsType.deletedMessage,\n\t\t\tc_section: AnalyticsSection.comments,\n\t\t\tp1: `chatType_${chat.type}`,\n\t\t\tp4: `parentChatId_${chat.chatId}`,\n\t\t});\n\t}\n}\n","import { sendData } from 'ui.analytics';\n\nimport { Core } from 'im.v2.application.core';\nimport { SidebarDetailBlock } from 'im.v2.const';\n\nimport { AnalyticsCategory, AnalyticsEvent, AnalyticsSection, AnalyticsTool, AnalyticsType } from '../const';\nimport { getChatType } from '../helpers/get-chat-type';\n\nexport class HistoryLimit\n{\n\tonDialogLimitExceeded({ dialogId, noMessages }: { dialogId: string, noMessages: boolean }): void\n\t{\n\t\tconst sectionValue = noMessages ? AnalyticsSection.chatStart : AnalyticsSection.chatHistory;\n\t\tconst dialog = Core.getStore().getters['chats/get'](dialogId);\n\t\tconst chatType = getChatType(dialog);\n\n\t\tconst params = {\n\t\t\ttool: AnalyticsTool.im,\n\t\t\tcategory: AnalyticsCategory.limitBanner,\n\t\t\tevent: AnalyticsEvent.view,\n\t\t\ttype: AnalyticsType.limitOfficeChatingHistory,\n\t\t\tc_section: sectionValue,\n\t\t\tp1: `chatType_${chatType}`,\n\t\t};\n\n\t\tsendData(params);\n\t}\n\n\tonSidebarLimitExceeded({ dialogId, panel }: { dialogId: string, panel: $Values<typeof SidebarDetailBlock> }): void\n\t{\n\t\tconst dialog = Core.getStore().getters['chats/get'](dialogId);\n\t\tconst chatType = getChatType(dialog);\n\n\t\tconst params = {\n\t\t\ttool: AnalyticsTool.im,\n\t\t\tcategory: AnalyticsCategory.limitBanner,\n\t\t\tevent: AnalyticsEvent.view,\n\t\t\ttype: AnalyticsType.limitOfficeChatingHistory,\n\t\t\tc_section: AnalyticsSection.sidebar,\n\t\t\tc_element: this.#getSidebarPanelNameForAnalytics(panel),\n\t\t\tp1: `chatType_${chatType}`,\n\t\t};\n\n\t\tsendData(params);\n\t}\n\n\tonDialogBannerClick({ dialogId }: {dialogId: string}): void\n\t{\n\t\tconst section = AnalyticsSection.chatWindow;\n\t\tthis.#onBannerClick({ dialogId, section });\n\t}\n\n\tonSidebarBannerClick({ dialogId, panel }: { dialogId: string, panel: $Values<typeof SidebarDetailBlock> }): void\n\t{\n\t\tconst section = AnalyticsSection.sidebar;\n\t\tconst element = this.#getSidebarPanelNameForAnalytics(panel);\n\t\tthis.#onBannerClick({ dialogId, section, element });\n\t}\n\n\tonGoToContextLimitExceeded({ dialogId }: { dialogId: string }): void\n\t{\n\t\tconst section = AnalyticsSection.messageLink;\n\t\tthis.#onBannerClick({ dialogId, section });\n\t}\n\n\t#onBannerClick({ dialogId, section, element }: { dialogId: string, section: string, element?: string }): void\n\t{\n\t\tconst dialog = Core.getStore().getters['chats/get'](dialogId);\n\t\tconst chatType = getChatType(dialog);\n\n\t\tconst params = {\n\t\t\ttool: AnalyticsTool.im,\n\t\t\tcategory: AnalyticsCategory.limitBanner,\n\t\t\tevent: AnalyticsEvent.click,\n\t\t\ttype: AnalyticsType.limitOfficeChatingHistory,\n\t\t\tc_section: section,\n\t\t\tp1: `chatType_${chatType}`,\n\t\t};\n\n\t\tif (element)\n\t\t{\n\t\t\tparams.c_element = element;\n\t\t}\n\n\t\tsendData(params);\n\t}\n\n\t#getSidebarPanelNameForAnalytics(panel: $Values<typeof SidebarDetailBlock>): string\n\t{\n\t\tswitch (panel)\n\t\t{\n\t\t\tcase SidebarDetailBlock.main:\n\t\t\t\treturn 'main';\n\t\t\tcase SidebarDetailBlock.file:\n\t\t\tcase SidebarDetailBlock.fileUnsorted:\n\t\t\tcase SidebarDetailBlock.audio:\n\t\t\tcase SidebarDetailBlock.brief:\n\t\t\tcase SidebarDetailBlock.document:\n\t\t\tcase SidebarDetailBlock.media:\n\t\t\t\treturn 'docs';\n\t\t\tcase SidebarDetailBlock.messageSearch:\n\t\t\t\treturn 'message_search';\n\t\t\tcase SidebarDetailBlock.favorite:\n\t\t\t\treturn 'favs';\n\t\t\tcase SidebarDetailBlock.link:\n\t\t\t\treturn 'links';\n\t\t\tcase SidebarDetailBlock.task:\n\t\t\t\treturn 'task';\n\t\t\tcase SidebarDetailBlock.meeting:\n\t\t\t\treturn 'event';\n\t\t\tdefault:\n\t\t\t\treturn 'unknown';\n\t\t}\n\t}\n}\n","import { sendData } from 'ui.analytics';\n\nimport { Core } from 'im.v2.application.core';\nimport { ChatType } from 'im.v2.const';\n\nimport { AnalyticsEvent, AnalyticsTool, AnalyticsSection } from '../const';\nimport { getChatType } from '../helpers/get-chat-type';\nimport { getCollabId } from '../helpers/get-collab-id';\nimport { getUserType } from '../helpers/get-user-type';\nimport { getCategoryByChatType } from '../helpers/get-category-by-chat-type';\n\nimport type { ImModelChat } from 'im.v2.model';\n\ntype SelectUserParams = {\n\tdialogId: string,\n\tposition: number,\n};\n\ntype SelectUserWithSourceParams = SelectUserParams & {\n\tsource: $Values<typeof SelectUserSource>,\n};\n\nconst SelectUserSource = Object.freeze({\n\trecent: 'recent',\n\tsearchResult: 'search_result',\n});\n\nexport class UserAdd\n{\n\t#hasSearchedBefore: boolean = false;\n\n\tonChatSidebarClick(dialogId: string): void\n\t{\n\t\tthis.#onAddUserClick(dialogId, AnalyticsSection.chatSidebar);\n\t}\n\n\tonChatHeaderClick(dialogId: string): void\n\t{\n\t\tthis.#onAddUserClick(dialogId, AnalyticsSection.chatHeader);\n\t}\n\n\tonStartSearch({ dialogId }: { dialogId: string }): void\n\t{\n\t\tif (this.#hasSearchedBefore)\n\t\t{\n\t\t\treturn;\n\t\t}\n\t\tthis.#hasSearchedBefore = true;\n\n\t\tconst chat: ImModelChat = Core.getStore().getters['chats/get'](dialogId);\n\n\t\tsendData({\n\t\t\ttool: AnalyticsTool.im,\n\t\t\tcategory: getCategoryByChatType(chat.type),\n\t\t\tevent: AnalyticsEvent.startSearch,\n\t\t\tc_section: AnalyticsSection.userAdd,\n\t\t\tp1: `chatType_${chat.type}`,\n\t\t\tp2: getUserType(),\n\t\t});\n\t}\n\n\tonClosePopup(): void\n\t{\n\t\tthis.#hasSearchedBefore = false;\n\t}\n\n\tonSelectUserFromRecent({ dialogId, position }: SelectUserParams): void\n\t{\n\t\tthis.#onSelectUser({\n\t\t\tdialogId,\n\t\t\tposition,\n\t\t\tsource: SelectUserSource.recent,\n\t\t});\n\t}\n\n\tonSelectUserFromSearchResult({ dialogId, position }: SelectUserParams): void\n\t{\n\t\tthis.#onSelectUser({\n\t\t\tdialogId,\n\t\t\tposition,\n\t\t\tsource: SelectUserSource.searchResult,\n\t\t});\n\t}\n\n\t#onSelectUser({ dialogId, position, source }: SelectUserWithSourceParams): void\n\t{\n\t\tconst chat: ImModelChat = Core.getStore().getters['chats/get'](dialogId, true);\n\n\t\tsendData({\n\t\t\ttool: AnalyticsTool.im,\n\t\t\tcategory: getCategoryByChatType(chat.type),\n\t\t\tevent: AnalyticsEvent.selectUser,\n\t\t\ttype: source,\n\t\t\tc_section: AnalyticsSection.userAdd,\n\t\t\tp1: `chatType_${chat.type}`,\n\t\t\tp2: getUserType(),\n\t\t\tp3: `position_${position}`,\n\t\t});\n\t}\n\n\t#onAddUserClick(dialogId: string, element: AnalyticsSection.chatSidebar | AnalyticsSection.chatHeader): void\n\t{\n\t\tconst chat: ImModelChat = Core.getStore().getters['chats/get'](dialogId, true);\n\n\t\tconst params = {\n\t\t\ttool: AnalyticsTool.im,\n\t\t\tcategory: getCategoryByChatType(chat.type),\n\t\t\tevent: AnalyticsEvent.clickAddUser,\n\t\t\tc_section: element,\n\t\t\tp1: `chatType_${getChatType(chat)}`,\n\t\t\tp2: getUserType(),\n\t\t\tp5: `chatId_${chat.chatId}`,\n\t\t};\n\n\t\tif (chat.type === ChatType.collab)\n\t\t{\n\t\t\tparams.p4 = getCollabId(chat.chatId);\n\t\t}\n\n\t\tsendData(params);\n\t}\n}\n","import { sendData } from 'ui.analytics';\n\nimport { Core } from 'im.v2.application.core';\nimport { ChatType } from 'im.v2.const';\n\nimport { AnalyticsEvent, AnalyticsTool, AnalyticsSubSection, AnalyticsSection } from '../const';\nimport { getCategoryByChatType } from '../helpers/get-category-by-chat-type';\nimport { getCollabId } from '../helpers/get-collab-id';\nimport { getUserType } from '../helpers/get-user-type';\n\nimport type { ImModelChat } from 'im.v2.model';\n\nexport class ChatEdit\n{\n\tonOpenForm(dialogId: string): void\n\t{\n\t\tconst chat: ImModelChat = Core.getStore().getters['chats/get'](dialogId);\n\n\t\tconst params = {\n\t\t\ttool: AnalyticsTool.im,\n\t\t\tcategory: getCategoryByChatType(chat.type),\n\t\t\tevent: AnalyticsEvent.clickEdit,\n\t\t\tc_section: AnalyticsSection.sidebar,\n\t\t\tc_sub_section: AnalyticsSubSection.contextMenu,\n\t\t\tp1: `chatType_${chat.type}`,\n\t\t\tp5: `chatId_${chat.chatId}`,\n\t\t};\n\n\t\tif (chat.type === ChatType.collab)\n\t\t{\n\t\t\tparams.p4 = getCollabId(chat.chatId);\n\t\t}\n\n\t\tsendData(params);\n\t}\n\n\tonSubmitForm(dialogId: string): void\n\t{\n\t\tconst chat: ImModelChat = Core.getStore().getters['chats/get'](dialogId);\n\n\t\tconst params = {\n\t\t\ttool: AnalyticsTool.im,\n\t\t\tcategory: getCategoryByChatType(chat.type),\n\t\t\tc_section: AnalyticsSection.editor,\n\t\t\tevent: AnalyticsEvent.submitEdit,\n\t\t\tp1: `chatType_${chat.type}`,\n\t\t\tp2: getUserType(),\n\t\t\tp5: `chatId_${chat.chatId}`,\n\t\t};\n\n\t\tif (chat.type === ChatType.collab)\n\t\t{\n\t\t\tparams.p4 = getCollabId(chat.chatId);\n\t\t}\n\n\t\tsendData(params);\n\t}\n}\n","import { sendData } from 'ui.analytics';\n\nimport { Core } from 'im.v2.application.core';\nimport { ChatType } from 'im.v2.const';\n\nimport { AnalyticsCategory, AnalyticsEvent, AnalyticsTool, CreateChatContext } from '../const';\nimport { getCategoryByChatType } from '../helpers/get-category-by-chat-type';\nimport { getUserType } from '../helpers/get-user-type';\n\nexport class ChatCreate\n{\n\tonStartClick(type: $Values<typeof ChatType>): void\n\t{\n\t\tconst currentLayout = Core.getStore().getters['application/getLayout'].name;\n\n\t\tsendData({\n\t\t\ttool: AnalyticsTool.im,\n\t\t\tcategory: getCategoryByChatType(type),\n\t\t\tevent: AnalyticsEvent.clickCreateNew,\n\t\t\ttype,\n\t\t\tc_section: `${currentLayout}_tab`,\n\t\t\tp2: getUserType(),\n\t\t});\n\t}\n\n\tonCollabEmptyStateCreateClick(): void\n\t{\n\t\tsendData({\n\t\t\ttool: AnalyticsTool.im,\n\t\t\tcategory: getCategoryByChatType(ChatType.collab),\n\t\t\tevent: AnalyticsEvent.clickCreateNew,\n\t\t\ttype: ChatType.collab,\n\t\t\tc_section: CreateChatContext.collabEmptyState,\n\t\t\tp2: getUserType(),\n\t\t});\n\t}\n\n\tonMenuCreateClick(): void\n\t{\n\t\tconst currentLayout = Core.getStore().getters['application/getLayout'].name;\n\n\t\tsendData({\n\t\t\ttool: AnalyticsTool.im,\n\t\t\tcategory: AnalyticsCategory.messenger,\n\t\t\tevent: AnalyticsEvent.openCreateMenu,\n\t\t\tc_section: `${currentLayout}_tab`,\n\t\t});\n\t}\n}\n","import { sendData } from 'ui.analytics';\n\nimport { AnalyticsCategory, AnalyticsEvent, AnalyticsTool, AnalyticsSection } from '../const';\n\nexport class Supervisor\n{\n\tonOpenPriceTable(featureId: string): void\n\t{\n\t\tsendData({\n\t\t\ttool: AnalyticsTool.infoHelper,\n\t\t\tcategory: AnalyticsCategory.limit,\n\t\t\tevent: AnalyticsEvent.openPrices,\n\t\t\ttype: featureId,\n\t\t\tc_section: AnalyticsSection.chat,\n\t\t});\n\t}\n\n\tonOpenToolsSettings(toolId: string): void\n\t{\n\t\tsendData({\n\t\t\ttool: AnalyticsTool.infoHelper,\n\t\t\tcategory: AnalyticsCategory.toolOff,\n\t\t\tevent: AnalyticsEvent.openSettings,\n\t\t\ttype: toolId,\n\t\t\tc_section: AnalyticsSection.chat,\n\t\t});\n\t}\n}\n","import { sendData } from 'ui.analytics';\n\nimport { AnalyticsCategory, AnalyticsEvent, AnalyticsSection, AnalyticsTool } from '../const';\n\nexport class CheckIn\n{\n\tonOpenCheckInPopup(): void\n\t{\n\t\tsendData({\n\t\t\tevent: AnalyticsEvent.popupOpen,\n\t\t\ttool: AnalyticsTool.checkin,\n\t\t\tcategory: AnalyticsCategory.shift,\n\t\t\tc_section: AnalyticsSection.chat,\n\t\t});\n\t}\n}\n","import { Text } from 'main.core';\nimport { sendData } from 'ui.analytics';\n\nimport { Core } from 'im.v2.application.core';\nimport { ChatType } from 'im.v2.const';\n\nimport {\n\tAnalyticsCategory,\n\tAnalyticsEvent,\n\tAnalyticsSection,\n\tAnalyticsStatus,\n\tAnalyticsTool,\n\tCopilotChatType,\n\tAnalyticsType,\n} from '../const';\nimport { getChatType } from '../helpers/get-chat-type';\n\nconst CopilotEntryPoint = Object.freeze({\n\tcreate_menu: 'create_menu',\n\trole_picker: 'role_picker',\n});\n\nexport class Copilot\n{\n\tonCreateChat(chatId: number): void\n\t{\n\t\tsendData({\n\t\t\tevent: AnalyticsEvent.createNewChat,\n\t\t\ttool: AnalyticsTool.ai,\n\t\t\tcategory: AnalyticsCategory.chatOperations,\n\t\t\tc_section: AnalyticsSection.copilotTab,\n\t\t\ttype: AnalyticsType.ai,\n\t\t\tp3: CopilotChatType.private,\n\t\t\tp5: `chatId_${chatId}`,\n\t\t});\n\t}\n\n\tonCreateDefaultChatInRecent(): void\n\t{\n\t\tthis.#sendDataForCopilotCreation({ c_sub_section: CopilotEntryPoint.create_menu });\n\t}\n\n\tonSelectRoleInRecent(): void\n\t{\n\t\tthis.#sendDataForCopilotCreation({ c_sub_section: CopilotEntryPoint.role_picker });\n\t}\n\n\tonOpenChat(dialogId: string): void\n\t{\n\t\tconst dialog = Core.getStore().getters['chats/get'](dialogId);\n\t\tconst copilotChatType = dialog.userCounter <= 2 ? CopilotChatType.private : CopilotChatType.multiuser;\n\n\t\tsendData({\n\t\t\tevent: AnalyticsEvent.openChat,\n\t\t\ttool: AnalyticsTool.ai,\n\t\t\tcategory: AnalyticsCategory.chatOperations,\n\t\t\tc_section: AnalyticsSection.copilotTab,\n\t\t\ttype: AnalyticsType.ai,\n\t\t\tp3: copilotChatType,\n\t\t\tp5: `chatId_${dialog.chatId}`,\n\t\t});\n\t}\n\n\tonOpenTab({ isAvailable = true } = {}): void\n\t{\n\t\tconst payload = {\n\t\t\tevent: AnalyticsEvent.openTab,\n\t\t\ttool: AnalyticsTool.ai,\n\t\t\tcategory: AnalyticsCategory.chatOperations,\n\t\t\tc_section: AnalyticsSection.copilotTab,\n\t\t\tstatus: isAvailable ? AnalyticsStatus.success : AnalyticsStatus.errorTurnedOff,\n\t\t};\n\n\t\tsendData(payload);\n\t}\n\n\tonUseAudioInput(dialogId: string): void\n\t{\n\t\tconst dialog = Core.getStore().getters['chats/get'](dialogId);\n\t\tconst isCopilot = dialog.type === ChatType.copilot;\n\t\tif (!isCopilot)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tconst currentLayout = Core.getStore().getters['application/getLayout'].name;\n\t\tconst role = Core.getStore().getters['copilot/chats/getRole'](dialogId);\n\t\tconst aiModel = Core.getStore().getters['copilot/chats/getAIModel'](dialogId);\n\t\tconst aiModelName = aiModel.name ?? aiModel;\n\t\tconst copilotChatType = dialog.userCounter <= 2 ? CopilotChatType.private : CopilotChatType.multiuser;\n\n\t\tsendData({\n\t\t\tevent: AnalyticsEvent.audioUse,\n\t\t\ttool: AnalyticsTool.ai,\n\t\t\tcategory: AnalyticsCategory.chatOperations,\n\t\t\tc_section: `${currentLayout}_tab`,\n\t\t\tp2: `provider_${aiModelName}`,\n\t\t\tp3: copilotChatType,\n\t\t\tp4: `role_${Text.toCamelCase(role.code)}`,\n\t\t\tp5: `chatId_${dialog.chatId}`,\n\t\t});\n\t}\n\n\tonToggleReasoning(dialogId: string): void\n\t{\n\t\tconst isReasoningEnabled = Core.getStore().getters['copilot/chats/isReasoningEnabled'](dialogId);\n\t\tconst event = isReasoningEnabled ? AnalyticsEvent.modeOn : AnalyticsEvent.modeOff;\n\n\t\tconst chat = Core.getStore().getters['chats/get'](dialogId);\n\t\tconst currentLayout = Core.getStore().getters['application/getLayout'].name;\n\t\tconst role = Core.getStore().getters['copilot/chats/getRole'](dialogId);\n\t\tconst aiModel = Core.getStore().getters['copilot/chats/getAIModel'](dialogId);\n\t\tconst aiModelName = aiModel.name ?? aiModel;\n\n\t\tsendData({\n\t\t\tevent,\n\t\t\ttool: AnalyticsTool.im,\n\t\t\tcategory: AnalyticsCategory.copilot,\n\t\t\ttype: AnalyticsType.think,\n\t\t\tc_section: `${currentLayout}_tab`,\n\t\t\tp1: getChatType(chat),\n\t\t\tp2: `provider_${aiModelName}`,\n\t\t\tp4: `role_${Text.toCamelCase(role.code)}`,\n\t\t\tp5: `chatId_${chat.chatId}`,\n\t\t});\n\t}\n\n\t#sendDataForCopilotCreation(params: { c_sub_section: string }): void\n\t{\n\t\tconst currentLayout = Core.getStore().getters['application/getLayout'].name;\n\n\t\tsendData({\n\t\t\tevent: AnalyticsEvent.clickCreateNew,\n\t\t\ttool: AnalyticsTool.im,\n\t\t\tcategory: AnalyticsCategory.copilot,\n\t\t\tc_section: `${currentLayout}_tab`,\n\t\t\ttype: AnalyticsType.copilot,\n\t\t\t...params,\n\t\t});\n\t}\n}\n","import { sendData } from 'ui.analytics';\n\nimport { ChatType } from 'im.v2.const';\nimport { Core } from 'im.v2.application.core';\n\nimport { AnalyticsEvent, AnalyticsSection, AnalyticsTool } from '../const';\nimport { getCategoryByChatType } from '../helpers/get-category-by-chat-type';\nimport { getChatType } from '../helpers/get-chat-type';\nimport { getCollabId } from '../helpers/get-collab-id';\nimport { getUserType } from '../helpers/get-user-type';\n\nimport type { ImModelChat } from 'im.v2.model';\n\nexport class AttachMenu\n{\n\tonOpenUploadMenu(dialogId: string): void\n\t{\n\t\tconst chat: ImModelChat = Core.getStore().getters['chats/get'](dialogId);\n\t\tconst chatType = getChatType(chat);\n\n\t\tconst params = {\n\t\t\ttool: AnalyticsTool.im,\n\t\t\tcategory: getCategoryByChatType(chat.type),\n\t\t\tevent: AnalyticsEvent.clickAttach,\n\t\t\tc_section: AnalyticsSection.chatTextarea,\n\t\t\tp1: `chatType_${chatType}`,\n\t\t\tp2: getUserType(),\n\t\t\tp5: `chatId_${chat.chatId}`,\n\t\t};\n\n\t\tif (chat.type === ChatType.collab)\n\t\t{\n\t\t\tparams.p4 = getCollabId(chat.chatId);\n\t\t}\n\n\t\tsendData(params);\n\t}\n}\n","import { Core } from 'im.v2.application.core';\nimport { ChatType } from 'im.v2.const';\nimport { getCategoryByChatType } from '../helpers/get-category-by-chat-type';\nimport { getUserType } from '../helpers/get-user-type';\nimport { getCollabId } from '../analytics';\nimport { AnalyticsTool, AnalyticsEvent } from '../const';\n\nimport type { AnalyticsOptions } from 'ui.analytics';\nimport type { ImModelChat } from 'im.v2.model';\n\nexport class Vote\n{\n\tgetSerializedParams(dialogId: string): string\n\t{\n\t\tconst options = this.getAnalyticsOptions(dialogId);\n\t\tconst queryParams = Object.entries(options).map(([optionName, optionValue]) => {\n\t\t\treturn `st[${optionName}]=${encodeURIComponent(optionValue)}`;\n\t\t});\n\n\t\treturn queryParams.join('&');\n\t}\n\n\tgetAnalyticsOptions(dialogId: string): Partial<AnalyticsOptions>\n\t{\n\t\tconst chat: ImModelChat = Core.getStore().getters['chats/get'](dialogId, true);\n\t\tconst chatType = chat.type;\n\t\tconst options = {\n\t\t\ttool: AnalyticsTool.im,\n\t\t\tevent: AnalyticsEvent.clickCreatePoll,\n\t\t\tcategory: getCategoryByChatType(chatType),\n\t\t\tp1: `chatType_${chatType}`,\n\t\t\tp2: getUserType(),\n\t\t\tp5: `chatId_${chat.chatId}`,\n\t\t};\n\n\t\tif (chatType === ChatType.comment)\n\t\t{\n\t\t\tconst parentChat = Core.getStore().getters['chats/getByChatId'](chat.parentChatId);\n\t\t\toptions.p1 = `chatType_${parentChat.type}`;\n\t\t\toptions.p4 = `parentChatId_${chat.parentChatId}`;\n\t\t}\n\n\t\tif (chatType === ChatType.collab)\n\t\t{\n\t\t\toptions.p4 = getCollabId(chat.chatId);\n\t\t}\n\n\t\treturn options;\n\t}\n}\n","import { sendData } from 'ui.analytics';\n\nimport { Core } from 'im.v2.application.core';\n\nimport { AnalyticsEvent, AnalyticsTool, MessagePinsTypes } from '../const';\nimport { getCategoryByChatType } from '../helpers/get-category-by-chat-type';\nimport { getChatType } from '../helpers/get-chat-type';\n\nimport type { ImModelChat } from 'im.v2.model';\nimport type { JsonObject } from 'main.core';\n\nexport class MessagePins\n{\n\tonUnpin({ dialogId, eventParams = {} }: { dialogId: string, eventParams: JsonObject })\n\t{\n\t\tthis.onSendData({\n\t\t\tdialogId,\n\t\t\teventParams: {\n\t\t\t\tevent: AnalyticsEvent.unpinMessage,\n\t\t\t\t...eventParams,\n\t\t\t},\n\t\t});\n\t}\n\n\tonSendData({ dialogId, eventParams }: { dialogId: number, eventParams: JsonObject }): void\n\t{\n\t\tconst chat: ImModelChat = Core.getStore().getters['chats/get'](dialogId, true);\n\n\t\tconst params = {\n\t\t\ttool: AnalyticsTool.im,\n\t\t\tcategory: getCategoryByChatType(chat.type),\n\t\t\tp1: `chatType_${getChatType(chat)}`,\n\t\t\t...this.#getEventSpecificParams(eventParams.event, chat.chatId),\n\t\t\t...eventParams,\n\t\t};\n\n\t\tsendData(params);\n\t}\n\n\t#getEventSpecificParams(event: string, chatId: number): Record<string, string>\n\t{\n\t\tconst pinnedCount: number = Core.getStore().getters['messages/pin/getPinned'](chatId).length;\n\n\t\tif (event === AnalyticsEvent.pinMessage)\n\t\t{\n\t\t\treturn {\n\t\t\t\tp3: `pinnedCount_${pinnedCount}`,\n\t\t\t\ttype: pinnedCount > 1 ? MessagePinsTypes.multiple : MessagePinsTypes.single,\n\t\t\t};\n\t\t}\n\n\t\tif (event === AnalyticsEvent.unpinMessage)\n\t\t{\n\t\t\treturn {\n\t\t\t\ttype: pinnedCount > 0 ? MessagePinsTypes.selected : MessagePinsTypes.single,\n\t\t\t};\n\t\t}\n\n\t\treturn {};\n\t}\n}\n","import { sendData } from 'ui.analytics';\n\nimport { Core } from 'im.v2.application.core';\nimport { getUserType } from 'im.v2.lib.analytics';\n\nimport { AnalyticsEvent, AnalyticsSection, AnalyticsSubSection, AnalyticsTool } from '../const';\nimport { getCategoryByChatType } from '../helpers/get-category-by-chat-type';\nimport { getChatType } from '../helpers/get-chat-type';\nimport { isNotes } from '../helpers/is-notes';\n\nimport type { ImModelChat } from 'im.v2.model';\n\nconst SelectRecipientSource = Object.freeze({\n\trecent: 'recent',\n\tsearchResult: 'search_result',\n\tnotes: 'notes',\n});\n\ntype RecipientParams = {\n\tdialogId: string,\n\tposition: number,\n}\n\ntype RecipientParamsWithSource = RecipientParams & {\n\tsource: $Values<typeof SelectRecipientSource>\n};\n\nexport class MessageForward\n{\n\t#hasSearchedBefore: boolean = false;\n\n\tonClickForward(dialogId: string): void\n\t{\n\t\tconst chat: ImModelChat = Core.getStore().getters['chats/get'](dialogId);\n\n\t\tsendData({\n\t\t\ttool: AnalyticsTool.im,\n\t\t\tcategory: getCategoryByChatType(chat.type),\n\t\t\tevent: AnalyticsEvent.clickShare,\n\t\t\tc_section: AnalyticsSection.chatWindow,\n\t\t\tc_sub_section: AnalyticsSubSection.contextMenu,\n\t\t\tp1: `chatType_${getChatType(chat)}`,\n\t\t\tp2: getUserType(),\n\t\t});\n\t}\n\n\tonStartSearch({ dialogId }: { dialogId: string }): void\n\t{\n\t\tif (this.#hasSearchedBefore)\n\t\t{\n\t\t\treturn;\n\t\t}\n\t\tthis.#hasSearchedBefore = true;\n\n\t\tconst chat: ImModelChat = Core.getStore().getters['chats/get'](dialogId);\n\n\t\tsendData({\n\t\t\ttool: AnalyticsTool.im,\n\t\t\tcategory: getCategoryByChatType(chat.type),\n\t\t\tevent: AnalyticsEvent.startSearch,\n\t\t\tc_section: AnalyticsSection.forward,\n\t\t\tp1: `chatType_${getChatType(chat)}`,\n\t\t\tp2: getUserType(),\n\t\t});\n\t}\n\n\tonSelectRecipientFromRecent({ dialogId, position }: RecipientParams): void\n\t{\n\t\tthis.#onSelectRecipient({\n\t\t\tdialogId,\n\t\t\tposition,\n\t\t\tsource: SelectRecipientSource.recent,\n\t\t});\n\t}\n\n\tonSelectRecipientFromSearchResult({ dialogId, position }: RecipientParams): void\n\t{\n\t\tthis.#onSelectRecipient({\n\t\t\tdialogId,\n\t\t\tposition,\n\t\t\tsource: SelectRecipientSource.searchResult,\n\t\t});\n\t}\n\n\tonClosePopup(): void\n\t{\n\t\tthis.#hasSearchedBefore = false;\n\t}\n\n\t#onSelectRecipient({ dialogId, position, source }: RecipientParamsWithSource): void\n\t{\n\t\tconst chat: ImModelChat = Core.getStore().getters['chats/get'](dialogId);\n\t\tconst type = isNotes(dialogId) ? SelectRecipientSource.notes : source;\n\n\t\tsendData({\n\t\t\ttool: AnalyticsTool.im,\n\t\t\tcategory: getCategoryByChatType(chat.type),\n\t\t\tevent: AnalyticsEvent.selectRecipient,\n\t\t\ttype,\n\t\t\tc_section: AnalyticsSection.forward,\n\t\t\tp1: `chatType_${getChatType(chat)}`,\n\t\t\tp2: getUserType(),\n\t\t\tp3: `position_${position}`,\n\t\t});\n\t}\n}\n","import { Text } from 'main.core';\nimport { sendData } from 'ui.analytics';\n\nimport { Core } from 'im.v2.application.core';\nimport { ChatType, FileType } from 'im.v2.const';\nimport { getCollabId, getUserType } from 'im.v2.lib.analytics';\nimport { MessageComponentManager } from 'im.v2.lib.message-component';\n\nimport {\n\tAnalyticsCategory,\n\tAnalyticsElement,\n\tAnalyticsEvent,\n\tAnalyticsSection,\n\tAnalyticsSubSection,\n\tAnalyticsTool,\n} from '../const';\nimport { getCategoryByChatType } from '../helpers/get-category-by-chat-type';\nimport { getChatType } from '../helpers/get-chat-type';\nimport { MessageForward } from './message-forward';\nimport { MessagePins } from './message-pins';\n\nimport type { JsonObject } from 'main.core';\nimport type { ImModelChat, ImModelFile, ImModelMessage } from 'im.v2.model';\n\nconst AnalyticsAmountFilesType = {\n\tsingle: 'files_single',\n\tmany: 'files_all',\n};\n\nconst AnalyticsFileType = {\n\t...FileType,\n\tmedia: 'media',\n\tany: 'any',\n};\n\nexport class MessageContextMenu\n{\n\tmessageForward: MessageForward = new MessageForward();\n\tmessagePins: MessagePins = new MessagePins();\n\n\tonSendFeedback(dialogId: string): void\n\t{\n\t\tconst currentLayout = Core.getStore().getters['application/getLayout'].name;\n\t\tconst role = Core.getStore().getters['copilot/chats/getRole'](dialogId);\n\t\tconst aiModel = Core.getStore().getters['copilot/chats/getAIModel'](dialogId);\n\n\t\tconst aiModelName = aiModel.name ?? aiModel;\n\n\t\tsendData({\n\t\t\tcategory: AnalyticsCategory.copilot,\n\t\t\tevent: AnalyticsEvent.addFeedback,\n\t\t\tc_section: `${currentLayout}_tab`,\n\t\t\tp2: `provider_${aiModelName}`,\n\t\t\tp4: `role_${Text.toCamelCase(role.code)}`,\n\t\t\t...this.#getBaseParams(dialogId),\n\t\t});\n\t}\n\n\tonDelete({ messageId, dialogId }: {messageId: string | number, dialogId: string}): void\n\t{\n\t\tconst message: ImModelMessage = Core.getStore().getters['messages/getById'](messageId);\n\t\tconst type = new MessageComponentManager(message).getName();\n\n\t\tsendData({\n\t\t\tcategory: AnalyticsCategory.message,\n\t\t\tevent: AnalyticsEvent.clickDelete,\n\t\t\ttype,\n\t\t\tc_section: AnalyticsSection.chatWindow,\n\t\t\t...this.#getBaseParams(dialogId),\n\t\t});\n\t}\n\n\tonCancelDelete({ messageId, dialogId }: {messageId: string | number, dialogId: string}): void\n\t{\n\t\tconst message: ImModelMessage = Core.getStore().getters['messages/getById'](messageId);\n\t\tconst type = new MessageComponentManager(message).getName();\n\n\t\tsendData({\n\t\t\tcategory: AnalyticsCategory.message,\n\t\t\tevent: AnalyticsEvent.cancelDelete,\n\t\t\ttype,\n\t\t\tc_section: AnalyticsSection.popup,\n\t\t\t...this.#getBaseParams(dialogId),\n\t\t});\n\t}\n\n\tonFileDownload({ messageId, dialogId }: {messageId: string | number, dialogId: string}): void\n\t{\n\t\tconst chat: ImModelChat = Core.getStore().getters['chats/get'](dialogId);\n\n\t\tconst params = {\n\t\t\tcategory: getCategoryByChatType(chat.type),\n\t\t\tevent: AnalyticsEvent.downloadFile,\n\t\t\ttype: this.#getAnalyticsFileType(messageId),\n\t\t\tc_section: AnalyticsSection.chatWindow,\n\t\t\tp2: getUserType(),\n\t\t\tp3: this.#getFilesAmountParam(messageId),\n\t\t\tp5: `chatId_${chat.chatId}`,\n\t\t\t...this.#getBaseParams(dialogId),\n\t\t};\n\n\t\tif (chat.type === ChatType.collab)\n\t\t{\n\t\t\tparams.p4 = getCollabId(chat.chatId);\n\t\t}\n\n\t\tsendData(params);\n\t}\n\n\tonSaveOnDisk({ messageId, dialogId }: {messageId: string | number, dialogId: string}): void\n\t{\n\t\tconst chat: ImModelChat = Core.getStore().getters['chats/get'](dialogId);\n\n\t\tconst params = {\n\t\t\tcategory: getCategoryByChatType(chat.type),\n\t\t\tevent: AnalyticsEvent.saveToDisk,\n\t\t\ttype: this.#getAnalyticsFileType(messageId),\n\t\t\tc_section: AnalyticsSection.chatWindow,\n\t\t\tc_element: AnalyticsElement.more,\n\t\t\tp2: getUserType(),\n\t\t\tp3: this.#getFilesAmountParam(messageId),\n\t\t\tp5: `chatId_${chat.chatId}`,\n\t\t\t...this.#getBaseParams(dialogId),\n\t\t};\n\n\t\tif (chat.type === ChatType.collab)\n\t\t{\n\t\t\tparams.p4 = getCollabId(chat.chatId);\n\t\t}\n\n\t\tsendData(params);\n\t}\n\n\tonCopyLink(dialogId: string): void\n\t{\n\t\tconst chat: ImModelChat = Core.getStore().getters['chats/get'](dialogId, true);\n\n\t\tsendData({\n\t\t\tcategory: getCategoryByChatType(chat.type),\n\t\t\tevent: AnalyticsEvent.copyLink,\n\t\t\tc_section: AnalyticsSection.chatWindow,\n\t\t\tc_element: AnalyticsElement.more,\n\t\t\t...this.#getBaseParams(dialogId),\n\t\t});\n\t}\n\n\tonCopyFile({ dialogId, fileId }: {dialogId: string, fileId: string | number}): void\n\t{\n\t\tconst chat: ImModelChat = Core.getStore().getters['chats/get'](dialogId, true);\n\t\tconst file: ImModelFile = Core.getStore().getters['files/get'](fileId);\n\n\t\tsendData({\n\t\t\tcategory: getCategoryByChatType(chat.type),\n\t\t\tevent: AnalyticsEvent.copyFile,\n\t\t\ttype: file.type,\n\t\t\tc_section: AnalyticsSection.chatWindow,\n\t\t\tc_element: AnalyticsElement.more,\n\t\t\t...this.#getBaseParams(dialogId),\n\t\t});\n\t}\n\n\tonEdit(dialogId: string): void\n\t{\n\t\tconst chat: ImModelChat = Core.getStore().getters['chats/get'](dialogId, true);\n\n\t\tsendData({\n\t\t\tcategory: getCategoryByChatType(chat.type),\n\t\t\tevent: AnalyticsEvent.clickEdit,\n\t\t\tc_section: AnalyticsSection.chatWindow,\n\t\t\t...this.#getBaseParams(dialogId),\n\t\t});\n\t}\n\n\tonCreateTask(dialogId: string): void\n\t{\n\t\tconst chat: ImModelChat = Core.getStore().getters['chats/get'](dialogId, true);\n\n\t\tsendData({\n\t\t\tcategory: getCategoryByChatType(chat.type),\n\t\t\tevent: AnalyticsEvent.clickCreateTask,\n\t\t\tc_section: AnalyticsSection.chatWindow,\n\t\t\tc_element: AnalyticsElement.more,\n\t\t\t...this.#getBaseParams(dialogId),\n\t\t});\n\t}\n\n\tonSelect(dialogId: string): void\n\t{\n\t\tconst chat: ImModelChat = Core.getStore().getters['chats/get'](dialogId, true);\n\n\t\tsendData({\n\t\t\tcategory: getCategoryByChatType(chat.type),\n\t\t\tevent: AnalyticsEvent.select,\n\t\t\tc_section: AnalyticsSection.chatWindow,\n\t\t\t...this.#getBaseParams(dialogId),\n\t\t});\n\t}\n\n\tonMark(dialogId: string): void\n\t{\n\t\tconst chat: ImModelChat = Core.getStore().getters['chats/get'](dialogId, true);\n\n\t\tsendData({\n\t\t\tcategory: getCategoryByChatType(chat.type),\n\t\t\tevent: AnalyticsEvent.seeLater,\n\t\t\tc_section: AnalyticsSection.chatWindow,\n\t\t\tc_element: AnalyticsElement.more,\n\t\t\t...this.#getBaseParams(dialogId),\n\t\t});\n\t}\n\n\tonReply(dialogId: string): void\n\t{\n\t\tconst chat: ImModelChat = Core.getStore().getters['chats/get'](dialogId, true);\n\n\t\tsendData({\n\t\t\tcategory: getCategoryByChatType(chat.type),\n\t\t\tevent: AnalyticsEvent.clickReply,\n\t\t\tc_section: AnalyticsSection.chatWindow,\n\t\t\t...this.#getBaseParams(dialogId),\n\t\t});\n\t}\n\n\tonAddFavorite({ dialogId, messageId }: {dialogId: string, messageId: string | number}): void\n\t{\n\t\tconst chat: ImModelChat = Core.getStore().getters['chats/get'](dialogId, true);\n\t\tconst message: ImModelMessage = Core.getStore().getters['messages/getById'](messageId);\n\t\tconst type = new MessageComponentManager(message).getName();\n\n\t\tsendData({\n\t\t\tcategory: getCategoryByChatType(chat.type),\n\t\t\tevent: AnalyticsEvent.addToFav,\n\t\t\ttype,\n\t\t\tc_section: AnalyticsSection.chatWindow,\n\t\t\tc_element: AnalyticsElement.more,\n\t\t\t...this.#getBaseParams(dialogId),\n\t\t});\n\t}\n\n\tonCreateEvent(dialogId: string): void\n\t{\n\t\tconst chat: ImModelChat = Core.getStore().getters['chats/get'](dialogId, true);\n\n\t\tsendData({\n\t\t\tcategory: getCategoryByChatType(chat.type),\n\t\t\tevent: AnalyticsEvent.clickCreateEvent,\n\t\t\tc_section: AnalyticsSection.chatWindow,\n\t\t\tc_element: AnalyticsElement.more,\n\t\t\t...this.#getBaseParams(dialogId),\n\t\t});\n\t}\n\n\tonCopyText({ dialogId, messageId }: {dialogId: string, messageId: string | number}): void\n\t{\n\t\tconst chat: ImModelChat = Core.getStore().getters['chats/get'](dialogId, true);\n\t\tconst message: ImModelMessage = Core.getStore().getters['messages/getById'](messageId);\n\t\tconst type = new MessageComponentManager(message).getName();\n\n\t\tif (chat.type === ChatType.copilot)\n\t\t{\n\t\t\tthis.#onCopyTextCopilot({\n\t\t\t\tdialogId,\n\t\t\t\tmessageId,\n\t\t\t});\n\n\t\t\treturn;\n\t\t}\n\n\t\tsendData({\n\t\t\tcategory: getCategoryByChatType(chat.type),\n\t\t\tevent: AnalyticsEvent.copyMessage,\n\t\t\ttype,\n\t\t\tc_section: AnalyticsSection.chatWindow,\n\t\t\t...this.#getBaseParams(dialogId),\n\t\t});\n\t}\n\n\tonPin(dialogId: string): void\n\t{\n\t\tthis.messagePins.onSendData({\n\t\t\tdialogId,\n\t\t\teventParams: {\n\t\t\t\tevent: AnalyticsEvent.pinMessage,\n\t\t\t\tc_section: AnalyticsSection.chatWindow,\n\t\t\t},\n\t\t});\n\t}\n\n\tonReachingPinsLimit(dialogId: string): void\n\t{\n\t\tthis.messagePins.onSendData({\n\t\t\tdialogId,\n\t\t\teventParams: {\n\t\t\t\tevent: AnalyticsEvent.pinnedMessageLimitException,\n\t\t\t\tc_section: AnalyticsSection.chatWindow,\n\t\t\t},\n\t\t});\n\t}\n\n\tonUnpin(dialogId: string): void\n\t{\n\t\tthis.messagePins.onUnpin({\n\t\t\tdialogId,\n\t\t\teventParams: {\n\t\t\t\tc_section: AnalyticsSection.chatWindow,\n\t\t\t},\n\t\t});\n\t}\n\n\tonForward(dialogId: string): void\n\t{\n\t\tthis.messageForward.onClickForward(dialogId);\n\t}\n\n\tonAskCopilot(dialogId: string): void\n\t{\n\t\tconst chat: ImModelChat = Core.getStore().getters['chats/get'](dialogId, true);\n\n\t\tsendData({\n\t\t\tcategory: getCategoryByChatType(chat.type),\n\t\t\tevent: AnalyticsEvent.askCopilot,\n\t\t\tc_section: AnalyticsSection.chatWindow,\n\t\t\t...this.#getBaseParams(dialogId),\n\t\t});\n\t}\n\n\t#onCopyTextCopilot({ dialogId, messageId }: {dialogId: string, messageId: string | number}): void\n\t{\n\t\tconst aiModel = Core.getStore().getters['copilot/chats/getAIModel'](dialogId);\n\t\tconst currentLayout = Core.getStore().getters['application/getLayout'].name;\n\t\tconst chat: ImModelChat = Core.getStore().getters['chats/get'](dialogId, true);\n\t\tconst message: ImModelMessage = Core.getStore().getters['messages/getById'](messageId);\n\t\tconst role = Core.getStore().getters['copilot/chats/getRole'](dialogId);\n\n\t\tconst type = new MessageComponentManager(message).getName();\n\n\t\tconst aiModelName = aiModel.name ?? aiModel;\n\n\t\tsendData({\n\t\t\tcategory: AnalyticsCategory.copilot,\n\t\t\tevent: AnalyticsEvent.copyMessage,\n\t\t\ttype,\n\t\t\tc_section: `${currentLayout}_tab`,\n\t\t\tp2: `provider_${aiModelName}`,\n\t\t\tp4: `role_${Text.toCamelCase(role.code)}`,\n\t\t\tp5: `chatId_${chat.chatId}`,\n\t\t\t...this.#getBaseParams(dialogId),\n\t\t});\n\t}\n\n\t#getFilesAmountParam(messageId: string | number): string\n\t{\n\t\tconst message: ImModelMessage = Core.getStore().getters['messages/getById'](messageId);\n\t\tif (message.files.length === 1)\n\t\t{\n\t\t\treturn AnalyticsAmountFilesType.single;\n\t\t}\n\n\t\treturn AnalyticsAmountFilesType.many;\n\t}\n\n\t#getAnalyticsFileType(messageId: string | number): $Values<typeof AnalyticsFileType>\n\t{\n\t\tconst message: ImModelMessage = Core.getStore().getters['messages/getById'](messageId);\n\t\tconst fileTypes = message.files.map((fileId) => {\n\t\t\treturn Core.getStore().getters['files/get'](fileId).type;\n\t\t});\n\n\t\tconst uniqueTypes = [...new Set(fileTypes)];\n\n\t\tif (uniqueTypes.length === 1)\n\t\t{\n\t\t\treturn uniqueTypes[0];\n\t\t}\n\n\t\tif (uniqueTypes.length === 2 && uniqueTypes.includes(FileType.image) && uniqueTypes.includes(FileType.video))\n\t\t{\n\t\t\treturn AnalyticsFileType.media;\n\t\t}\n\n\t\treturn AnalyticsFileType.any;\n\t}\n\n\t#getBaseParams(dialogId: string): JsonObject\n\t{\n\t\tconst chat: ImModelChat = Core.getStore().getters['chats/get'](dialogId, true);\n\n\t\treturn {\n\t\t\ttool: AnalyticsTool.im,\n\t\t\tc_sub_section: AnalyticsSubSection.contextMenu,\n\t\t\tp1: `chatType_${getChatType(chat)}`,\n\t\t};\n\t}\n}\n","import { AnalyticsSection } from '../const';\n\nexport class SliderInvite\n{\n\tgetEmptyStateContext(): string\n\t{\n\t\treturn AnalyticsSection.chatEmptyState;\n\t}\n\n\tgetRecentCreateMenuContext(): string\n\t{\n\t\treturn AnalyticsSection.chatCreateMenu;\n\t}\n}\n","import { Core } from 'im.v2.application.core';\nimport { sendData } from 'ui.analytics';\n\nimport { AnalyticsEvent, AnalyticsTool } from '../const';\nimport { getCategoryByChatType } from '../helpers/get-category-by-chat-type';\nimport { getChatType } from '../helpers/get-chat-type';\nimport { isNotes } from '../helpers/is-notes';\n\nimport type { ImModelChat } from 'im.v2.model';\n\nexport class ChatPins\n{\n\tonPin(dialogId: string): void\n\t{\n\t\tif (!isNotes(dialogId))\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tconst chat: ImModelChat = Core.getStore().getters['chats/get'](dialogId);\n\n\t\tconst params = {\n\t\t\ttool: AnalyticsTool.im,\n\t\t\tcategory: getCategoryByChatType(chat.type),\n\t\t\tevent: AnalyticsEvent.pinChat,\n\t\t\tp1: getChatType(chat),\n\t\t};\n\n\t\tsendData(params);\n\t}\n}\n","import { sendData } from 'ui.analytics';\n\nimport {\n\tAnalyticsCategory,\n\tAnalyticsTool,\n\tAnalyticsEvent,\n\tAnalyticsType,\n\tAnalyticsSection,\n} from '../const';\n\nexport class DesktopMode\n{\n\tonBannerShow()\n\t{\n\t\tsendData({\n\t\t\ttool: AnalyticsTool.im,\n\t\t\tcategory: AnalyticsCategory.messenger,\n\t\t\tevent: AnalyticsEvent.viewPopup,\n\t\t\ttype: AnalyticsType.selectAppMode,\n\t\t});\n\t}\n\n\tonBannerOneWindowEnable()\n\t{\n\t\tsendData(this.#buildModeEnableData(AnalyticsType.oneWindow, AnalyticsSection.popup));\n\t}\n\n\tonBannerTwoWindowEnable()\n\t{\n\t\tsendData(this.#buildModeEnableData(AnalyticsType.twoWindow, AnalyticsSection.popup));\n\t}\n\n\tonSettingsOneWindowEnable()\n\t{\n\t\tsendData(this.#buildModeEnableData(AnalyticsType.oneWindow, AnalyticsSection.settings));\n\t}\n\n\tonSettingsTwoWindowEnable()\n\t{\n\t\tsendData(this.#buildModeEnableData(AnalyticsType.twoWindow, AnalyticsSection.settings));\n\t}\n\n\t#buildModeEnableData(type: string, section: string): { [key: string]: string }\n\t{\n\t\treturn {\n\t\t\ttool: AnalyticsTool.im,\n\t\t\tcategory: AnalyticsCategory.messenger,\n\t\t\tevent: AnalyticsEvent.selectAppMode,\n\t\t\ttype,\n\t\t\tc_section: section,\n\t\t};\n\t}\n}\n","import { sendData } from 'ui.analytics';\n\nimport { Core } from 'im.v2.application.core';\n\nimport { AnalyticsTool, AnalyticsEvent, AnalyticsSection, AnalyticsSubSection } from '../const';\nimport { getCategoryByChatType } from '../helpers/get-category-by-chat-type';\n\nimport type { ImModelChat } from 'im.v2.model';\n\nexport class ChatInviteLink\n{\n\tonCopyMembersPanel(dialogId: string)\n\t{\n\t\tsendData(this.#buildAnalyticsData(dialogId, AnalyticsSubSection.membersPanel));\n\t}\n\n\tonCopyContextMenu(dialogId: string)\n\t{\n\t\tsendData(this.#buildAnalyticsData(dialogId, AnalyticsSubSection.contextMenu));\n\t}\n\n\t#buildAnalyticsData(dialogId: string, subSection: string): { [key: string]: string }\n\t{\n\t\tconst chat: ImModelChat = Core.getStore().getters['chats/get'](dialogId);\n\n\t\treturn {\n\t\t\ttool: AnalyticsTool.im,\n\t\t\tcategory: getCategoryByChatType(chat.type),\n\t\t\tevent: AnalyticsEvent.copyChatLink,\n\t\t\tc_section: AnalyticsSection.sidebar,\n\t\t\tc_sub_section: subSection,\n\t\t};\n\t}\n}\n","import { sendData } from 'ui.analytics';\n\nimport { Core } from 'im.v2.application.core';\n\nimport { getCategoryByChatType } from '../helpers/get-category-by-chat-type';\nimport { getChatType } from '../helpers/get-chat-type';\nimport { isAiAssistant } from '../helpers/is-ai-assistant';\nimport { getUserType } from '../helpers/get-user-type';\nimport {\n\tAI_ASSISTANT_CHAT_TYPE,\n\tAnalyticsCategory,\n\tAnalyticsEvent,\n\tAnalyticsTool,\n\tAnalyticsSection,\n} from '../const';\n\nimport type { ImModelChat } from 'im.v2.model';\n\nexport class AiAssistant\n{\n\tonOpenWidget(dialog: ImModelChat): void\n\t{\n\t\tconst chatType = getChatType(dialog);\n\n\t\tsendData({\n\t\t\ttool: AnalyticsTool.im,\n\t\t\tcategory: getCategoryByChatType(chatType),\n\t\t\tevent: AnalyticsEvent.openExisting,\n\t\t\ttype: chatType,\n\t\t\tc_section: AnalyticsSection.miniChat,\n\t\t\tp2: getUserType(),\n\t\t\tp5: `chatId_${dialog.chatId}`,\n\t\t});\n\t}\n\n\tonOpenChatAI(dialog: ImModelChat, fromWidget: boolean = false): void\n\t{\n\t\tconst currentLayout = Core.getStore().getters['application/getLayout'].name;\n\n\t\tsendData({\n\t\t\ttool: AnalyticsTool.ai,\n\t\t\tcategory: AnalyticsCategory.chatOperations,\n\t\t\tevent: AnalyticsEvent.openChat,\n\t\t\ttype: AI_ASSISTANT_CHAT_TYPE,\n\t\t\tc_section: fromWidget ? AnalyticsSection.miniChat : `${currentLayout}_tab`,\n\t\t\tp2: getUserType(),\n\t\t\tp3: `chatType_${getChatType(dialog)}`,\n\t\t\tp5: `chatId_${dialog.chatId}`,\n\t\t});\n\t}\n\n\tonUseAudioInput(dialogId: string): void\n\t{\n\t\tconst dialog = Core.getStore().getters['chats/get'](dialogId);\n\t\tconst currentLayout = Core.getStore().getters['application/getLayout'].name;\n\t\tif (!isAiAssistant(dialog.dialogId))\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tsendData({\n\t\t\tevent: AnalyticsEvent.audioUse,\n\t\t\ttool: AnalyticsTool.ai,\n\t\t\tcategory: AnalyticsCategory.chatOperations,\n\t\t\tc_section: `${currentLayout}_tab`,\n\t\t\tp3: AI_ASSISTANT_CHAT_TYPE,\n\t\t\tp5: `chatId_${dialog.chatId}`,\n\t\t});\n\t}\n\n\tonMcpIntegrationClick(): void\n\t{\n\t\tsendData({\n\t\t\ttool: AnalyticsTool.im,\n\t\t\tcategory: AnalyticsCategory.chat,\n\t\t\tevent: AnalyticsEvent.clickMcpIntegrations,\n\t\t\tc_section: AnalyticsSection.chatTextarea,\n\t\t\tp1: AI_ASSISTANT_CHAT_TYPE,\n\t\t});\n\t}\n}\n","import { sendData } from 'ui.analytics';\n\nimport { Core } from 'im.v2.application.core';\nimport { AudioPlaybackRate, TranscriptionStatus } from 'im.v2.const';\n\nimport { AnalyticsCategory, AnalyticsEvent, AnalyticsTool } from '../const';\nimport { getChatType } from '../helpers/get-chat-type';\n\nimport type { ImModelChat, ImModelFile } from 'im.v2.model';\nimport type { ExtendedChatType } from '../helpers/get-chat-type';\n\nexport class Player\n{\n\tonViewTranscription(fileId: number, status: $Values<typeof TranscriptionStatus>): void\n\t{\n\t\tconst file: ImModelFile = Core.getStore().getters['files/get'](fileId);\n\t\tconst chatType = this.#getTypeByChatId(file.chatId);\n\t\tconst category = this.#getCategoryByFileType(file);\n\t\tconst normalizedStatus = status.toLowerCase();\n\n\t\tsendData({\n\t\t\ttool: AnalyticsTool.im,\n\t\t\tcategory,\n\t\t\tevent: AnalyticsEvent.viewTranscription,\n\t\t\tstatus: normalizedStatus,\n\t\t\tp1: `chatType_${chatType}`,\n\t\t});\n\t}\n\n\tonPlay(fileId: number): void\n\t{\n\t\tconst file: ImModelFile = Core.getStore().getters['files/get'](fileId);\n\t\tconst chatType = this.#getTypeByChatId(file.chatId);\n\t\tconst category = this.#getCategoryByFileType(file);\n\n\t\tsendData({\n\t\t\ttool: AnalyticsTool.im,\n\t\t\tcategory,\n\t\t\tevent: AnalyticsEvent.play,\n\t\t\tp1: `chatType_${chatType}`,\n\t\t});\n\t}\n\n\tonPause(fileId: number): void\n\t{\n\t\tconst file: ImModelFile = Core.getStore().getters['files/get'](fileId);\n\t\tconst chatType = this.#getTypeByChatId(file.chatId);\n\t\tconst category = this.#getCategoryByFileType(file);\n\n\t\tsendData({\n\t\t\ttool: AnalyticsTool.im,\n\t\t\tcategory,\n\t\t\tevent: AnalyticsEvent.pause,\n\t\t\tp1: `chatType_${chatType}`,\n\t\t});\n\t}\n\n\tonChangeRate(chatId: number, rate: $Values<typeof AudioPlaybackRate>): void\n\t{\n\t\tconst chatType = this.#getTypeByChatId(chatId);\n\n\t\tsendData({\n\t\t\ttool: AnalyticsTool.im,\n\t\t\tcategory: AnalyticsCategory.audioMessage,\n\t\t\tevent: AnalyticsEvent.changeSpeed,\n\t\t\tp1: `chatType_${chatType}`,\n\t\t\tp2: `speed_${rate}`,\n\t\t});\n\t}\n\n\t#getTypeByChatId(chatId: number): ExtendedChatType\n\t{\n\t\tconst chat: ImModelChat = Core.getStore().getters['chats/getByChatId'](chatId);\n\n\t\treturn getChatType(chat);\n\t}\n\n\t#getCategoryByFileType(file: ImModelFile): $Values<typeof AnalyticsCategory>\n\t{\n\t\tif (file.isVideoNote)\n\t\t{\n\t\t\treturn AnalyticsCategory.videoMessage;\n\t\t}\n\n\t\treturn AnalyticsCategory.audioMessage;\n\t}\n}\n","import { sendData } from 'ui.analytics';\nimport {\n\tAnalyticsCategory,\n\tAnalyticsEvent,\n\tAnalyticsTool,\n\tNotificationEntryPoint,\n} from '../const';\n\nexport type NotificationUnsubscribeParams = {\n\tmoduleId: string,\n\toptionName: string\n}\n\nexport class Notification\n{\n\tonOpenFromQuickAccessPanel(): void\n\t{\n\t\tsendData({\n\t\t\ttool: AnalyticsTool.notification,\n\t\t\tcategory: AnalyticsCategory.notificationOperations,\n\t\t\tevent: AnalyticsEvent.notificationOpen,\n\t\t\tc_element: NotificationEntryPoint.quickAccessLabel,\n\t\t});\n\t}\n\n\tonUnsubscribeFromNotification(params: NotificationUnsubscribeParams): void\n\t{\n\t\tsendData({\n\t\t\ttool: AnalyticsTool.notification,\n\t\t\tcategory: AnalyticsCategory.notificationOperations,\n\t\t\tevent: AnalyticsEvent.notificationUnsubscribe,\n\t\t\tp1: params.moduleId,\n\t\t\tp2: params.optionName,\n\t\t});\n\t}\n}\n","import { Text } from 'main.core';\nimport { sendData } from 'ui.analytics';\n\nimport { ChatType, Layout, UserRole } from 'im.v2.const';\nimport { Core } from 'im.v2.application.core';\n\nimport { AnalyticsEvent, AnalyticsTool, AnalyticsCategory } from './const';\n\nimport { getCollabId } from './helpers/get-collab-id';\nimport { getUserType } from './helpers/get-user-type';\nimport { getCategoryByChatType } from './helpers/get-category-by-chat-type';\nimport { getChatType } from './helpers/get-chat-type';\nimport { isAiAssistant } from './helpers/is-ai-assistant';\nimport { isNotes } from './helpers/is-notes';\n\nimport { CollabEntities } from './classes/collab-entities';\nimport { ChatEntities } from './classes/chat-entities';\nimport { ChatDelete } from './classes/chat-delete';\nimport { MessageDelete } from './classes/message-delete';\nimport { HistoryLimit } from './classes/history-limit';\nimport { UserAdd } from './classes/user-add';\nimport { ChatEdit } from './classes/chat-edit';\nimport { ChatCreate } from './classes/chat-create';\nimport { Supervisor } from './classes/supervisor';\nimport { CheckIn } from './classes/check-in';\nimport { Copilot } from './classes/copilot';\nimport { AttachMenu } from './classes/attach-menu';\nimport { Vote } from './classes/vote-create';\nimport { MessagePins } from './classes/message-pins';\nimport { MessageForward } from './classes/message-forward';\nimport { MessageContextMenu } from './classes/message-context-menu';\nimport { SliderInvite } from './classes/slider-invite';\nimport { ChatPins } from './classes/chat-pins';\nimport { DesktopMode } from './classes/desktop-mode';\nimport { ChatInviteLink } from './classes/chat-invite-link';\nimport { AiAssistant } from './classes/ai-assistant';\nimport { Player } from './classes/player';\nimport { Notification } from './classes/notification';\n\nimport type { ImModelChat } from 'im.v2.model';\n\ntype DialogId = string;\n\nexport { CreateChatContext } from './const';\nexport { getCollabId } from './helpers/get-collab-id';\nexport { getUserType } from './helpers/get-user-type';\n\nexport class Analytics\n{\n\t#excludedChats: Set<DialogId> = new Set();\n\t#chatsWithTyping: Set<DialogId> = new Set();\n\t#currentTab: string = Layout.chat;\n\n\tchatCreate: ChatCreate = new ChatCreate();\n\tchatEdit: ChatEdit = new ChatEdit();\n\tchatDelete: ChatDelete = new ChatDelete();\n\tmessageDelete: MessageDelete = new MessageDelete();\n\thistoryLimit: HistoryLimit = new HistoryLimit();\n\tuserAdd: UserAdd = new UserAdd();\n\tcollabEntities: CollabEntities = new CollabEntities();\n\tchatEntities: ChatEntities = new ChatEntities();\n\tsupervisor: Supervisor = new Supervisor();\n\tcheckIn: CheckIn = new CheckIn();\n\tcopilot: Copilot = new Copilot();\n\tattachMenu: AttachMenu = new AttachMenu();\n\tvote: Vote = new Vote();\n\tmessagePins: MessagePins = new MessagePins();\n\tmessageForward: MessageForward = new MessageForward();\n\tmessageContextMenu: MessageContextMenu = new MessageContextMenu();\n\tsliderInvite: SliderInvite = new SliderInvite();\n\tchatPins: ChatPins = new ChatPins();\n\tdesktopMode: DesktopMode = new DesktopMode();\n\tchatInviteLink: ChatInviteLink = new ChatInviteLink();\n\taiAssistant: AiAssistant = new AiAssistant();\n\tplayer: Player = new Player();\n\tnotification: Notification = new Notification();\n\n\tstatic #instance: Analytics;\n\n\tstatic getInstance(): Analytics\n\t{\n\t\tif (!this.#instance)\n\t\t{\n\t\t\tthis.#instance = new this();\n\t\t}\n\n\t\treturn this.#instance;\n\t}\n\n\tignoreNextChatOpen(dialogId: string): void\n\t{\n\t\tthis.#excludedChats.add(dialogId);\n\t}\n\n\tonOpenTab(tabName: string): void\n\t{\n\t\tconst trackedTabs = [\n\t\t\tLayout.copilot,\n\t\t\tLayout.collab,\n\t\t\tLayout.channel,\n\t\t\tLayout.notification,\n\t\t\tLayout.settings,\n\t\t\tLayout.openlines,\n\t\t\tLayout.taskComments,\n\t\t];\n\n\t\tif (!trackedTabs.includes(tabName))\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.#currentTab === tabName)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tthis.#currentTab = tabName;\n\n\t\tsendData({\n\t\t\tevent: AnalyticsEvent.openTab,\n\t\t\ttool: AnalyticsTool.im,\n\t\t\tcategory: AnalyticsCategory.messenger,\n\t\t\ttype: tabName,\n\t\t\tp2: getUserType(),\n\t\t});\n\t}\n\n\tonOpenChat(dialog: ImModelChat): void\n\t{\n\t\tif (this.#excludedChats.has(dialog.dialogId))\n\t\t{\n\t\t\tthis.#excludedChats.delete(dialog.dialogId);\n\n\t\t\treturn;\n\t\t}\n\n\t\tthis.#chatsWithTyping.delete(dialog.dialogId);\n\t\tconst chatType = getChatType(dialog);\n\n\t\tif (chatType === ChatType.copilot)\n\t\t{\n\t\t\tthis.copilot.onOpenChat(dialog.dialogId);\n\t\t}\n\n\t\tif (isAiAssistant(dialog.dialogId))\n\t\t{\n\t\t\tthis.aiAssistant.onOpenChatAI(dialog);\n\t\t}\n\n\t\tconst currentLayout = Core.getStore().getters['application/getLayout'].name;\n\t\tconst isMember = dialog.role === UserRole.guest ? 'N' : 'Y';\n\n\t\tconst params = {\n\t\t\ttool: AnalyticsTool.im,\n\t\t\tcategory: getCategoryByChatType(chatType),\n\t\t\tevent: AnalyticsEvent.openExisting,\n\t\t\ttype: chatType,\n\t\t\tc_section: `${currentLayout}_tab`,\n\t\t\tp2: getUserType(),\n\t\t};\n\n\t\tif (!isNotes(dialog.dialogId))\n\t\t{\n\t\t\tparams.p5 = `chatId_${dialog.chatId}`;\n\t\t}\n\n\t\tif (chatType === ChatType.comment)\n\t\t{\n\t\t\tconst parentChat = Core.getStore().getters['chats/getByChatId'](dialog.parentChatId);\n\t\t\tparams.p1 = `chatType_${parentChat.type}`;\n\t\t\tparams.p4 = `parentChatId_${dialog.parentChatId}`;\n\t\t}\n\n\t\tif (chatType === ChatType.collab)\n\t\t{\n\t\t\tparams.p4 = getCollabId(dialog.chatId);\n\t\t}\n\n\t\tif (chatType !== ChatType.copilot)\n\t\t{\n\t\t\tparams.p3 = `isMember_${isMember}`;\n\t\t}\n\n\t\tif (chatType === ChatType.copilot)\n\t\t{\n\t\t\tconst role = Core.getStore().getters['copilot/chats/getRole'](dialog.dialogId);\n\t\t\tparams.p4 = `role_${Text.toCamelCase(role.code)}`;\n\t\t}\n\n\t\tsendData(params);\n\t}\n\n\tonTypeMessage(dialog: ImModelChat): void\n\t{\n\t\tif (!isNotes(dialog.dialogId) || this.#chatsWithTyping.has(dialog.dialogId))\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tthis.#chatsWithTyping.add(dialog.dialogId);\n\n\t\tconst chatType = getChatType(dialog);\n\n\t\tconst params = {\n\t\t\ttool: AnalyticsTool.im,\n\t\t\tcategory: getCategoryByChatType(chatType),\n\t\t\tevent: AnalyticsEvent.typeMessage,\n\t\t\tp1: `chatType_${chatType}`,\n\t\t};\n\n\t\tsendData(params);\n\t}\n}\n"],"names":["PSEUDO_CHAT_TYPE_FOR_NOTES","AI_ASSISTANT_CHAT_TYPE","CopilotChatType","Object","freeze","private","multiuser","AnalyticsEvent","openChat","createNewChat","audioUse","openTab","popupOpen","openPrices","openSettings","clickCreateNew","openExisting","typeMessage","pinChat","clickDelete","clickShare","cancelDelete","delete","view","click","clickEdit","submitEdit","clickCallButton","clickStartConf","clickJoin","clickAddUser","openCalendar","openTasks","openFiles","clickCreatePoll","clickCreateTask","clickCreateEvent","clickAttach","downloadFile","saveToDisk","pinMessage","unpinMessage","pinnedMessageLimitException","startSearch","selectRecipient","selectUser","openCreateMenu","clickUpdate","clickMoreInformation","goToWeb","copyMessage","clickReply","copyFile","copyLink","addToFav","seeLater","select","addFeedback","viewPopup","selectAppMode","copyChatLink","viewTranscription","play","pause","changeSpeed","askCopilot","modeOn","modeOff","clickMcpIntegrations","notificationOpen","notificationUnsubscribe","AnalyticsTool","ai","checkin","im","infoHelper","inform","notification","AnalyticsCategory","chatOperations","shift","messenger","chat","channel","videoconf","copilot","limit","limitBanner","toolOff","message","chatPopup","call","collab","updateAppPopup","audioMessage","videoMessage","notificationOperations","AnalyticsType","deletedMessage","limitOfficeChatingHistory","privateCall","groupCall","may25DesktopRelease","oneWindow","aiAssistant","think","AnalyticsSection","copilotTab","chatStart","chatHistory","sidebar","popup","activeChat","comments","chatHeader","chatSidebar","chatTextarea","editor","chatWindow","forward","userAdd","chatCreateMenu","chatEmptyState","settings","miniChat","AnalyticsSubSection","contextMenu","messageLink","chatList","window","membersPanel","AnalyticsElement","initialBanner","videocall","audiocall","startButton","more","AnalyticsStatus","success","errorTurnedOff","CreateChatContext","collabEmptyState","MessagePinsTypes","single","multiple","selected","NotificationEntryPoint","quickAccessLabel","getCollabId","chatId","collabInfo","Core","getStore","getters","collabId","AnalyticUserType","userIntranet","userExtranet","userCollaber","getUserType","user","getUserId","type","UserType","extranet","collaber","getCategoryByChatType","ChatType","openChannel","comment","generalChannel","isAiAssistant","dialogId","isNotes","CUSTOM_CHAT_TYPE","getChatType","chatTypeExists","values","includes","EntityToEventMap","CollabEntityType","tasks","calendar","files","CollabEntities","onClick","event","params","tool","category","c_section","p2","p5","p4","sendData","ChatEntities","onCreateTaskFromSidebarClick","section","onCreateTaskFromTextareaClick","onCreateEventFromSidebarClick","onCreateEventFromTextareaClick","onCreateVoteFromTextareaClick","p1","ChatDelete","c_sub_section","onCancel","onConfirm","onChatDeletedNotification","MessageDelete","onNotFoundNotification","onDeletedPostNotification","HistoryLimit","onDialogLimitExceeded","noMessages","sectionValue","dialog","chatType","onSidebarLimitExceeded","panel","c_element","onDialogBannerClick","onSidebarBannerClick","element","onGoToContextLimitExceeded","SidebarDetailBlock","main","file","fileUnsorted","audio","brief","document","media","messageSearch","favorite","link","task","meeting","SelectUserSource","recent","searchResult","UserAdd","onChatSidebarClick","onChatHeaderClick","onStartSearch","onClosePopup","onSelectUserFromRecent","position","source","onSelectUserFromSearchResult","p3","ChatEdit","onOpenForm","onSubmitForm","ChatCreate","onStartClick","currentLayout","name","onCollabEmptyStateCreateClick","onMenuCreateClick","Supervisor","onOpenPriceTable","featureId","onOpenToolsSettings","toolId","CheckIn","onOpenCheckInPopup","CopilotEntryPoint","create_menu","role_picker","Copilot","onCreateChat","onCreateDefaultChatInRecent","onSelectRoleInRecent","onOpenChat","copilotChatType","userCounter","onOpenTab","isAvailable","payload","status","onUseAudioInput","isCopilot","role","aiModel","aiModelName","Text","toCamelCase","code","onToggleReasoning","isReasoningEnabled","AttachMenu","onOpenUploadMenu","Vote","getSerializedParams","options","getAnalyticsOptions","queryParams","entries","map","optionName","optionValue","encodeURIComponent","join","parentChat","parentChatId","MessagePins","onUnpin","eventParams","onSendData","pinnedCount","length","SelectRecipientSource","notes","MessageForward","onClickForward","onSelectRecipientFromRecent","onSelectRecipientFromSearchResult","AnalyticsAmountFilesType","many","AnalyticsFileType","FileType","any","MessageContextMenu","messageForward","messagePins","onSendFeedback","onDelete","messageId","MessageComponentManager","getName","onCancelDelete","onFileDownload","onSaveOnDisk","onCopyLink","onCopyFile","fileId","onEdit","onCreateTask","onSelect","onMark","onReply","onAddFavorite","onCreateEvent","onCopyText","onPin","onReachingPinsLimit","onForward","onAskCopilot","fileTypes","uniqueTypes","Set","image","video","SliderInvite","getEmptyStateContext","getRecentCreateMenuContext","ChatPins","DesktopMode","onBannerShow","onBannerOneWindowEnable","onBannerTwoWindowEnable","twoWindow","onSettingsOneWindowEnable","onSettingsTwoWindowEnable","ChatInviteLink","onCopyMembersPanel","onCopyContextMenu","subSection","AiAssistant","onOpenWidget","onOpenChatAI","fromWidget","onMcpIntegrationClick","Player","onViewTranscription","normalizedStatus","toLowerCase","onPlay","onPause","onChangeRate","rate","isVideoNote","Notification","onOpenFromQuickAccessPanel","onUnsubscribeFromNotification","moduleId","Analytics","Layout","chatCreate","chatEdit","chatDelete","messageDelete","historyLimit","collabEntities","chatEntities","supervisor","checkIn","attachMenu","vote","messageContextMenu","sliderInvite","chatPins","desktopMode","chatInviteLink","player","getInstance","ignoreNextChatOpen","add","tabName","trackedTabs","openlines","taskComments","has","isMember","UserRole","guest","onTypeMessage"],"mappings":"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"}