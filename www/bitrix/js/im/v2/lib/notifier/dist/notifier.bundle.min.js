this.BX=this.BX||{};this.BX.Messenger=this.BX.Messenger||{};this.BX.Messenger.v2=this.BX.Messenger.v2||{};(function(e,E,_,o,I,s,t){"use strict";const R=(e,E)=>{BX.UI.Notification.Center.notify({content:e,...E})};const M=e=>{const{ex:{error:E}}=e;return E};const r={handleLoadError(e){if(e.code===I.ErrorCode.chat.notFound){this.onNotFoundError()}else if(e.code===I.ErrorCode.chat.accessDenied){this.onAccessDeniedError()}else if(e.code===I.ErrorCode.message.notFound){this.onContextMessageNotFoundError()}},handleLeaveError(e){var E;const _=M(e);const o={[I.ErrorCode.user.invitedFromStructure]:t.Loc.getMessage("IM_NOTIFIER_LEAVE_CHAT_STRUCTURE_ERROR"),default:t.Loc.getMessage("IM_NOTIFIER_LEAVE_CHAT_ERROR")};const s=(E=o[_])!=null?E:o.default;R(s)},handleUserKickError(e){var E;const _=M(e);const o={[I.ErrorCode.user.invitedFromStructure]:t.Loc.getMessage("IM_NOTIFIER_KICK_CHAT_STRUCTURE_ERROR"),default:t.Loc.getMessage("IM_NOTIFIER_KICK_CHAT_ERROR")};const s=(E=o[_])!=null?E:o.default;R(s)},onNotFoundError(){R(t.Loc.getMessage("IM_NOTIFIER_CHAT_ACCESS_ERROR"))},onAccessDeniedError(){R(t.Loc.getMessage("IM_NOTIFIER_CHAT_ACCESS_ERROR"))},onContextMessageNotFoundError(){R(t.Loc.getMessage("IM_NOTIFIER_CONTEXT_MESSAGE_NOT_FOUND_ERROR"))},onCreateError(){R(t.Loc.getMessage("IM_NOTIFIER_CHAT_CREATE_ERROR"))},onUpdateError(){R(t.Loc.getMessage("IM_NOTIFIER_CHAT_UPDATE_ERROR"))},onDeleteError(){R(t.Loc.getMessage("IM_NOTIFIER_CHAT_DELETE_ERROR"))},onRenameError(){R(t.Loc.getMessage("IM_NOTIFIER_CHAT_RENAME_ERROR"))},onMessagesPinLimitError(e){R(t.Loc.getMessage("IM_NOTIFIER_MESSAGES_PIN_LIMIT_ERROR",{"#MAX_PINS#":e}))}};const n={onCopyComplete(){R(t.Loc.getMessage("IM_NOTIFIER_MESSAGE_COPY_COMPLETE"))},onCopyLinkComplete(){R(t.Loc.getMessage("IM_NOTIFIER_MESSAGE_LINK_COPY_COMPLETE"))},onAddToFavoriteComplete(){R(t.Loc.getMessage("IM_NOTIFIER_MESSAGE_FAVORITE_ADD_COMPLETE"))},onForwardNotesComplete(e){const E=e.length>1?t.Loc.getMessage("IM_NOTIFIER_MESSAGE_FORWARD_NOTES_SEVERAL_MESSAGES_COMPLETE"):t.Loc.getMessage("IM_NOTIFIER_MESSAGE_FORWARD_NOTES_COMPLETE");const I=_.Core.getUserId().toString();const s={title:t.Loc.getMessage("IM_NOTIFIER_MESSAGE_FORWARD_NOTES_OPEN_COMPLETE"),events:{click:()=>{void o.Messenger.openChat(I)}}};R(E,{actions:[s]})},handleLoadContextError(e){if(e.code===I.ErrorCode.message.notFound){this.onNotFoundError()}},onNotFoundError(){R(t.Loc.getMessage("IM_NOTIFIER_CONTEXT_MESSAGE_NOT_FOUND_ERROR"))},onSelectLimitError(){R(t.Loc.getMessage("IM_NOTIFIER_MESSAGE_SELECT_LIMIT_ERROR"))}};const O={emptyName:"name",duplicateName:"ERROR_GROUP_NAME_EXISTS",urlInName:"ERROR_NAME_CONTAINS_URL",tasksNotEmpty:"TASKS_NOT_EMPTY",diskNotEmpty:"DISK_NOT_EMPTY",calendarNotEmpty:"CALENDAR_NOT_EMPTY"};const L=new Set([O.tasksNotEmpty,O.diskNotEmpty,O.calendarNotEmpty]);const T={onBeforeDelete(){R(t.Loc.getMessage("IM_NOTIFIER_COLLAB_DELETE_PROGRESS"))},onUpdateLinkComplete(){R(t.Loc.getMessage("IM_NOTIFIER_COLLAB_LINK_UPDATE_COMPLETE"))},handleCreateError(e){var E;const _={[O.emptyName]:t.Loc.getMessage("IM_NOTIFIER_COLLAB_EMPTY_NAME_ERROR"),[O.duplicateName]:t.Loc.getMessage("IM_NOTIFIER_COLLAB_DUPLICATE_NAME_ERROR"),[O.urlInName]:t.Loc.getMessage("IM_NOTIFIER_COLLAB_URL_IN_NAME_ERROR"),default:t.Loc.getMessage("IM_NOTIFIER_CHAT_CREATE_ERROR")};const o=(E=_[e.code])!=null?E:_.default;R(o)},handleUpdateError(e){var E;const _={[O.emptyName]:t.Loc.getMessage("IM_NOTIFIER_COLLAB_EMPTY_NAME_ERROR"),[O.duplicateName]:t.Loc.getMessage("IM_NOTIFIER_COLLAB_DUPLICATE_NAME_ERROR"),[O.urlInName]:t.Loc.getMessage("IM_NOTIFIER_COLLAB_URL_IN_NAME_ERROR"),default:t.Loc.getMessage("IM_NOTIFIER_CHAT_UPDATE_ERROR")};const o=(E=_[e.code])!=null?E:_.default;R(o)},handleDeleteError(e){if(L.has(e.code)){R(t.Loc.getMessage("IM_NOTIFIER_COLLAB_DELETE_ENTITIES_ERROR"));return}R(t.Loc.getMessage("IM_NOTIFIER_COLLAB_DELETE_ERROR"))},onLeaveError(){R(t.Loc.getMessage("IM_NOTIFIER_COLLAB_LEAVE_ERROR"))},onKickUserError(){R(t.Loc.getMessage("IM_NOTIFIER_COLLAB_KICK_ERROR"))},onCollaberNotAcceptInvitation(){R(t.Loc.getMessage("IM_NOTIFIER_COLLAB_COLLABER_NOT_ACCEPT_INVITATION"))},onCopyLinkError(){R(t.Loc.getMessage("IM_NOTIFIER_COLLAB_COPY_LINK_FORBIDDEN_ERROR"))}};const a={onDiskSaveComplete(e=true){if(e){R(t.Loc.getMessage("IM_NOTIFIER_FILE_DISK_SAVE_COMPLETE"));return}R(t.Loc.getMessage("IM_NOTIFIER_FILES_DISK_SAVE_COMPLETE"))},onCopyComplete(){R(t.Loc.getMessage("IM_NOTIFIER_FILE_COPY_COMPLETE"))},handleUploadError(e){if(e.getCode()===I.ErrorCode.file.maxFileSize){R(`${e.getMessage()}<br>${e.getDescription()}`)}}};const c={onResendComplete(){R(t.Loc.getMessage("IM_NOTIFIER_INVITE_RESEND_COMPLETE"),{autoHideDelay:2e3})},onCancelComplete(){R(t.Loc.getMessage("IM_NOTIFIER_INVITE_CANCEL_COMPLETE"),{autoHideDelay:2e3})}};const N={onCopyLinkComplete(){R(t.Loc.getMessage("IM_NOTIFIER_CONFERENCE_LINK_COPY_COMPLETE"))},onPasswordError(){R(t.Loc.getMessage("IM_NOTIFIER_CONFERENCE_PASSWORD_ERROR"))}};const C={onLinkPackComplete(){R(t.Loc.getMessage("IM_NOTIFIER_MESSAGE_STICKER_PACK_LINK_COMPLETE"))},handleLinkPackError(){R(t.Loc.getMessage("IM_NOTIFIER_MESSAGE_STICKER_PACK_LINK_ERROR"))},handleAddStickersError(){R(t.Loc.getMessage("IM_NOTIFIER_MESSAGE_STICKERS_LIMIT_ERROR"))},handleAddPackError(){R(t.Loc.getMessage("IM_NOTIFIER_MESSAGE_STICKER_PACK_LIMIT_ERROR"))},onCreatePackComplete(){R(t.Loc.getMessage("IM_NOTIFIER_MESSAGE_STICKER_PACK_CREATE_COMPLETE"))},onUpdatePackComplete(){R(t.Loc.getMessage("IM_NOTIFIER_MESSAGE_STICKER_PACK_UPDATE_COMPLETE"))},onRemovePackComplete(){R(t.Loc.getMessage("IM_NOTIFIER_MESSAGE_STICKER_PACK_REMOVE_COMPLETE"))}};const g={onVoteClosedError(){R(t.Loc.getMessage("IM_NOTIFIER_VOTE_CLOSED_ERROR"))}};const A={onRecognitionError(){R(t.Loc.getMessage("IM_NOTIFIER_AUDIO_INPUT_ERROR"))}};const i={onBackgroundFileSizeError(e){const{fileName:E,fileSizeLimit:_}=e;const o=t.Loc.getMessage("IM_NOTIFIER_CALL_BACKGROUND_FILE_SIZE_ERROR",{"#LIMIT#":_,"#FILE_NAME#":E});R(o)},onBackgroundUnsupportedError(e){const E=t.Loc.getMessage("IM_NOTIFIER_CALL_BACKGROUND_FILE_UNSUPPORTED_ERROR",{"#FILE_NAME#":e});R(E)}};const S={maxPinned:"MAX_PINNED_CHATS_ERROR"};const F=45;const l={handlePinError(e){var E;const _=t.Loc.getMessage("IM_NOTIFIER_RECENT_PIN_LIMIT_ERROR",{"#MAX_PINS#":F});const o={[S.maxPinned]:_,default:t.Loc.getMessage("IM_NOTIFIER_RECENT_PIN_DEFAULT_ERROR")};const I=(E=o[e.code])!=null?E:o.default;R(I)},onUnpinError(){R(t.Loc.getMessage("IM_NOTIFIER_RECENT_UNPIN_DEFAULT_ERROR"))}};const d={onSubscribeComplete(e){const E=t.Loc.getMessage("IM_NOTIFIER_SUBSCRIBE_COMPLETE",{"#TYPE#":e});R(E)},onUnsubscribeComplete(e,E){const _={autoHideDelay:5e3,actions:[{title:t.Loc.getMessage("IM_NOTIFICATIONS_ITEM_MENU_UNSUBSCRIBE_CANCEL"),events:{click:E}}]};const o=t.Loc.getMessage("IM_NOTIFIER_UNSUBSCRIBE_COMPLETE",{"#TYPE#":e});R(o,_)}};const P={chat:r,message:n,collab:T,file:a,invite:c,conference:N,support:g,speech:A,call:i,recent:l,notification:d,sticker:C,onCopyTextComplete(){R(t.Loc.getMessage("IM_NOTIFIER_TEXT_COPY_COMPLETE"))},onCopyLinkComplete(){R(t.Loc.getMessage("IM_NOTIFIER_LINK_COPY_COMPLETE"))},onDefaultError(){R(t.Loc.getMessage("IM_NOTIFIER_DEFAULT_ERROR"))},onCopyLinkError(){R(t.Loc.getMessage("IM_NOTIFIER_LINK_COPY_ERROR"))}};e.Notifier=P})(this.BX.Messenger.v2.Lib=this.BX.Messenger.v2.Lib||{},BX,BX.Messenger.v2.Application,BX.Messenger.v2.Lib,BX.Messenger.v2.Const,BX.Messenger.v2.Service,BX);
//# sourceMappingURL=notifier.bundle.map.js