{"version":3,"file":"textarea.bundle.map.js","names":["this","BX","Messenger","v2","exports","im_v2_lib_parser","im_v2_lib_quote","im_v2_lib_utils","main_core","main_core_events","EVENT_NAMESPACE","_observer","babelHelpers","classPrivateFieldLooseKey","_textareaHeight","_initObserver","ResizeManager","EventEmitter","constructor","super","Object","defineProperty","value","_initObserver2","writable","setEventNamespace","classPrivateFieldLooseBase","observeTextarea","element","observe","clientHeight","unobserveTextarea","unobserve","ResizeObserver","entries","forEach","entry","_entry$borderBoxSize","height","borderBoxSize","blockSize","Type","isNumber","emit","events","onHeightChange","newHeight","TAB","NEW_LINE","LETTER_CODE_PREFIX","Textarea","prepareInlineQuote","textarea","selectedText","slice","selectionStart","selectionEnd","quoteText","Parser","prepareQuote","textBefore","textAfter","Quote","addTab","newSelectionPosition","textWithTab","removeTab","previousSymbol","textWithoutTab","handleDecorationTag","decorationKey","replace","toLowerCase","LEFT_TAG","RIGHT_TAG","hasDecorationTag","startsWith","endsWith","removeDecorationTag","addDecorationTag","applyWrapping","decorationTagLength","length","newSelectionStart","newSelectionEnd","textInTagStart","textInTagEnd","textInTag","textWithoutTag","addNewLine","textWithNewLine","insertText","config","text","withNewLine","resultText","focus","preventScroll","insertMention","textToInsert","textToReplace","isMentionWithSymbol","addUrlTag","linkUrl","shouldHandleUrl","applyUrlWrapping","handlePasteUrl","event","_event$clipboardData","pastedLinkUrl","clipboardData","getData","preventDefault","isUrl","Utils","checkUrl","leftTag","rightTag","textWithTag","Lib","Event"],"sources":["textarea.bundle.js"],"mappings":"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","ignoreList":[]}