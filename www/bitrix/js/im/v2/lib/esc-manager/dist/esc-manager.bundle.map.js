{"version":3,"file":"esc-manager.bundle.map.js","names":["this","BX","Messenger","v2","exports","main_core","main_core_events","main_popup","main_sidepanel","im_v2_lib_utils","im_v2_lib_call","im_v2_application_core","im_v2_const","im_v2_lib_layout","im_v2_lib_slider","im_v2_lib_desktop","im_v2_lib_desktopApi","EscEventAction","Object","freeze","handled","ignored","_messengerContainer","babelHelpers","classPrivateFieldLooseKey","_emitter","_wasKeyDownHandled","_instance","_shouldIgnoreEscape","_isHandledBySubscriber","_handleActiveInput","_handleLayoutClear","_handleMessengerSliderClose","_handleDesktopAction","_onKeyUp","_onKeyDown","_switchToChatLayout","_isExternalSliderOpened","_handleChannelComments","EscManager","constructor","defineProperty","value","_handleChannelComments2","_isExternalSliderOpened2","_switchToChatLayout2","_onKeyDown2","_onKeyUp2","_handleDesktopAction2","_handleMessengerSliderClose2","_handleLayoutClear2","_handleActiveInput2","_isHandledBySubscriber2","_shouldIgnoreEscape2","writable","keyUpEventHandler","classPrivateFieldLooseBase","bind","keyDownEventHandler","getInstance","_babelHelpers$classPr","register","payload","messengerContainer","context","emitter","Event","document","unregister","unbind","handleEsc","hasVisibleCall","CallManager","isAnyPopupShown","PopupWindowManager","async","eventResult","emitAsync","EventType","key","onBeforeEscape","globalEventResult","EventEmitter","mergedEventResult","includes","activeElement","isMessengerFocused","contains","isInputFocused","matches","blur","layoutManager","LayoutManager","currentLayout","getLayout","isChatLayout","name","isChatLayoutEmptyState","entityId","clearCurrentLayoutEntityId","slider","MessengerSlider","getCurrent","isFocused","close","DesktopManager","isDesktop","DesktopApi","hideWindow","event","Utils","isCombination","UI","Viewer","Instance","isOpen","setLayout","Layout","chat","isEmbeddedMode","SidePanel","getOpenSlidersCount","areCommentsOpened","Core","getStore","getters","emit","dialog","closeComments","Lib","Main","Application","Const"],"sources":["esc-manager.bundle.js"],"mappings":"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","ignoreList":[]}