this.BX=this.BX||{};(function(t,e,n,i,o,s,a,r,l,u,c,d,p,T,m,_,N,E,h){"use strict";const O={TEXT:"TEXT",DROPDOWN:"DROPDOWN",TOGGLE:"TOGGLE"};const A={name:"ButtonText",components:{BIcon:E.BIcon},props:{id:{type:String,default:""},text:{type:String,default:""},iconLeft:{type:String,default:""},iconRight:{type:String,default:""},onclick:{type:Function,default:()=>{}}},emits:[],setup(){return{}},data(){return{}},mounted(){},updated(){},methods:{handleClickButton(){this.onclick()}},template:`\n\t\t<button\n\t\t\t:id="id"\n\t\t\tclass="ui-btn-part ui-btn-part_text"\n\t\t\t@click="handleClickButton"\n\t\t>\n\t\t\t<BIcon\n\t\t\t\tv-if="iconLeft"\n\t\t\t\tclass="ui-btn-part__img"\n\t\t\t\t:name="iconLeft"\n\t\t\t/>\n\t\t\t<span class="ui-btn-part__text">{{ text }}</span>\n\t\t\t<BIcon\n\t\t\t\tv-if="iconRight"\n\t\t\t\tclass="ui-btn-part__img"\n\t\t\t\t:name="iconRight"\n\t\t\t/>\n\t\t</button>\n\t`};const S={name:"ButtonDropdown",components:{BIcon:E.BIcon,BMenu:h.BMenu},props:{id:{type:String,default:""},isLoading:{type:Boolean,required:false},menuOptions:{type:_.MenuOptions,required:false,default:null}},emits:[],setup(){return{Outline:E.Outline}},data(){return{isMenuShown:false}},computed:{menuOptionsBound(){return{...this.menuOptions,className:"popup-window_for-button-split",bindElement:this.$refs.opener}}},mounted(){},updated(){},methods:{handleClickButton(){this.isMenuShown=!this.isMenuShown}},template:`\n\t\t<button\n\t\t\tref="opener"\n\t\t\t:id="id"\n\t\t\tclass="ui-btn-part ui-btn-part_dropdown ui-icon-set__scope"\n\t\t\t:class="{'ui-btn-part_loading': isLoading}"\n\t\t\t@click="handleClickButton"\n\t\t>\n\t\t\t<BMenu v-if="isMenuShown" :options="menuOptionsBound" @close="isMenuShown = false" />\n\t\t</button>\n\t`};const M={name:"ButtonPlaceholder",components:{},props:{id:{type:String,default:""},text:{type:String,default:""}},emits:[],setup(){return{}},data(){return{}},mounted(){},updated(){},methods:{},template:`\n\t\t<div class="ui-btn-part ui-btn-part_fallback">\n\t\t\t<p class="ui-btn-part__info" >Type unknown. Id: {{ id }}. Text: {{ text }}.</p>\n\t\t</div>\n\t`};const w={name:"UiButtonSplit",components:{ButtonText:A,ButtonDropdown:S,ButtonPlaceholder:M},props:{id:{type:String,default:""},size:{type:String,default:""},styleName:{type:String,default:""},wide:{type:Boolean,required:false},buttonParts:{type:Array,required:true,default:()=>[]}},emits:["click","menuOpen","menuClose"],data(){return{}},computed:{classSumm(){const t="--air";const e=this.styleName?" "+this.styleName:"";const n=this.size?" "+this.size:"";const i=this.wide?" --wide":"";const o=t+e+n+i;return o}},watch:{},created(){},mounted(){},unmounted(){},methods:{getButtonPartComponent(t){if(t.type===O.TEXT){return A}if(t.type===O.DROPDOWN){return S}if(t.type===O.TOGGLE){return M}return M}},template:`\n\t\t<ul\n\t\t\t:id="id"\n\t\t\tclass="ui-btn-split ui-btn-split_vue-tmp"\n\t\t\t:class="classSumm"\n\t\t>\n\t\t\t<li\n\t\t\t\tv-for="buttonPart in buttonParts"\n\t\t\t\t:key="buttonPart.id + buttonPart.type"\n\t\t\t\tclass="ui-btn-split__item"\n\t\t\t\t:class="{\n\t\t\t\t\t'ui-btn-split__item_no-divider': buttonPart.isNoNextDivider,\n\t\t\t\t}"\n\t\t\t>\n\t\t\t\t<component\n\t\t\t\t\t:is="getButtonPartComponent(buttonPart)"\n\t\t\t\t\t:key="buttonPart.id + buttonPart.type"\n\t\t\t\t\t:id="buttonPart.id"\n\t\t\t\t\t:ref="buttonPart.id"\n\t\t\t\t\t:icon-left="buttonPart.iconLeft"\n\t\t\t\t\t:icon-right="buttonPart.iconRight"\n\t\t\t\t\t:text="buttonPart.text"\n\t\t\t\t\t:menuOptions="buttonPart.menuOptions"\n\t\t\t\t\t:onclick="buttonPart.onClick"\n\t\t\t\t/>\n\t\t\t</li>\n\t\t</ul>\n\t`};const P={name:"UiButtonTextDropdown",components:{ButtonSplit:w},props:{id:{type:String,default:""},isLoading:{type:Boolean,required:false},text:{type:String,default:""},iconLeft:{type:String,default:""},iconRight:{type:String,default:""},size:{type:String,default:""},styleName:{type:String,default:""},wide:{type:Boolean,required:false},menuOptions:{type:_.MenuOptions,required:false,default:null}},emits:["click"],data(){return{}},computed:{buttonParts(){const t=[{id:this.id+"Text",type:O.TEXT,text:this.text,iconLeft:this.iconLeft,iconRight:this.iconRight,onClick:()=>this.$emit("click")},{id:this.id+"Dropdown",type:O.DROPDOWN,menuOptions:this.menuOptions}];return t}},watch:{},created(){},mounted(){},unmounted(){},methods:{},template:`\n\t\t<ButtonSplit\n\t\t\t:id="id"\n\t\t\t:size="size"\n\t\t\t:style-name="styleName"\n\t\t\t:wide="wide"\n\t\t\t:buttonParts="buttonParts"\n\t\t/>\n\t`};const B={components:{},props:{time:{type:Number,required:true},isHourShown:{type:Boolean,default:true},isMinuteShown:{type:Boolean,default:true},isSecondShown:{type:Boolean,default:true}},emits:[],setup(){return{}},data(){return{}},mounted(){},updated(){},methods:{convertMillisecondsToHrMinSec(t){const e=Math.floor(t/1e3);const n=Math.floor(e/3600);const i=Math.floor(e/60)-n*60;const o=e-i*60-n*3600;return{hours:n,minutes:i,seconds:o}},timeNumToDoubleDigitString(t){return t>9?String(t):("00"+t).slice(-2)}},template:`\n\t\t<p class="bui-clock">\n\t\t\t<span\n\t\t\t\tv-if="isHourShown"\n\t\t\t\tclass="bui-clock__value bui-clock__value_hours"\n\t\t\t>{{\n\t\t\t\ttimeNumToDoubleDigitString(convertMillisecondsToHrMinSec(time).hours)\n\t\t\t}}</span>\n\t\t\t<span\n          \t\tv-if="isMinuteShown"\n\t\t\t\tclass="bui-clock__value bui-clock__value_minutes"\n\t\t\t>{{\n\t\t\t\ttimeNumToDoubleDigitString(convertMillisecondsToHrMinSec(time).minutes)\n\t\t\t}}</span>\n\t\t\t<span\n\t\t\t\tv-if="isSecondShown"\n\t\t\t\tclass="bui-clock__value bui-clock__value_seconds"\n\t\t\t>{{\n\t\t\t\t\ttimeNumToDoubleDigitString(convertMillisecondsToHrMinSec(time).seconds)\n\t\t\t\t}}</span>\n\t\t</p>\n\t`};const D={name:"WorkStatusControlPanel",components:{UiButton:p.Button,UIButtonTextDropdown:P,BIcon:E.BIcon,Clock:B,BLine:T.BLine},provide(){return{}},props:{},setup(){return{ButtonSize:p.ButtonSize,Outline:E.Outline,Loc:m.Loc}},data(){return{dataId:"",workStatus:"",reportReq:"",canOpen:"",canOpenAndRelaunch:"",canEdit:"",reportOpening:false,timerWorkingDayValue:0,timerPauseValue:0,lastProcessedHour:-1}},computed:{titleText(){if(this.workStatus==="PAUSED"){return m.Loc.getMessage("TIMEMAN_WORK_STATUS_CONTROL_PANEL_STATUS_PAUSED")}if(this.workStatus==="CLOSED"){return this.canOpen==="OPEN"?m.Loc.getMessage("TIMEMAN_WORK_STATUS_CONTROL_PANEL_STATUS_NOT_STARTED"):m.Loc.getMessage("TIMEMAN_WORK_STATUS_CONTROL_PANEL_STATUS_CLOSED")}if(this.workStatus==="EXPIRED"){return m.Loc.getMessage("TIMEMAN_WORK_STATUS_CONTROL_PANEL_STATUS_NOT_CLOSED")}return m.Loc.getMessage("TIMEMAN_WORK_STATUS_CONTROL_PANEL_STATUS_STARTED")},isEditingAvailable(){return this.dataId&&this.canEdit==="Y"&&!(this.workStatus==="EXPIRED"&&this.reportReq!=="A")},isCustomTimeAvailable(){return this.canEdit&&this.workStatus!=="PAUSED"},styleForTimerProps(){if(this.workStatus==="PAUSED"){return{icon:null,status:"paused"}}if(this.workStatus==="EXPIRED"){return{icon:E.Outline.ALERT,status:"expired"}}return null},buttonStartProps(){const t="buttonStartDropdownAnchor";const e=m.Loc.getMessage("TIMEMAN_WORK_STATUS_CONTROL_PANEL_ACTION_START");const n=E.Outline.PLAY_L;const i={id:t,text:e,icon:n,onClick:async()=>{this.openDay(event)}};const o={id:t,text:e,icon:n,menuOptions:{id:"timeman-start-button-context-menu",items:[{title:m.Loc.getMessage("TIMEMAN_WORK_STATUS_CONTROL_PANEL_ACTION_START_SAME"),icon:E.Outline.PLAY_L,onClick:()=>{this.openDay(event)}},{title:m.Loc.getMessage("TIMEMAN_WORK_STATUS_CONTROL_PANEL_ACTION_START_DIFFERENT"),icon:E.Outline.EDIT_L,onClick:()=>{var e,n;const i=document.getElementById(t);if((e=window.BXTIMEMAN)!=null&&(n=e.WND)!=null&&n.CLOCKWND){window.BXTIMEMAN.WND.CLOCKWND.Clear();window.BXTIMEMAN.WND.CLOCKWND=null}window.BXTIMEMAN.WND.DATA.STATE="CLOSED";window.BXTIMEMAN.WND.PARENT.MAIN_BUTTON=i;window.BXTIMEMAN.WND.MAIN_BUTTON=i;window.BXTIMEMAN.WND.ShowClock()}}]},onClick:async()=>{this.openDay(event)}};return this.isCustomTimeAvailable?o:i},buttonPauseProps(){return{text:m.Loc.getMessage("TIMEMAN_WORK_STATUS_CONTROL_PANEL_ACTION_PAUSE"),icon:E.Outline.PAUSE_L,style:p.AirButtonStyle.OUTLINE_ACCENT_2,onClick:async()=>{window.BXTIMEMAN.WND.ACTIONS.PAUSE(event)}}},buttonContinueProps(){return{text:m.Loc.getMessage("TIMEMAN_WORK_STATUS_CONTROL_PANEL_ACTION_CONTINUE"),icon:E.Outline.PLAY_L,onClick:async()=>{window.BXTIMEMAN.WND.ACTIONS.REOPEN(event)}}},buttonStopProps(){const t="buttonStop";const e=this.workStatus==="OPENED"?p.AirButtonStyle.FILLED:p.AirButtonStyle.OUTLINE_ACCENT_2;const n=m.Loc.getMessage("TIMEMAN_WORK_STATUS_CONTROL_PANEL_ACTION_STOP");const i=E.Outline.POWER;const o={id:t,style:e,text:n,icon:i,onClick:async()=>{this.closeDay(event)}};const s={id:t,text:n,iconLeft:i,style:e,menuOptions:{id:"timeman-stop-button-context-menu",items:[{title:m.Loc.getMessage("TIMEMAN_WORK_STATUS_CONTROL_PANEL_ACTION_STOP_SAME"),icon:E.Outline.POWER,onClick:()=>{this.closeDay(event)}},{title:m.Loc.getMessage("TIMEMAN_WORK_STATUS_CONTROL_PANEL_ACTION_STOP_DIFFERENT"),icon:E.Outline.EDIT_L,onClick:()=>{var e,n;if((e=window.BXTIMEMAN)!=null&&(n=e.WND)!=null&&n.CLOCKWND){window.BXTIMEMAN.WND.CLOCKWND.Clear();window.BXTIMEMAN.WND.CLOCKWND=null}const i=window.document.getElementById(t);window.BXTIMEMAN.WND.PARENT.MAIN_BUTTON=i;window.BXTIMEMAN.WND.MAIN_BUTTON=i;window.BXTIMEMAN.WND.ShowClock()}}]},onClick:async()=>{this.closeDay(event)}};return this.isCustomTimeAvailable?s:o},buttonRestartProps(){return{text:m.Loc.getMessage("TIMEMAN_WORK_STATUS_CONTROL_PANEL_ACTION_RESTART"),icon:E.Outline.REFRESH,style:p.AirButtonStyle.OUTLINE_ACCENT_2,onClick:async()=>{window.BXTIMEMAN.WND.ACTIONS.REOPEN(event)}}},buttonFinishExpiredProps(){const t="buttonFinishExpired";return{id:t,text:m.Loc.getMessage("TIMEMAN_WORK_STATUS_CONTROL_PANEL_ACTION_FINISH_EXPIRED"),icon:E.Outline.ALERT_ACCENT,style:p.AirButtonStyle.TINTED_ALERT,onClick:async()=>{var e,n;if((e=window.BXTIMEMAN)!=null&&(n=e.WND)!=null&&n.CLOCKWND){window.BXTIMEMAN.WND.CLOCKWND.Clear();window.BXTIMEMAN.WND.CLOCKWND=null}const i=window.document.getElementById(t);window.BXTIMEMAN.WND.PARENT.MAIN_BUTTON=i;window.BXTIMEMAN.WND.MAIN_BUTTON=i;window.BXTIMEMAN.WND.ACTIONS.CLOSE(event)}}},actions(){const t=[];if(this.workStatus==="OPENED"){t.push(this.buttonPauseProps);t.push(this.buttonStopProps)}if(this.workStatus==="PAUSED"){t.push(this.buttonContinueProps);t.push(this.buttonStopProps)}if(this.workStatus==="CLOSED"){if(this.canOpen==="OPEN"){t.push(this.buttonStartProps)}else{t.push(this.buttonRestartProps)}}if(this.workStatus==="EXPIRED"){t.push(this.buttonFinishExpiredProps)}return t}},watch:{},mounted(){this.updateDayState();this.updateWorkingDayTimer();setInterval((()=>{this.updateWorkingDayTimer()}),1e3);d.EventEmitter.subscribe("onTimeManDataRecieved",this.handleTimemanDataRecieved);d.EventEmitter.subscribe("onPlannerDataRecieved",this.handleTimemanDataRecieved);d.EventEmitter.subscribe("onTimeManNeedRebuild",this.handleTimemanDataRecieved);d.EventEmitter.subscribe("onTopPanelCollapse",this.handleTimemanDataRecieved);d.EventEmitter.subscribe("onTimeManWindowBuild",this.handleTimemanDataRecieved);d.EventEmitter.subscribe("onTimemanInit",this.handleTimemanDataRecieved)},beforeUnmount(){},unmounted(){},methods:{convertMillisecondsToHrMinSec(t){const e=Math.ceil(t/1e3);const n=Math.floor(e/3600);const i=Math.floor(e/60)-n*60;const o=e-i*60-n*3600;return{hours:n,minutes:i,seconds:o}},timeNumToDoubleDigitString(t){return t>9?String(t):("00"+t).slice(-2)},getDataId(){return window.BXTIMEMAN.DATA.ID||""},getWorkStatus(){return window.BXTIMEMAN.DATA.STATE||""},getReportReq(){return window.BXTIMEMAN.DATA.REPORT_REQ||""},getCanOpen(){return window.BXTIMEMAN.DATA.CAN_OPEN||""},getCanOpenAndRelaunch(){return window.BXTIMEMAN.DATA.CAN_OPEN_AND_RELAUNCH||""},getCanEdit(){return window.BXTIMEMAN.DATA.CAN_EDIT||""},updateDayState(){this.dataId=this.getDataId();this.workStatus=this.getWorkStatus();this.reportReq=this.getReportReq();this.canOpen=this.getCanOpen();this.canOpenAndRelaunch=this.getCanOpenAndRelaunch();this.canEdit=this.getCanEdit()},updateDayStateIfNewHour(){const t=(new Date).getHours();if(t!==this.lastProcessedHour){window.BXTIMEMAN.Update();this.lastProcessedHour=t}},updateWorkingDayTimer(){const t=Date.now();const e={...window.BXTIMEMAN.DATA.INFO};const n=parseInt(e.DATE_START)*1e3;const i=parseInt(e.DATE_FINISH)*1e3;const o=parseInt(e.TIME_LEAKS)*1e3;const s=t-n;const a=i-n;const r=t-i;this.updateDayStateIfNewHour();if(this.workStatus==="CLOSED"){if(this.canOpen==="OPEN"){this.timerWorkingDayValue=0;this.timerPauseValue=0}else if(this.canOpen==="REOPEN"){this.timerWorkingDayValue=a-o;this.timerPauseValue=o}}else if(this.workStatus==="OPENED"){this.timerWorkingDayValue=s-o;this.timerPauseValue=o}else if(this.workStatus==="PAUSED"){this.timerWorkingDayValue=a-o;this.timerPauseValue=r+o}else if(this.workStatus==="EXPIRED"){this.timerWorkingDayValue=s-o;this.timerPauseValue=o}},openDay(t){window.BXTIMEMAN.WND.ACTIONS.OPEN(t)},closeDay(t){window.BXTIMEMAN.WND.ACTIONS.CLOSE(t)},handleTimemanDataRecieved(){this.updateDayState();this.updateWorkingDayTimer()},handleClickTimerEditorOpener(){window.BXTIMEMAN.WND.ShowEditVue(event.target)},handleClickTimemanOpener(){var t;if(this.reportOpening){return}if((t=window.BXTIMEMAN.WND)!=null&&t.isShown()){window.BXTIMEMAN.WND.Hide();return}else{this.reportOpening=true;window.BXTIMEMAN.setBindOptions({node:this.$refs.reportOpener,mode:"popup",popupOptions:{autoHide:true,angle:false,offsetTop:-40,closeByEsc:true,bindOptions:{forceBindPosition:true,forceTop:true,forceLeft:false},events:{onShow:()=>{this.reportOpening=false},onClose:()=>{},onDestroy:()=>{}},fixed:true}});window.BXTIMEMAN.Open()}},getControlButtonComponent(t){const e=Boolean(t.menuOptions);const n=e?P:p.Button;return n}},template:`\n\t\t<div class="tm-control-panel">\n\t\t\t<div class="tm-control-panel__info">\n\t\t\t\t<div\n\t\t\t\t\t:class="[\n\t\t\t\t\t\t'tm-control-panel__timer',\n\t\t\t\t\t\t'tm-timer',\n\t\t\t\t\t\tthis.styleForTimerProps?.status ? ('tm-timer_' + this.styleForTimerProps.status) : null,\n\t\t\t\t\t]"\n\t\t\t\t>\n\t\t\t\t\t<div\n\t\t\t\t\t\tv-if="this.styleForTimerProps?.icon"\n\t\t\t\t\t\tclass="tm-timer__visual"\n\t\t\t\t\t>\n\t\t\t\t\t\t<BIcon\n\t\t\t\t\t\t\tclass="tm-timer__visual-img"\n\t\t\t\t\t\t\t:name="this.styleForTimerProps.icon"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<p class="tm-timer__title">{{ this.titleText }}</p>\n\t\t\t\t\t<Clock\n\t\t\t\t\t\t:time="timerWorkingDayValue"\n\t\t\t\t\t/>\n\t\t\t\t\t<button\n\t\t\t\t\t\tv-if="isEditingAvailable"\n\t\t\t\t\t\tclass="tm-timer__editor-opener"\n\t\t\t\t\t\t@click="handleClickTimerEditorOpener"\n\t\t\t\t\t>\n\t\t\t\t\t\t<BIcon\n\t\t\t\t\t\t\tclass="tm-timer__editor-opener-img"\n\t\t\t\t\t\t\t:size="16"\n\t\t\t\t\t\t\t:name="Outline.EDIT_L"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t\t<div class="tm-control-panel__widget-opener-container">\n\t\t\t\t\t<span\n\t\t\t\t\t\tref="reportOpener"\n\t\t\t\t\t\tclass="tm-control-panel__widget-opener"\n\t\t\t\t\t\t:class="{'tm-control-panel__widget-opener_loading': reportOpening}"\n\t\t\t\t\t\t@click="this.handleClickTimemanOpener"\n\t\t\t\t\t>\n\x3c!--\t\t\t\t\t\t{{ Loc.getMessage('TIMEMAN_WORK_STATUS_CONTROL_PANEL_ACTION_OPEN_PLAN') }}--\x3e\n\t\t\t\t\t\t<BIcon\n\t\t\t\t\t\t\tclass="tm-control-panel__widget-opener-img"\n\t\t\t\t\t\t\t:size="22"\n\t\t\t\t\t\t\t:name="Outline.CHEVRON_RIGHT_L"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div\n\t\t\t\tv-if="Boolean(this.timerPauseValue)"\n\t\t\t\tclass="tm-control-panel__info tm-control-panel__info_pause"\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\t:class="[\n\t\t\t\t\t\t'tm-control-panel__timer',\n\t\t\t\t\t\t'tm-control-panel__timer_pause',\n\t\t\t\t\t\t'tm-timer',\n\t\t\t\t\t\tthis.styleForTimerProps?.status ? ('tm-timer_' + this.styleForTimerProps.status) : null,\n\t\t\t\t\t]"\n\t\t\t\t>\n\t\t\t\t\t<p class="tm-timer__title">{{ Loc.getMessage('TIMEMAN_WORK_STATUS_CONTROL_PANEL_NOTE_PAUSE_LENGTH') }}</p>\n\t\t\t\t\t<Clock\n\t\t\t\t\t\t:time="timerPauseValue"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<ul class="tm-control-panel__actions-list">\n\t\t\t\t<li\n\t\t\t\t\tv-for="action in this.actions"\n\t\t\t\t\t:key="action.text"\n\t\t\t\t\tclass="tm-control-panel__actions-item"\n\t\t\t\t>\n\t\t\t\t\t<component\n\t\t\t\t\t\t:is="getControlButtonComponent(action)"\n\t\t\t\t\t\t:key="\n\t\t\t\t\t\t\taction.style\n\t\t\t\t\t\t\t+ action.iconLeft\n\t\t\t\t\t\t\t+ action.icon\n\t\t\t\t\t\t\t+ action.text\n\t\t\t\t\t\t\t+ action.id\n\t\t\t\t\t\t"\n\t\t\t\t\t\tclass="tm-control-panel__action"\n\t\t\t\t\t\t:size="ButtonSize.MEDIUM"\n\t\t\t\t\t\t:wide="true"\n\t\t\t\t\t\t:id="action.id"\n\t\t\t\t\t\t:text="action.text"\n\t\t\t\t\t\t:style="action.style"\n\t\t\t\t\t\t:style-name="action.style"\n\t\t\t\t\t\t:icon-left="action.iconLeft"\n\t\t\t\t\t\t:left-icon="action.icon"\n\t\t\t\t\t\t:menuOptions="action.menuOptions"\n\t\t\t\t\t\t@click="action.onClick"\n\t\t\t\t\t/>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\t`};let b=t=>t,I,g;var C=babelHelpers.classPrivateFieldLooseKey("data");var L=babelHelpers.classPrivateFieldLooseKey("timemanInstantContainerNode");var f=babelHelpers.classPrivateFieldLooseKey("mountApplication");var y=babelHelpers.classPrivateFieldLooseKey("init");var v=babelHelpers.classPrivateFieldLooseKey("updateState");class R{constructor(){Object.defineProperty(this,v,{value:X});Object.defineProperty(this,y,{value:W});Object.defineProperty(this,f,{value:k});Object.defineProperty(this,C,{writable:true,value:{}});Object.defineProperty(this,L,{writable:true,value:void 0});const t=m.Extension.getSettings("timeman.work-status-control-panel");babelHelpers.classPrivateFieldLooseBase(this,C)[C].workReport=t.get("workReport");babelHelpers.classPrivateFieldLooseBase(this,C)[C].info=t.get("info");babelHelpers.classPrivateFieldLooseBase(this,C)[C].siteId=t.get("siteId");babelHelpers.classPrivateFieldLooseBase(this,L)[L]=m.Tag.render(I||(I=b`
			<div class="timeman-instant-container"></div>
		`));d.EventEmitter.subscribe("onTimemanInit",babelHelpers.classPrivateFieldLooseBase(this,y)[y].bind(this));d.EventEmitter.subscribe("onTimeManDataRecieved",babelHelpers.classPrivateFieldLooseBase(this,v)[v].bind(this));window.BX.timeman("bx_tm",babelHelpers.classPrivateFieldLooseBase(this,C)[C].info,babelHelpers.classPrivateFieldLooseBase(this,C)[C].siteId)}renderWorkStatusControlPanel(){event.stopPropagation();babelHelpers.classPrivateFieldLooseBase(this,f)[f](babelHelpers.classPrivateFieldLooseBase(this,L)[L]);return m.Tag.render(g||(g=b`
			${0}
		`),babelHelpers.classPrivateFieldLooseBase(this,L)[L])}}function k(t){const n=e.BitrixVue.createApp(D,{});n.mount(t)}function W(){window.BXTIMEMAN.initFormWeekly(babelHelpers.classPrivateFieldLooseBase(this,C)[C].workReport)}function X(t){const[e]=t.getCompatData();babelHelpers.classPrivateFieldLooseBase(this,C)[C].info=e}t.WorkStatusControlPanel=R})(this.BX.Timeman=this.BX.Timeman||{},BX.Vue3,BX,BX,BX,BX,BX,BX,BX,BX,BX,BX.Event,BX.Vue3.Components,BX.UI.System.Skeleton.Vue,BX,BX.Main,BX.UI,BX.UI.IconSet,BX.UI.System.Menu);
//# sourceMappingURL=work-status-control-panel.bundle.map.js