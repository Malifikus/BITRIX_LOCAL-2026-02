{"version":3,"file":"registry.bundle.js","sources":["../src/application/pay-system.js","../src/application/pay-system-info.js","../src/application/payment.js","../src/payment-system/payment-info/button.js","../src/payment-system/payment-info/pay-system-small-card.js","../src/payment-system/button.js","../src/payment-system/check.js","../src/payment-system/error-box.js","../src/payment-system/pay-system-list.js","../src/payment-system/pay-system-result.js","../src/payment-system/pay-system-row.js","../src/payment-system/payment-info.js","../src/payment-system/reset-panel.js","../src/payment-system/user-consent.js"],"sourcesContent":["import { ajax } from 'main.core';\nimport { BitrixVue } from 'ui.vue';\nimport { Settings } from 'sale.payment-pay.lib';\nimport { StageType } from 'sale.payment-pay.const';\nimport { MixinMethods } from 'sale.payment-pay.mixins.application';\nimport { UserConsent as UserConsentManager } from 'salescenter.payment-pay.user-consent';\nimport { BackendProvider } from 'salescenter.payment-pay.backend-provider';\n\nBitrixVue.component('salescenter-payment_pay-components-application-pay_system', {\n\tprops: {\n\t\toptions: Object,\n\t},\n\tmixins: [MixinMethods],\n\tdata()\n\t{\n\t\tconst settings = new Settings(this.options);\n\n\t\treturn {\n\t\t\tstageType: StageType,\n\t\t\tstages: this.prepareParamsStages(),\n\t\t\tstage: this.setStageType(),\n\t\t\tloading: false,\n\t\t\tpaymentProcess: this.prepareParamsPaymentProcess(settings),\n\t\t\tconsent: this.prepareUserConsentSettings(settings),\n\t\t\tisNeedPaymentViewerViewAction: settings.get('isNeedPaymentViewerViewAction'),\n\t\t};\n\t},\n\tcreated()\n\t{\n\t\tthis.initPayment();\n\t\tthis.initUserConsent();\n\t\tthis.subscribeToGlobalEvents();\n\t\tif (this.isNeedPaymentViewerViewAction)\n\t\t{\n\t\t\tajax.runComponentAction(\n\t\t\t\t'bitrix:salescenter.payment.pay',\n\t\t\t\t'paymentViewerView',\n\t\t\t\t{\n\t\t\t\t\tmode: 'class',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tfields: this.paymentProcess.backendProvider.options,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t);\n\t\t}\n\t},\n\tmethods: {\n\t\tinitUserConsent()\n\t\t{\n\t\t\tthis.userConsentManager = new UserConsentManager({\n\t\t\t\teventName: this.consent.eventName,\n\t\t\t\titems: this.consent.items,\n\t\t\t});\n\t\t},\n\t\tinitBackendProvider()\n\t\t{\n\t\t\tthis.backendProvider = new BackendProvider({\n\t\t\t\treturnUrl: this.paymentProcess.returnUrl,\n\t\t\t\torderId: this.paymentProcess.orderId,\n\t\t\t\tpaymentId: this.paymentProcess.paymentId,\n\t\t\t\taccessCode: this.paymentProcess.accessCode,\n\t\t\t});\n\t\t},\n\t\tstartPayment(paySystemId)\n\t\t{\n\t\t\tif (this.loading)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.userConsentManager.askUserToPerform(() => {\n\t\t\t\tthis.loading = true;\n\t\t\t\tthis.stages.paySystemList.selectedPaySystem = paySystemId;\n\t\t\t\tthis.backendProvider.paySystemId = paySystemId;\n\t\t\t\tthis.paymentProcess.start();\n\t\t\t});\n\t\t},\n\t\tprepareParamsStages()\n\t\t{\n\t\t\tconst settings = new Settings(this.options);\n\n\t\t\treturn {\n\t\t\t\tpaySystemList: {\n\t\t\t\t\tpaySystems: settings.get('app.paySystems', []),\n\t\t\t\t\tselectedPaySystem: null,\n\t\t\t\t\ttitle: settings.get('app.title'),\n\t\t\t\t},\n\t\t\t\tpaySystemErrors: {\n\t\t\t\t\terrors: [],\n\t\t\t\t},\n\t\t\t\tpaySystemResult: {\n\t\t\t\t\thtml: null,\n\t\t\t\t\tfields: null,\n\t\t\t\t},\n\t\t\t};\n\t\t},\n\t\tsetStageType()\n\t\t{\n\t\t\treturn StageType.list;\n\t\t},\n\t\tprepareUserConsentSettings(settings)\n\t\t{\n\t\t\treturn {\n\t\t\t\titems: settings.get('consent.items'),\n\t\t\t\ttitle: settings.get('consent.title'),\n\t\t\t\teventName: settings.get('consent.eventName'),\n\t\t\t\tcontainerId: settings.get('consent.containerId'),\n\t\t\t\tautoSave: settings.get('consent.autoSave'),\n\t\t\t\toriginatorId: settings.get('consent.originatorId'),\n\t\t\t\toriginId: settings.get('consent.originId'),\n\t\t\t};\n\t\t},\n\t},\n\t// language=Vue\n\ttemplate: `\n\t\t<div class=\"salescenter-payment-pay-app\">\n\t\t\t<salescenter-payment_pay-components-payment_system-pay_system_list\n\t\t\t\tv-if=\"stage === stageType.list\"\n\t\t\t\t:paySystems=\"stages.paySystemList.paySystems\"\n\t\t\t\t:selectedPaySystem=\"stages.paySystemList.selectedPaySystem\"\n\t\t\t\t:loading=\"loading\"\n\t\t\t\t:title=\"stages.paySystemList.title\"\n\t\t\t\t@start-payment=\"startPayment($event)\">\n\t\t\t\t<template v-slot:user-consent>\n\t\t\t\t\t<salescenter-payment_pay-components-payment_system-user_consent\n\t\t\t\t\t\t:items=\"consent.items\"\n\t\t\t\t\t\t:title=\"consent.title\"\n\t\t\t\t\t\t:submitEventName=\"consent.eventName\"\n\t\t\t\t\t\t:autoSave=\"consent.autoSave\"\n\t\t\t\t\t\t:originatorId=\"consent.originatorId\"\n\t\t\t\t\t\t:originId=\"consent.originId\"/>\n\t\t\t\t</template>\n\t\t\t</salescenter-payment_pay-components-payment_system-pay_system_list>\n\t\t\t<salescenter-payment_pay-components-payment_system-error_box\n\t\t\t\tv-if=\"stage === stageType.errors\"\n\t\t\t\t:errors=\"stages.paySystemErrors.errors\">\n\t\t\t\t<salescenter-payment_pay-components-payment_system-reset_panel @reset=\"resetView()\"/>\n\t\t\t</salescenter-payment_pay-components-payment_system-error_box>\n\t\t\t<salescenter-payment_pay-components-payment_system-pay_system_result\n\t\t\t\tv-if=\"stage === stageType.result\"\n\t\t\t\t:html=\"stages.paySystemResult.html\"\n\t\t\t\t:fields=\"stages.paySystemResult.fields\">\n\t\t\t\t<salescenter-payment_pay-components-payment_system-reset_panel @reset=\"resetView()\"/>\n\t\t\t</salescenter-payment_pay-components-payment_system-pay_system_result>\n\t\t</div>\n\t`,\n});\n","import {BitrixVue} from 'ui.vue';\n\nBitrixVue.component('salescenter-payment_pay-components-application-pay_system_info', {\n\tprops: {\n\t\tpaySystems: {\n\t\t\ttype: Array,\n\t\t\tdefault: [],\n\t\t\trequired: false,\n\t\t},\n\t},\n\tdata()\n\t{\n\t\treturn {\n\t\t\tselectedPaySystem: null,\n\t\t};\n\t},\n\tcomputed: {\n\t\tlocalize()\n\t\t{\n\t\t\treturn Object.freeze(\n\t\t\t\tBitrixVue.getFilteredPhrases('PAYMENT_PAY_PAYMENT_SYSTEM_COMPONENTS_')\n\t\t\t);\n\t\t},\n\t\tselectedName()\n\t\t{\n\t\t\treturn this.selectedPaySystem ? this.selectedPaySystem.NAME : '';\n\t\t},\n\t\tselectedDescription()\n\t\t{\n\t\t\treturn this.selectedPaySystem ? BX.util.htmlspecialchars(this.selectedPaySystem.DESCRIPTION) : '';\n\t\t}\n\t},\n\tmethods: {\n\t\tshowInfo(paySystem)\n\t\t{\n\t\t\tthis.selectedPaySystem = paySystem;\n\t\t},\n\t\tlogoStyle(paySystem)\n\t\t{\n\t\t\tconst defaultLogo = '/bitrix/js/salescenter/payment-pay/payment-method/images/default_logo.png';\n\t\t\tconst src = paySystem.LOGOTIP || defaultLogo;\n\n\t\t\treturn `background-image: url(\"${BX.util.htmlspecialchars(src)}\")`;\n\t\t},\n\t},\n\t// language=Vue\n\ttemplate: `\n\t\t<div>\n\t\t\t<div class=\"order-payment-method-list\">\n\t\t\t\t<slot>\n\t\t\t\t\t<div class=\"order-pay-method-item-container info-mode\" v-for=\"paySystem in paySystems\">\n\t\t\t\t\t\t<div class=\"order-pay-method-item-logo-block\">\n\t\t\t\t\t\t\t<div class=\"order-pay-method-logo\" :style=\"logoStyle(paySystem)\"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"order-pay-method-text-block\">\n\t\t\t\t\t\t\t<div class=\"order-pay-method-text\">{{ paySystem.NAME }}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"btn info-mode\" @click=\"showInfo(paySystem)\">{{ localize.PAYMENT_PAY_PAYMENT_SYSTEM_COMPONENTS_10 }}</div>\n\t\t\t\t\t</div>\n\t\t\t\t</slot>\n\t\t\t</div>\n\t\t\t<div class=\"order-payment-method-description\" v-if=\"selectedPaySystem\">\n\t\t\t\t<div class=\"order-payment-method-description-title\">{{ selectedName }}</div>\n\t\t\t\t<div class=\"order-payment-method-description-text\" v-html=\"selectedDescription\"></div>\n\t\t\t</div>\n\t\t</div>\n\t`,\n});","import { BitrixVue } from 'ui.vue';\nimport { Settings } from 'sale.payment-pay.lib';\nimport { StageType } from 'sale.payment-pay.const';\nimport { MixinMethods } from 'sale.payment-pay.mixins.application';\nimport { UserConsent as UserConsentManager } from 'salescenter.payment-pay.user-consent';\nimport { BackendProvider } from 'salescenter.payment-pay.backend-provider';\n\nBitrixVue.component('salescenter-payment_pay-components-application-payment', {\n\tprops: {\n\t\toptions: Object,\n\t},\n\tmixins: [MixinMethods],\n\tdata()\n\t{\n\t\tconst settings = new Settings(this.options);\n\n\t\treturn {\n\t\t\tstageType: StageType,\n\t\t\tstages: this.prepareParamsStages(),\n\t\t\tstage: this.setStageType(),\n\t\t\tloading: false,\n\t\t\tpaymentProcess: this.prepareParamsPaymentProcess(settings),\n\t\t\tconsent: this.prepareUserConsentSettings(settings),\n\t\t};\n\t},\n\tcreated()\n\t{\n\t\tthis.initPayment();\n\t\tthis.initUserConsent();\n\t\tthis.subscribeToGlobalEvents();\n\t},\n\tmethods: {\n\t\tinitUserConsent()\n\t\t{\n\t\t\tthis.userConsentManager = new UserConsentManager({\n\t\t\t\teventName: this.consent.eventName,\n\t\t\t\titems: this.consent.items,\n\t\t\t});\n\t\t},\n\t\tinitBackendProvider()\n\t\t{\n\t\t\tthis.backendProvider = new BackendProvider({\n\t\t\t\treturnUrl: this.paymentProcess.returnUrl,\n\t\t\t\torderId: this.paymentProcess.orderId,\n\t\t\t\tpaymentId: this.paymentProcess.paymentId,\n\t\t\t\taccessCode: this.paymentProcess.accessCode,\n\t\t\t});\n\t\t},\n\t\tstartPayment(paySystemId)\n\t\t{\n\t\t\tif (this.loading)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.userConsentManager.askUserToPerform(() => {\n\t\t\t\tthis.loading = true;\n\t\t\t\tthis.backendProvider.paySystemId = paySystemId;\n\t\t\t\tthis.paymentProcess.start();\n\t\t\t});\n\t\t},\n\t\tprepareParamsStages()\n\t\t{\n\t\t\tconst settings = new Settings(this.options);\n\n\t\t\treturn {\n\t\t\t\tpaymentInfo: {\n\t\t\t\t\tpaySystem: settings.get('app.paySystems', [])[0],\n\t\t\t\t\ttitle: settings.get('app.title'),\n\t\t\t\t\tsum: settings.get('payment.sumFormatted'),\n\t\t\t\t\tpaid: settings.get('payment.paid'),\n\t\t\t\t\tchecks: settings.get('payment.checks', []),\n\t\t\t\t},\n\t\t\t\tpaySystemErrors: {\n\t\t\t\t\terrors: [],\n\t\t\t\t},\n\t\t\t\tpaySystemResult: {\n\t\t\t\t\thtml: null,\n\t\t\t\t\tfields: null,\n\t\t\t\t},\n\t\t\t};\n\t\t},\n\t\tsetStageType()\n\t\t{\n\t\t\treturn StageType.paymentInfo;\n\t\t},\n\t\tprepareUserConsentSettings(settings)\n\t\t{\n\t\t\treturn {\n\t\t\t\titems: settings.get('consent.items'),\n\t\t\t\teventName: settings.get('consent.eventName'),\n\t\t\t\tcontainerId: settings.get('consent.containerId'),\n\t\t\t\tautoSave: settings.get('consent.autoSave'),\n\t\t\t\toriginatorId: settings.get('consent.originatorId'),\n\t\t\t\toriginId: settings.get('consent.originId'),\n\t\t\t};\n\t\t},\n\t},\n\t// language=Vue\n\ttemplate: `\n\t\t<div class=\"salescenter-payment-pay-app\">\n\t\t\t<salescenter-payment_pay-components-payment_system-payment_info\n\t\t\t\tv-if=\"stage === stageType.paymentInfo\"\n\t\t\t\t:paySystem=\"stages.paymentInfo.paySystem\"\n\t\t\t\t:title=\"stages.paymentInfo.title\"\n\t\t\t\t:sum=\"stages.paymentInfo.sum\"\n\t\t\t\t:paid=\"stages.paymentInfo.paid\"\n\t\t\t\t:loading=\"loading\"\n\t\t\t\t:checks=\"stages.paymentInfo.checks\"\n\t\t\t\t@start-payment=\"startPayment($event)\">\n\t\t\t\t<template v-slot:user-consent>\n\t\t\t\t\t<salescenter-payment_pay-components-payment_system-user_consent\n\t\t\t\t\t\t:items=\"consent.items\"\n\t\t\t\t\t\t:title=\"consent.title\"\n\t\t\t\t\t\t:submitEventName=\"consent.eventName\"\n\t\t\t\t\t\t:autoSave=\"consent.autoSave\"\n\t\t\t\t\t\t:originatorId=\"consent.originatorId\"\n\t\t\t\t\t\t:originId=\"consent.originId\"/>\n\t\t\t\t</template>\n\t\t\t</salescenter-payment_pay-components-payment_system-payment_info>\n\t\t\t<salescenter-payment_pay-components-payment_system-error_box\n\t\t\t\tv-if=\"stage === stageType.errors\"\n\t\t\t\t:errors=\"stages.paySystemErrors.errors\">\n\t\t\t\t<salescenter-payment_pay-components-payment_system-reset_panel @reset=\"resetView()\"/>\n\t\t\t</salescenter-payment_pay-components-payment_system-error_box>\n\t\t\t<salescenter-payment_pay-components-payment_system-pay_system_result\n\t\t\t\tv-if=\"stage === stageType.result\"\n\t\t\t\t:html=\"stages.paySystemResult.html\"\n\t\t\t\t:fields=\"stages.paySystemResult.fields\">\n\t\t\t\t<salescenter-payment_pay-components-payment_system-reset_panel @reset=\"resetView()\"/>\n\t\t\t</salescenter-payment_pay-components-payment_system-pay_system_result>\n\t\t</div>\n\t`,\n});\n","import { BitrixVue } from 'ui.vue';\nimport { MixinPaymentInfoButton } from 'sale.payment-pay.mixins.payment-system';\n\nBitrixVue.component('salescenter-payment_pay-components-payment_system-payment_info-button', {\n\tprops:\n\t{\n\t\tloading: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t\trequired: false,\n\t\t},\n\t},\n\tmixins:[MixinPaymentInfoButton],\n\tcomputed: {\n\t\tclasses()\n\t\t{\n\t\t\tconst classes = [\n\t\t\t\t'landing-block-node-button',\n\t\t\t\t'text-uppercase',\n\t\t\t\t'btn',\n\t\t\t\t'btn-xl',\n\t\t\t\t'pr-7',\n\t\t\t\t'pl-7',\n\t\t\t\t'u-btn-primary',\n\t\t\t\t'g-font-weight-700',\n\t\t\t\t'g-font-size-12',\n\t\t\t\t'g-rounded-50',\n\t\t\t];\n\n\t\t\tif (this.loading)\n\t\t\t{\n\t\t\t\tclasses.push('loading');\n\t\t\t}\n\n\t\t\treturn classes;\n\t\t},\n\t},\n\t// language=Vue\n\ttemplate: `\n\t\t<button :class=\"classes\" @click=\"onClick($event)\">\n\t\t\t<slot></slot>\n\t\t</button>\n\t`,\n});\n","import { BitrixVue } from 'ui.vue';\n\nBitrixVue.component('salescenter-payment_pay-components-payment_system-payment_info-pay_system_small_card', {\n\tprops: {\n\t\tlogo: String,\n\t\tname: String,\n\t},\n\ttemplate: `\n\t\t<div class=\"order-payment-operator\">\n\t\t\t<img :src=\"logo\" :alt=\"name\" v-if=\"logo\">\n\t\t\t<div class=\"order-payment-pay-system-name\" v-else>{{ name }}</div>\n\t\t</div>\n\t`,\n});","import { BitrixVue } from 'ui.vue';\nimport { MixinButton } from 'sale.payment-pay.mixins.payment-system';\n\nBitrixVue.component('salescenter-payment_pay-components-payment_system-button', {\n\tprops:\n\t{\n\t\tloading: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t\trequired: false,\n\t\t},\n\t},\n\tmixins: [MixinButton],\n\tcomputed: {\n\t\tclasses()\n\t\t{\n\t\t\treturn {\n\t\t\t\t'order-payment-method-item-button': true,\n\t\t\t\t'btn': true,\n\t\t\t\t'btn-primary': true,\n\t\t\t\t'rounded-pill': true,\n\t\t\t\t'pay-mode': true,\n\t\t\t\t'order-payment-loader': this.loading,\n\t\t\t};\n\t\t},\n\t\tbuttonClasses()\n\t\t{\n\t\t\treturn {\n\t\t\t\t'loading-button-text': this.loading,\n\t\t\t};\n\t\t},\n\t},\n\t// language=Vue\n\ttemplate: `\n\t\t<div :class=\"classes\" @click=\"onClick($event)\">\n\t\t\t<span :class=\"buttonClasses\"><slot></slot></span>\n\t\t</div>\n\t`,\n});\n","import { BitrixVue } from 'ui.vue';\nimport { MixinCheck } from 'sale.payment-pay.mixins.payment-system';\n\nBitrixVue.component('salescenter-payment_pay-components-payment_system-check', {\n\tprops:\n\t{\n\t\tstatus: {\n\t\t\ttype: String,\n\t\t\tdefault: '',\n\t\t\trequired: false,\n\t\t},\n\t\tlink: {\n\t\t\ttype: String,\n\t\t\tdefault: '',\n\t\t\trequired: false,\n\t\t},\n\t\ttitle: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tmixins:[MixinCheck],\n\t// language=Vue\n\ttemplate: `\n\t\t<div class=\"mb-2\" :class=\"{'check-print': processing}\">\n\t\t\t<a :href=\"link\" target=\"_blank\" class=\"check-link\" v-if=\"downloadable\">{{ title }}</a>\n\t\t\t<span v-else>{{ title }}</span>\n\t\t</div>\n\t`,\n});","import { BitrixVue } from 'ui.vue';\n\nBitrixVue.component('salescenter-payment_pay-components-payment_system-error_box', {\n\tprops:\n\t{\n\t\terrors: Array,\n\t},\n\tcomputed:\n\t{\n\t\tlocalize()\n\t\t{\n\t\t\treturn Object.freeze(\n\t\t\t\tBitrixVue.getFilteredPhrases('PAYMENT_PAY_PAYMENT_SYSTEM_COMPONENTS_')\n\t\t\t);\n\t\t},\n\t},\n\t// language=Vue\n\ttemplate: `\n\t\t<div>\n\t\t\t<div class=\"alert alert-danger\">\n\t\t\t\t<slot name=\"errors-header\">\n\t\t\t\t\t<div>{{ localize.PAYMENT_PAY_PAYMENT_SYSTEM_COMPONENTS_8 }}</div>\n\t\t\t\t</slot>\n\t\t\t\t<slot name=\"errors-footer\">\n\t\t\t\t\t<div>{{ localize.PAYMENT_PAY_PAYMENT_SYSTEM_COMPONENTS_9 }}</div>\n\t\t\t\t</slot>\n\t\t\t</div>\n\t\t\t<slot></slot>\n\t\t</div>\n\t`,\n});","import { BitrixVue } from 'ui.vue';\nimport { MixinPaySystemList } from 'sale.payment-pay.mixins.payment-system';\n\nBitrixVue.component('salescenter-payment_pay-components-payment_system-pay_system_list', {\n\tprops: {\n\t\tpaySystems: {\n\t\t\ttype: Array,\n\t\t\tdefault: [],\n\t\t\trequired: false,\n\t\t},\n\t\tselectedPaySystem: {\n\t\t\ttype: Number,\n\t\t\tdefault: null,\n\t\t\trequired: false,\n\t\t},\n\t\tloading: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t\trequired: false,\n\t\t},\n\t\ttitle: {\n\t\t\ttype: String,\n\t\t\tdefault: null,\n\t\t\trequired: false,\n\t\t},\n\t},\n\tmixins:[MixinPaySystemList],\n\t// language=Vue\n\ttemplate: `\n\t\t<div>\n\t\t\t<div class=\"page-section-title\" v-if=\"title\">{{ title }}</div>\n\t\t\t<div class=\"order-payment-method-list\">\n\t\t\t\t<slot>\n\t\t\t\t\t<salescenter-payment_pay-components-payment_system-pay_system_row \n\t\t\t\t\t\tv-for=\"paySystem in paySystems\"\n\t\t\t\t\t\t:loading=\"isItemLoading(paySystem.ID)\"\n\t\t\t\t\t\t:name=\"paySystem.NAME\"\n\t\t\t\t\t\t:logo=\"paySystem.LOGOTIP\"\n\t\t\t\t\t\t:id=\"paySystem.ID\"\n\t\t\t\t\t\t@click=\"startPayment($event)\"\n\t\t\t\t\t/>\n\t\t\t\t</slot>\n\t\t\t</div>\n            <slot name=\"user-consent\"></slot>\n\t\t</div>\n\t`,\n});","import { BitrixVue } from 'ui.vue';\n\nBitrixVue.component('salescenter-payment_pay-components-payment_system-pay_system_result', {\n\tprops:\n\t{\n\t\thtml: {\n\t\t\ttype: String,\n\t\t\tdefault: null,\n\t\t\trequired: false,\n\t\t},\n\t\tfields: {\n\t\t\ttype: Object,\n\t\t\tdefault: null,\n\t\t\trequired: false,\n\t\t},\n\t},\n\tcomputed:\n\t{\n\t\tlocalize()\n\t\t{\n\t\t\treturn Object.freeze(\n\t\t\t\tBitrixVue.getFilteredPhrases('PAYMENT_PAY_PAYMENT_SYSTEM_COMPONENTS_'))\n\t\t},\n\t},\n\tmounted()\n\t{\n\t\tif (this.html)\n\t\t{\n\t\t\tBX.html(this.$refs.paySystemResultTemplate, this.html);\n\t\t}\n\t},\n\t// language=Vue\n\ttemplate: `\n\t\t<div>\n\t\t\t<template v-if=\"html\">\n\t\t\t\t<div ref=\"paySystemResultTemplate\"></div>\n\t\t\t\t<slot></slot>\n\t\t\t</template>\n\t\t\t<template v-else>\n\t\t\t\t<div class=\"checkout-basket-section\">\n\t\t\t\t\t<div class=\"page-section-title\">{{ localize.PAYMENT_PAY_PAYMENT_SYSTEM_COMPONENTS_1 }}</div>\n\t\t\t\t\t<div class=\"checkout-basket-personal-order-info\" v-if=\"fields\">\n\t\t\t\t\t\t<div class=\"checkout-basket-personal-order-info-item\" v-if=\"fields.SUM_WITH_CURRENCY\">\n\t\t\t\t\t\t\t<span>{{ localize.PAYMENT_PAY_PAYMENT_SYSTEM_COMPONENTS_2 }}</span> <strong v-html=\"fields.SUM_WITH_CURRENCY\"></strong>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"checkout-basket-personal-order-info-item\" v-if=\"fields.PAY_SYSTEM_NAME\">\n\t\t\t\t\t\t\t<span>{{ localize.PAYMENT_PAY_PAYMENT_SYSTEM_COMPONENTS_3 }}</span> <strong>{{ fields.PAY_SYSTEM_NAME }}</strong>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<slot></slot>\n\t\t\t</template>\n\t\t</div>\n\t`,\n});\n","import { BitrixVue } from 'ui.vue';\nimport { MixinPaySystemRow } from 'sale.payment-pay.mixins.payment-system';\n\nBitrixVue.component('salescenter-payment_pay-components-payment_system-pay_system_row', {\n\tprops:\n\t{\n\t\tloading: Boolean,\n\t\tname: String,\n\t\tlogo: String,\n\t\tid: String|Number,\n\t},\n\tcomputed:\n\t{\n\t\tlocalize()\n\t\t{\n\t\t\treturn Object.freeze(\n\t\t\t\tBitrixVue.getFilteredPhrases('PAYMENT_PAY_PAYMENT_SYSTEM_COMPONENTS_')\n\t\t\t);\n\t\t},\n\t},\n\tmixins:[MixinPaySystemRow],\n\t// language=Vue\n\ttemplate: `\n\t\t<div class=\"order-pay-method-item-container pay-mode\" @click=\"onClick()\">\n\t\t\t<div class=\"order-pay-method-item-logo-block\">\n\t\t\t\t<div class=\"order-pay-method-logo\" :style=\"logoStyle\"></div>\n\t\t\t</div>\n\t\t\t<div class=\"order-pay-method-text-block\">\n\t\t\t\t<div class=\"order-pay-method-text\">{{ name }}</div>\n\t\t\t</div>\n\t\t\t<salescenter-payment_pay-components-payment_system-button :loading=\"loading\">\n\t\t\t\t{{ localize.PAYMENT_PAY_PAYMENT_SYSTEM_COMPONENTS_4 }}\n\t\t\t</salescenter-payment_pay-components-payment_system-button>\n\t\t</div>\n\t`,\n});\n","import { BitrixVue } from 'ui.vue';\nimport { MixinPaymentInfo } from 'sale.payment-pay.mixins.payment-system';\n\nBitrixVue.component('salescenter-payment_pay-components-payment_system-payment_info', {\n\tprops:\n\t{\n\t\tpaySystem: Object,\n\t\ttitle: String,\n\t\tsum: String,\n\t\tloading: Boolean,\n\t\tpaid: Boolean,\n\t\tchecks: Array,\n\t},\n\tcomputed:\n\t{\n\t\tlocalize()\n\t\t{\n\t\t\treturn Object.freeze(\n\t\t\t\tBitrixVue.getFilteredPhrases('PAYMENT_PAY_PAYMENT_SYSTEM_COMPONENTS_'),\n\t\t\t);\n\t\t},\n\t\ttotalSum()\n\t\t{\n\t\t\treturn this.localize.PAYMENT_PAY_PAYMENT_SYSTEM_COMPONENTS_11.replace('#SUM#', this.sum);\n\t\t},\n\t},\n\tmixins: [MixinPaymentInfo],\n\t// language=Vue\n\ttemplate: `\n\t\t<div>\n\t\t\t<div class=\"order-payment-title\" v-if=\"title\">{{ title }}</div>\n\t\t\t<div class=\"order-payment-inner d-flex flex-wrap align-items-center justify-content-between\">\n\t\t\t\t<salescenter-payment_pay-components-payment_system-payment_info-pay_system_small_card :name=\"paySystem.NAME\" :logo=\"paySystem.LOGOTIP\"/>\n\t\t\t\t<div class=\"order-payment-status d-flex align-items-center\" v-if=\"paid\">\n\t\t\t\t\t<div class=\"order-payment-status-ok\"></div>\n\t\t\t\t\t<div>{{ localize.PAYMENT_PAY_PAYMENT_SYSTEM_COMPONENTS_5 }}</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"order-payment-price\" v-html=\"totalSum\"></div>\n\t\t\t</div>\n\t\t\t<hr v-if=\"checks.length > 0\">\n\t\t\t<salescenter-payment_pay-components-payment_system-check \n\t\t\t\tv-for=\"check in checks\" \n\t\t\t\t:title=\"check.title\" \n\t\t\t\t:link=\"check.link\" \n\t\t\t\t:status=\"check.status\"/>\n\t\t\t<hr v-if=\"!paid\">\n\t\t\t<slot name=\"user-consent\" v-if=\"!paid\"></slot>\n\t\t\t<div class=\"order-payment-buttons-container\" v-if=\"!paid\">\n\t\t\t\t<salescenter-payment_pay-components-payment_system-payment_info-button\n\t\t\t\t\t:loading=\"loading\"\n\t\t\t\t\t@click=\"onClick()\">\n\t\t\t\t\t{{ localize.PAYMENT_PAY_PAYMENT_SYSTEM_COMPONENTS_4 }}\n\t\t\t\t</salescenter-payment_pay-components-payment_system-payment_info-button>\n\t\t\t</div>\n\t\t</div>\n\t`,\n});\n","import { BitrixVue } from 'ui.vue';\nimport { MixinResetPanel } from 'sale.payment-pay.mixins.payment-system';\n\nBitrixVue.component('salescenter-payment_pay-components-payment_system-reset_panel', {\n\tmixins:[MixinResetPanel],\n\tcomputed:\n\t{\n\t\tlocalize()\n\t\t{\n\t\t\treturn Object.freeze(\n\t\t\t\tBitrixVue.getFilteredPhrases('PAYMENT_PAY_PAYMENT_SYSTEM_COMPONENTS_')\n\t\t\t);\n\t\t},\n\t},\n\t// language=Vue\n\ttemplate: `\n\t\t<div class=\"order-payment-buttons-container\">\n\t\t\t<div class=\"order-basket-section-description py-3\">\n\t\t\t\t{{ localize.PAYMENT_PAY_PAYMENT_SYSTEM_COMPONENTS_6 }}\n\t\t\t</div>\n\t\t\t<div class=\"order-basket-section-another-payment-button\">\n\t\t\t\t<salescenter-payment_pay-components-payment_system-button @click=\"reset()\">\n\t\t\t\t\t{{ localize.PAYMENT_PAY_PAYMENT_SYSTEM_COMPONENTS_7 }}\n\t\t\t\t</salescenter-payment_pay-components-payment_system-button>\n\t\t\t</div>\n\t\t</div>\t\n\t`,\n});\n","import { ajax, Tag, Type } from 'main.core';\nimport { EventEmitter } from 'main.core.events';\nimport { EventType } from 'sale.payment-pay.const';\nimport { BitrixVue } from 'ui.vue';\n\nBitrixVue.component('salescenter-payment_pay-components-payment_system-user_consent', {\n\tprops: {\n\t\titems: {\n\t\t\ttype: Array,\n\t\t\trequired: true,\n\t\t},\n\t\ttitle: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\tsubmitEventName: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\tautoSave: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t\trequired: false,\n\t\t},\n\t\toriginatorId: {\n\t\t\ttype: String,\n\t\t\tdefault: '',\n\t\t\trequired: false,\n\t\t},\n\t\toriginId: {\n\t\t\ttype: String,\n\t\t\tdefault: '',\n\t\t\trequired: false,\n\t\t},\n\t},\n\tmounted() {\n\t\tthis.loadBlockHtml();\n\t},\n\tmethods: {\n\t\tloadBlockHtml() {\n\t\t\tif (this.items.length === 0)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst data = {\n\t\t\t\tfields: {\n\t\t\t\t\titems: this.items,\n\t\t\t\t\tid: this.id,\n\t\t\t\t\ttitle: this.title,\n\t\t\t\t\tisChecked: this.checked ? 'Y' : 'N',\n\t\t\t\t\tsubmitEventName: this.submitEventName,\n\t\t\t\t\tautoSave: this.autoSave ? 'Y' : 'N',\n\t\t\t\t\toriginatorId: this.originatorId,\n\t\t\t\t\toriginId: this.originId,\n\t\t\t\t},\n\t\t\t};\n\n\t\t\tajax.runComponentAction(\n\t\t\t\t'bitrix:salescenter.payment.pay',\n\t\t\t\t'userConsentRequest',\n\t\t\t\t{\n\t\t\t\t\tmode: 'ajax',\n\t\t\t\t\tdata,\n\t\t\t\t},\n\t\t\t).then((response) => {\n\t\t\t\tif (!Type.isPlainObject(response.data) || !Type.isStringFilled(response.data.html) || !BX.UserConsent)\n\t\t\t\t{\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst html = response.data.html;\n\t\t\t\tconst wrapper = this.$refs.consentDiv;\n\t\t\t\twrapper.appendChild(Tag.render`<div>${html}</div>`);\n\t\t\t\tBX.UserConsent.loadAll(wrapper);\n\t\t\t\tconst controls = BX.UserConsent.getItems();\n\t\t\t\tcontrols.forEach((control) => {\n\t\t\t\t\tEventEmitter.subscribe(control, BX.UserConsent.events.afterAccepted, (event) => {\n\t\t\t\t\t\tEventEmitter.emit(EventType.consent.accepted, event);\n\t\t\t\t\t});\n\t\t\t\t\tEventEmitter.subscribe(control, BX.UserConsent.events.refused, (event) => {\n\t\t\t\t\t\tEventEmitter.emit(EventType.consent.refused, event);\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t},\n\t// language=Vue\n\ttemplate: `\n\t\t<div class=\"salescenter-user-consent-list\">\n\t\t\t<div ref=\"consentDiv\"/>\n\t\t</div>\n\t`,\n});\n"],"names":["BitrixVue","component","props","options","Object","mixins","MixinMethods","data","settings","Settings","stageType","StageType","stages","prepareParamsStages","stage","setStageType","loading","paymentProcess","prepareParamsPaymentProcess","consent","prepareUserConsentSettings","isNeedPaymentViewerViewAction","get","created","initPayment","initUserConsent","subscribeToGlobalEvents","ajax","runComponentAction","mode","fields","backendProvider","methods","userConsentManager","UserConsentManager","eventName","items","initBackendProvider","BackendProvider","returnUrl","orderId","paymentId","accessCode","startPayment","paySystemId","askUserToPerform","paySystemList","selectedPaySystem","start","paySystems","title","paySystemErrors","errors","paySystemResult","html","list","containerId","autoSave","originatorId","originId","template","type","Array","required","computed","localize","freeze","getFilteredPhrases","selectedName","NAME","selectedDescription","BX","util","htmlspecialchars","DESCRIPTION","showInfo","paySystem","logoStyle","defaultLogo","src","LOGOTIP","paymentInfo","sum","paid","checks","Boolean","MixinPaymentInfoButton","classes","push","logo","String","name","MixinButton","buttonClasses","status","link","MixinCheck","Number","MixinPaySystemList","mounted","$refs","paySystemResultTemplate","id","MixinPaySystemRow","totalSum","PAYMENT_PAY_PAYMENT_SYSTEM_COMPONENTS_11","replace","MixinPaymentInfo","MixinResetPanel","submitEventName","loadBlockHtml","length","isChecked","checked","then","response","Type","isPlainObject","isStringFilled","UserConsent","wrapper","consentDiv","appendChild","Tag","render","loadAll","controls","getItems","forEach","control","EventEmitter","subscribe","events","afterAccepted","event","emit","EventType","accepted","refused"],"mappings":"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"}